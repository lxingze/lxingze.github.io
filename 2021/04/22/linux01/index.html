<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Linux三剑客grep、sed、awk的使用 | 生信技术</title><meta name="keywords" content="教程,Linux,awk,grep,sed"><meta name="author" content="李星泽,lixingzee@gmail.com"><meta name="copyright" content="李星泽"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="description" content="Linux正则表达式 正则表达式：Regual Expression, REGEXP 由一类特殊字符及文本字符所编写的模式，其中有些字符不表示其字面意义，而是用于表示控制或通配的功能； 分两类： 基本正则表达式：BRE 扩展正则表达式：ERE  正则表达式的意义  处理大量的字符串 处理文本 通过特殊符号的辅助，可以让linux管理员快速过滤、替换、处理所需要的字符串、文本，让工作高效。   通常">
<meta property="og:type" content="article">
<meta property="og:title" content="Linux三剑客grep、sed、awk的使用">
<meta property="og:url" content="http://lxz9.com/2021/04/22/linux01/index.html">
<meta property="og:site_name" content="生信技术">
<meta property="og:description" content="Linux正则表达式 正则表达式：Regual Expression, REGEXP 由一类特殊字符及文本字符所编写的模式，其中有些字符不表示其字面意义，而是用于表示控制或通配的功能； 分两类： 基本正则表达式：BRE 扩展正则表达式：ERE  正则表达式的意义  处理大量的字符串 处理文本 通过特殊符号的辅助，可以让linux管理员快速过滤、替换、处理所需要的字符串、文本，让工作高效。   通常">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://z3.ax1x.com/2021/04/03/cuAW2q.jpg">
<meta property="article:published_time" content="2021-04-22T12:00:00.000Z">
<meta property="article:modified_time" content="2021-04-22T12:59:40.000Z">
<meta property="article:author" content="李星泽">
<meta property="article:tag" content="教程">
<meta property="article:tag" content="Linux">
<meta property="article:tag" content="awk">
<meta property="article:tag" content="grep">
<meta property="article:tag" content="sed">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://z3.ax1x.com/2021/04/03/cuAW2q.jpg"><link rel="shortcut icon" href="https://z3.ax1x.com/2021/02/09/yawIzV.png"><link rel="canonical" href="http://lxz9.com/2021/04/22/linux01/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//www.google-analytics.com" crossorigin=""/><link rel="preconnect" href="//hm.baidu.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="preconnect" href="//zz.bdstatic.com"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?72a556f842c8990127f397d4e0c54f2c";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-QRG4NL4207"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-QRG4NL4207');
</script><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'mediumZoom',
  Snackbar: undefined,
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
};

var saveToLocal = {
  set: function setWithExpiry(key, value, ttl) {
    const now = new Date()
    const expiryDay = ttl * 86400000
    const item = {
      value: value,
      expiry: now.getTime() + expiryDay,
    }
    localStorage.setItem(key, JSON.stringify(item))
  },

  get: function getWithExpiry(key) {
    const itemStr = localStorage.getItem(key)

    if (!itemStr) {
      return undefined
    }
    const item = JSON.parse(itemStr)
    const now = new Date()

    if (now.getTime() > item.expiry) {
      localStorage.removeItem(key)
      return undefined
    }
    return item.value
  }
}

// https://stackoverflow.com/questions/16839698/jquery-getscript-alternative-in-native-javascript
const getScript = url => new Promise((resolve, reject) => {
  const script = document.createElement('script')
  script.src = url
  script.async = true
  script.onerror = reject
  script.onload = script.onreadystatechange = function() {
    const loadState = this.readyState
    if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
    script.onload = script.onreadystatechange = null
    resolve()
  }
  document.head.appendChild(script)
})</script><script id="config_change">var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2021-04-22 20:59:40'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(function () {  window.activateDarkMode = function () {
    document.documentElement.setAttribute('data-theme', 'dark')
    if (document.querySelector('meta[name="theme-color"]') !== null) {
      document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
    }
  }
  window.activateLightMode = function () {
    document.documentElement.setAttribute('data-theme', 'light')
   if (document.querySelector('meta[name="theme-color"]') !== null) {
      document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
    }
  }
  const autoChangeMode = 'false'
  const t = saveToLocal.get('theme')
  if (autoChangeMode === '1') {
    const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
    const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
    const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
    const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified
    if (t === undefined) {
      if (isLightMode) activateLightMode()
      else if (isDarkMode) activateDarkMode()
      else if (isNotSpecified || hasNoSupport) {
        const now = new Date()
        const hour = now.getHours()
        const isNight = hour <= 6 || hour >= 18
        isNight ? activateDarkMode() : activateLightMode()
      }
      window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
        if (saveToLocal.get('theme') === undefined) {
          e.matches ? activateDarkMode() : activateLightMode()
        }
      })
    } else if (t === 'light') activateLightMode()
    else activateDarkMode()
  } else if (autoChangeMode === '2') {
    const now = new Date()
    const hour = now.getHours()
    const isNight = hour <= 6 || hour >= 18
    if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
    else if (t === 'light') activateLightMode()
    else activateDarkMode()
  } else {
    if (t === 'dark') activateDarkMode()
    else if (t === 'light') activateLightMode()
  }const asideStatus = saveToLocal.get('aside-status')
if (asideStatus !== undefined) {
   if (asideStatus === 'hide') {
     document.documentElement.classList.add('hide-aside')
   } else {
     document.documentElement.classList.remove('hide-aside')
   }
}})()</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"  media="defer" onload="this.media='all'"><meting-js server='tencent' type='playlist' id='2134037073' fixed='true'></meting-js><style>#article-container.post-content h1:before, h2:before, h3:before, h4:before, h5:before, h6:before { -webkit-animation: avatar_turn_around 1s linear infinite; -moz-animation: avatar_turn_around 1s linear infinite; -o-animation: avatar_turn_around 1s linear infinite; -ms-animation: avatar_turn_around 1s linear infinite; animation: avatar_turn_around 1s linear infinite; }</style><link rel="stylesheet" href="/css/iconfont.css"><link rel="stylesheet" href="/css/background.css"><link rel="stylesheet" href="/css/lxz9.css"><link rel="stylesheet" href="/css/icon.css" media="defer" onload="this.media='all'"><link rel="stylesheet" type="text/css" href="/css/heoMainColor.css"><link rel="stylesheet" type="text/css" href="/css/404.css"><!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 5.3.0"><link rel="alternate" href="/atom.xml" title="生信技术" type="application/atom+xml">
</head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" src="https://z3.ax1x.com/2021/03/10/6JSyoq.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">32</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">46</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">14</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fas fa-list"></i><span> 清单</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> 照片</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/map/"><i class="fa-fw fas fa-heart"></i><span> 地图</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(https://z3.ax1x.com/2021/04/03/cuAW2q.jpg)"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">生信技术</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fas fa-list"></i><span> 清单</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> 照片</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/map/"><i class="fa-fw fas fa-heart"></i><span> 地图</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Linux三剑客grep、sed、awk的使用</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-04-22T12:00:00.000Z" title="发表于 2021-04-22 20:00:00">2021-04-22</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2021-04-22T12:59:40.000Z" title="更新于 2021-04-22 20:59:40">2021-04-22</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Linux/">Linux</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">8.5k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>35分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="Linux正则表达式">Linux正则表达式</h1>
<div class="note orange no-icon simple"><p>正则表达式：Regual Expression, REGEXP<br>
由一类特殊字符及文本字符所编写的模式，其中有些字符不表示其字面意义，而是用于表示控制或通配的功能；<br>
分两类：<br>
基本正则表达式：BRE<br>
扩展正则表达式：ERE</p>
</div>
<h2 id="正则表达式的意义">正则表达式的意义</h2>
<ol>
<li>处理大量的字符串</li>
<li>处理文本</li>
<li>通过特殊符号的辅助，可以让linux管理员快速过滤、替换、处理所需要的字符串、文本，让工作高效。</li>
</ol>
<blockquote>
<p>通常Linux运维工作，都是面临大量带有字符串的内容，如：<br>
配置文件<br>
程序代码<br>
命令输出结果<br>
日志文件<br>
且此类字符串内容，我们常会有特定的需要，查找出符合工作需要的特定的字符串，因此正则表达式就出现了</p>
</blockquote>
<blockquote>
<p>正则表达式是一套规则和方法<br>
正则工作时以单位进行，一次处理一行<br>
正则表达式化繁为简，提高工作效率<br>
linux仅受三剑客（sed、awk、grep）支持，其他命令无法使用<br>
正则表达式应用非常广泛，应用在如Python、Java、Perl等，Linux下普通命令无法使用正则表达式的，只能使用三剑客。</p>
</blockquote>
<h2 id="Linux三剑客">Linux三剑客</h2>
<div class="note orange no-icon simple"><p>文本处理工具，均支持正则表达式引擎</p>
<p>grep：文本过滤工具，（模式：pattern）工具,<font color="#FF0000">擅长单纯的查找或匹配文本内容</font><br>
sed：stream editor，流编辑器；文本编辑工具，<font color="#FF0000">更适合编辑、处理匹配到的文本内容</font><br>
awk：Linux的文本报告生成器（格式化文本），Linux上是gawk，<font color="#FF0000">更适合格式化文本内容，对文本进行复杂处理</font></p>
</div>
<h2 id="基本正则表达式BRE集合">基本正则表达式BRE集合</h2>
<ul>
<li>匹配字符</li>
<li>匹配次数</li>
<li>位置锚定</li>
</ul>
<hr>
<table>
<thead>
<tr>
<th>符号</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>^</code></td>
<td>尖角号，用于模式的最左侧，如 “^li”，匹配以li单词开头的行</td>
</tr>
<tr>
<td><code>$</code></td>
<td>美元符，用于模式的最右侧，如&quot;li$&quot;，表示以li单词结尾的行</td>
</tr>
<tr>
<td><code>^$</code></td>
<td>组合符，表示空行</td>
</tr>
<tr>
<td><code>.</code></td>
<td>匹配任意一个且只有一个字符，不能匹配空行</td>
</tr>
<tr>
<td><code>\</code></td>
<td>转义字符，让特殊含义的字符，现出原形，还原本意，例如.代表小数点</td>
</tr>
<tr>
<td><code>*</code></td>
<td>匹配前一个字符（连续出现）0次或1次以上 ，重复0次代表空，即匹配所有内容</td>
</tr>
<tr>
<td><code>.*</code></td>
<td>组合符，匹配任意长度的任意字符</td>
</tr>
<tr>
<td><code>^.*</code></td>
<td>组合符，匹配任意多个字符开头的内容</td>
</tr>
<tr>
<td><code>.*$</code></td>
<td>组合符，匹配以任意多个字符结尾的内容</td>
</tr>
<tr>
<td><code>[abc]</code></td>
<td>匹配[]集合内的任意一个字符，a或b或c，可以写[a-c]</td>
</tr>
<tr>
<td><code>[^abc]</code></td>
<td>匹配除了^后面的任意字符，a或b或c，^表示对[abc]的取反</td>
</tr>
<tr>
<td><code>&lt;pattern&gt;</code></td>
<td>匹配完整的内容</td>
</tr>
<tr>
<td><code>&lt;或&gt;</code></td>
<td>定位单词的左侧，和右侧，如<b>可以找出&quot;a b c&quot;，找不出&quot;d&quot;</b></td>
</tr>
</tbody>
</table>
<blockquote>
<p>扩展正则表达式ERE集合<br>
扩展正则必须用 grep -E 才能生效</p>
</blockquote>
<hr>
<table>
<thead>
<tr>
<th>字符</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>+</code></td>
<td>匹配前一个字符1次或多次，前面字符至少出现1次</td>
</tr>
<tr>
<td><code>[:/]+</code></td>
<td>匹配括号内的&quot;:“或者”/&quot;字符1次或多次</td>
</tr>
<tr>
<td><code>?</code></td>
<td>匹配前一个字符0次或1次，前面字符可有可无</td>
</tr>
<tr>
<td><code>|</code></td>
<td>表示或者，同时过滤多个字符串</td>
</tr>
<tr>
<td><code>()</code></td>
<td>分组过滤，被括起来的内容表示一个整体</td>
</tr>
<tr>
<td><code>a&#123;n,m&#125;</code></td>
<td>匹配前一个字符最少n次，最多m次</td>
</tr>
<tr>
<td><code>a&#123;n,&#125;</code></td>
<td>匹配前一个字符最少n次</td>
</tr>
<tr>
<td><code>a&#123;n&#125;</code></td>
<td>匹配前一个字符正好n次</td>
</tr>
<tr>
<td><code>a&#123;,m&#125;</code></td>
<td>匹配前一个字符最多m次</td>
</tr>
</tbody>
</table>
<hr>
<h1 id="grep">grep</h1>
<p><strong>全拼</strong>：Global search REgular expression and Print out the line.<br>
<strong>作用</strong>：文本搜索工具，根据用户指定的“模式（过滤条件）”对目标文本逐行进行匹配检查，打印匹配到的行<br>
<strong>模式</strong>：由正则表达式的<code>元字符</code>及<code>文本字符</code>所编写出的<code>过滤条件</code>；</p>
<h2 id="code￼0"><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">语法：</span><br><span class="line">grep [options] [pattern]  file </span><br><span class="line">命令  参数   匹配模式   文件数据</span><br><span class="line"></span><br><span class="line"> -A&lt;显示行数&gt;：除了显示符合范本样式的那一列之外，并显示该行之后的内容。</span><br><span class="line"> -B&lt;显示行数&gt;：除了显示符合样式的那一行之外，并显示该行之前的内容。</span><br><span class="line"> -C&lt;显示行数&gt;：除了显示符合样式的那一行之外，并显示该行之前后的内容。</span><br><span class="line"> -c：统计匹配的行数</span><br><span class="line"> -e ：实现多个选项间的逻辑or 关系</span><br><span class="line"> -E：扩展的正则表达式</span><br><span class="line"> -f FILE：从FILE获取PATTERN匹配</span><br><span class="line"> -F ：相当于fgrep</span><br><span class="line"> -i --ignore-case <span class="comment">#忽略字符大小写的差别。</span></span><br><span class="line"> -n：显示匹配的行号</span><br><span class="line"> -o：仅显示匹配到的字符串</span><br><span class="line"> -q： 静默模式，不输出任何信息</span><br><span class="line"> -s：不显示错误信息。</span><br><span class="line"> -v：显示不被pattern 匹配到的行，相当于[^] 反向匹配</span><br><span class="line"> -w ：匹配 整个单词</span><br></pre></td></tr></table></figure></h2>
<table>
<thead>
<tr>
<th>参数选项</th>
<th>解释说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>-v</td>
<td>排除匹配结果,相当于[^] 反向匹配</td>
</tr>
<tr>
<td>-n</td>
<td>显示匹配行与行号</td>
</tr>
<tr>
<td>-i</td>
<td>不区分大小写</td>
</tr>
<tr>
<td>-c</td>
<td>只统计匹配的行数</td>
</tr>
<tr>
<td>-E</td>
<td>使用egrep命令</td>
</tr>
<tr>
<td>–color=auto</td>
<td>为grep过滤结果添加颜色</td>
</tr>
<tr>
<td>-w</td>
<td>只匹配过滤的单词</td>
</tr>
<tr>
<td>-o</td>
<td>只输出匹配的内容</td>
</tr>
</tbody>
</table>
<h2 id="正则表达式grep实践">正则表达式grep实践</h2>
<p>准备测试文件</p>
<p><img src="https://z3.ax1x.com/2021/04/22/cLWS5q.png" alt="测试文件"></p>
<h3 id="符号"><code>^</code>符号</h3>
<ul>
<li><strong>输出所有以i开头的行</strong></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">grep -i  -n &quot;^i&quot; lxz        # -i忽略大小写  -n 显示仪行号</span><br><span class="line">1:I study linux.</span><br><span class="line">2:I want be better</span><br><span class="line">9:In order to learn Linux better</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>输出所有以t开头的行</strong></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">grep -i  -n &quot;^t&quot; lxz</span><br><span class="line">8:This is a test file</span><br></pre></td></tr></table></figure>
<h3 id="符"><code>$</code>符</h3>
<ul>
<li><strong>输出所有以r结尾的行</strong></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">grep -i -n &quot;r$&quot; lxz</span><br><span class="line">2:I want be better</span><br><span class="line">9:In order to learn Linux better</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>输出所以以m结尾的行</strong></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">grep -i -n &quot;m$&quot; lxz</span><br><span class="line">4:My website is https:&#x2F;&#x2F;lxz9.com</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>输出所有以&quot;.&quot;结尾的行，注意用转义符</strong></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">1.注意不加转义符的结果，正则里&quot;.&quot;是匹配任意1个字符，grep把.当做正则处理了，因此把有数据的行找出来了，</span><br><span class="line">$ grep -i -n &quot;.$&quot; lxz</span><br><span class="line">1:I study linux.</span><br><span class="line">2:I want be better</span><br><span class="line">4:My website is https:&#x2F;&#x2F;lxz9.com</span><br><span class="line">6:My name is li</span><br><span class="line">8:This is a test file</span><br><span class="line">9:In order to learn Linux better</span><br><span class="line"></span><br><span class="line">2.加上转义符，当做普通的小数点过滤</span><br><span class="line">$ grep -i -n &quot;\.$&quot; lxz </span><br><span class="line">1:I study linux.</span><br></pre></td></tr></table></figure>
<h3 id="组合符"><code>^$</code>组合符</h3>
<ul>
<li>找出文件的空行，以及行号</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ grep &quot;^$&quot; -n lxz </span><br><span class="line">3:</span><br><span class="line">5:</span><br><span class="line">7:</span><br><span class="line">10:</span><br><span class="line">11:</span><br><span class="line">12:</span><br></pre></td></tr></table></figure>
<h3 id="点符号"><code>.</code>点符号</h3>
<p><code>.</code>点表示任意一个字符，有且只有一个，不包含空行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ grep -i -n &quot;.&quot; lxz</span><br><span class="line">1:I study linux.</span><br><span class="line">2:I want be better</span><br><span class="line">4:My website is https:&#x2F;&#x2F;lxz9.com</span><br><span class="line">6:My name is li</span><br><span class="line">8:This is a test file</span><br><span class="line">9:In order to learn Linux better</span><br></pre></td></tr></table></figure>
<p>匹配出 <code>.li</code>，找出任意一个三位字符，包含li</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ grep -i -n &quot;.li&quot; lxz</span><br><span class="line">1:I study linux.</span><br><span class="line">6:My name is li</span><br><span class="line">9:In order to learn Linux better</span><br></pre></td></tr></table></figure>
<h3 id="转义符"><code>\</code>转义符</h3>
<p>找出文中所有的点&quot;.&quot;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ grep &quot;\.&quot; lxz</span><br><span class="line">I study linux.</span><br><span class="line">My website is https:&#x2F;&#x2F;lxz9.com</span><br></pre></td></tr></table></figure>
<h3 id="符号-2"><code>*</code>符号</h3>
<p>找出前一个字符0次或多次，找出文中出现&quot;i&quot;的0次或多次</p>
<p><img src="https://z3.ax1x.com/2021/04/22/cLRzan.png" alt="cLRzan.png"></p>
<h3 id="组合符-2">组合符</h3>
<ul>
<li><strong><code>.*</code>符号</strong></li>
</ul>
<p><code>.</code>表示任意一个字符，<code>*</code>表示匹配前一个字符0次或多次，因此放一起，代表匹配所有内容，以及空格</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep &#39;.*&#39; lxz</span><br></pre></td></tr></table></figure>
<ul>
<li><strong><code>^.*o</code>符</strong></li>
</ul>
<p><code>^</code>以某字符为开头<br>
<code>.</code>任意0或多个字符<br>
<code>.*</code>代表匹配所有内容<br>
<code>o</code>普通字符，一直到字母o结束<br>
这种匹配相同字符到最后一个字符的特点，称为贪婪匹配</p>
<h3 id="abc-中括号"><code>[abc]</code>中括号</h3>
<div class="note orange no-icon simple"><p>中括号表达式，[abc]表示匹配中括号中任意一个字符，a或b或c，常见形式如下<br>
[a-z]匹配所有小写单个字母<br>
[A-Z]匹配所有单个大写字母<br>
[a-zA-Z]匹配所有的单个大小写字母<br>
[0-9]匹配所有单个数字<br>
[a-zA-Z0-9]匹配所有数字和字母</p>
</div>
<h3 id="abc-中括号中取反"><code>[^abc]</code>中括号中取反</h3>
<div class="note blue no-icon simple"><p><code>[^abc]</code>或<code>[^a-c]</code>这样的命令，<code>^</code>符号在中括号中第一位表示排除，就是排除字母a或b或c</p>
</div>
<h2 id="grep参数-o">grep参数 <code>-o</code></h2>
<blockquote>
<p>使用&quot;-o&quot;选项，可以只显示被匹配到的关键字，而不是讲整行的内容都输出。<br>
显示文件中有多少个字符a</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ grep -o  &#39;a&#39; lxz | wc -l</span><br><span class="line">4</span><br></pre></td></tr></table></figure>
<h2 id="扩展正则表达式实践">扩展正则表达式实践</h2>
<p>使用<code>grep -E</code>进行实践扩展正则</p>
<h3 id="号"><code>+</code>号</h3>
<p>+号表示匹配前一个字符1次或多次，必须使用grep -E 扩展正则<br>
<code>grep -E  'l+'  lxz   #匹配lxz文件中l字符一次或多次</code></p>
<h3 id="符-2"><code>?</code>符</h3>
<p>匹配前一个字符0次或1次</p>
<ol>
<li>找出文件中包含ab或aob的行</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">grep -E &#39;ao?b&#39; luffycity.txt</span><br><span class="line">aob            #字母o出现了一次</span><br><span class="line">ab          #字母o出现了0次</span><br></pre></td></tr></table></figure>
<h3 id="符-3"><code>|</code>符</h3>
<p>竖线在正则中是<code>或者</code>的意思</p>
<ol start="2">
<li>找出系统中的txt文件，且名字里包含a或b的字符</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">find &#x2F;home&#x2F;lixingze -maxdepth 3  -name &quot;*.txt&quot; |grep -i -E &quot;a|b&quot;</span><br><span class="line">&#x2F;home&#x2F;lixingze&#x2F;.conda&#x2F;environments.txt</span><br><span class="line">&#x2F;home&#x2F;lixingze&#x2F;Database&#x2F;data&#x2F;go_tmp.txt</span><br><span class="line">&#x2F;home&#x2F;lixingze&#x2F;Database&#x2F;data&#x2F;go_rich.significant.txt</span><br><span class="line">&#x2F;home&#x2F;lixingze&#x2F;Database&#x2F;go_R&#x2F;go_tmp.txt</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="小括号"><code>()</code>小括号</h3>
<p><strong>将一个或多个字符捆绑在一起，当作一个整体进行处理；</strong></p>
<p>小括号功能之一是<code>分组过滤被括起来的内容</code>，<code>括号内的内容表示一个整体</code><br>
括号()内的内容可以<code>后面的&quot;\n&quot;正则引用</code>，<code>n为数字</code>，表示<code>引用第几个括号的内容</code></p>
<ul>
<li><code>\1</code>：表示从左侧起，第一个括号中的模式所匹配到的字符</li>
<li><code>\2</code>：从左侧期，第二个括号中的模式所匹配到的字符</li>
</ul>
<h2 id="分组解释">分组解释</h2>
<p>分组案例:<br>
<strong>找出，用户名，shell名相同的行</strong></p>
<p><img src="https://z3.ax1x.com/2021/04/22/cLWixU.png" alt="grep3"></p>
<hr>
<h1 id="sed">sed</h1>
<div class="note pink no-icon simple"><p>sed是Stream Editor（字符流编辑器）的缩写，简称流编辑器。<br>
sed是操作、过滤和转换文本内容的强大工具。</p>
<p>常用功能包括结合正则表达式对文件实现快速增删改查，其中查询的功能中最常用的两大功能是过滤（过滤指定字符串）、取行（取出指定行）。</p>
</div>
<h2 id="语法">语法</h2>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">sed [选项] [sed内置命令字符] [输入文件]</span><br><span class="line"></span><br><span class="line"> -n：不输出模式空间内容到屏幕，即不自动打印，只打印匹配到的行</span><br><span class="line"> -e：多点编辑，对每行处理时，可以有多个Script</span><br><span class="line"> -f：把Script写到文件当中，在执行sed时-f 指定文件路径，如果是多个Script，换行写</span><br><span class="line"> -r：支持扩展的正则表达式</span><br><span class="line"> -i：直接将处理的结果写入文件</span><br><span class="line"> -i.bak：在将处理的结果写入文件之前备份一份</span><br></pre></td></tr></table></figure>
<h2 id="选项">选项</h2>
<table>
<thead>
<tr>
<th>参数选项</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td>-n</td>
<td>取消默认sed的输出，常与sed内置命令p一起用</td>
</tr>
<tr>
<td>-i</td>
<td>直接将修改结果写入文件，不用-i，sed修改的是内存数据</td>
</tr>
<tr>
<td>-e</td>
<td>多次编辑,不需要管道符了</td>
</tr>
<tr>
<td>-r</td>
<td>支持正则扩展</td>
</tr>
</tbody>
</table>
<p><strong><font color="#0000FF">sed的内置命令字符用于对文件进行不同的操作功能，如对文件增删改查</font></strong></p>
<h2 id="sed常用内置命令字符">sed常用内置命令字符</h2>
<table>
<thead>
<tr>
<th>sed的内置命令字符</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td>a</td>
<td>append，对文本追加，在指定行后面添加一行/多行文本</td>
</tr>
<tr>
<td>d</td>
<td>Delete，删除匹配行</td>
</tr>
<tr>
<td>i</td>
<td>insert，表示插入文本，在指定行前添加一行/多行文本</td>
</tr>
<tr>
<td>p</td>
<td>Print ，打印匹配行的内容，通常p与-n一起用</td>
</tr>
<tr>
<td>s/正则/替换内容/g</td>
<td>匹配正则内容，然后替换内容（支持正则），结尾g代表全局匹配</td>
</tr>
</tbody>
</table>
<h2 id="sed匹配范围">sed匹配范围</h2>
<table>
<thead>
<tr>
<th>范围</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td>空地址</td>
<td>全文处理</td>
</tr>
<tr>
<td>单地址</td>
<td>指定文件某一行</td>
</tr>
<tr>
<td>/pattern/</td>
<td>被模式匹配到的每一行</td>
</tr>
<tr>
<td>范围区间</td>
<td>10,20 十到二十行，10,+5第10行向下5行，/pattern1/,/pattern2/</td>
</tr>
<tr>
<td>步长</td>
<td><code>1~2</code>，表示1、3、5、7、9行，<code>2~2</code>两个步长，表示2、4、6、8、10、偶数行</td>
</tr>
</tbody>
</table>
<h2 id="sed案例">sed案例</h2>
<p><strong><font color="#0000FF">准备测试数据</font></strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ cat lxz</span><br><span class="line">I study linux.</span><br><span class="line">I want be better</span><br><span class="line">My website is https:&#x2F;&#x2F;lxz9.com</span><br><span class="line">My name is li</span><br><span class="line">This is a test file</span><br><span class="line">In order to learn Linux better</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>输出文件第2，3行的内容</strong></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ sed -n &#39;2,3p&#39; lxz</span><br><span class="line">I want be better</span><br><span class="line">My website is https:&#x2F;&#x2F;lxz9.com</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>过滤出含有lxz9.com的字符串行</strong></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sed -n &#39;&#x2F;lxz9.com&#x2F;p&#39; lxz </span><br><span class="line">My website is https:&#x2F;&#x2F;lxz9.com</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>删除含有linux的行</strong></li>
</ul>
<blockquote>
<p>注：sed想要修改文件内容，使用-i参数</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ sed &#39;&#x2F;linux&#x2F;d&#39; lxz</span><br><span class="line">I want be better</span><br><span class="line">My website is https:&#x2F;&#x2F;lxz9.com</span><br><span class="line">My name is li</span><br><span class="line">This is a test file</span><br><span class="line">In order to learn Linux better</span><br><span class="line"></span><br><span class="line">#含有linux的第一行被删除掉了</span><br></pre></td></tr></table></figure>
<p>修改结果写入到文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sed  -i &#39;&#x2F;linux&#x2F;d&#39; lxz #不会输出结果，直接写入文件</span><br></pre></td></tr></table></figure>
<p>删掉2，3两行<br>
<code>sed '2,3d' lxz</code></p>
<p>删除第5行到结尾<br>
<code>sed '5,$d' lxz</code></p>
<ul>
<li><strong>将文件中的My全部替换为Her</strong></li>
</ul>
<blockquote>
<p>s内置符配合g，代表全局替换，中间的&quot;/“可以替换为”#@/&quot;等</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ sed &#39;s&#x2F;My&#x2F;Her&#x2F;g&#39; lxz</span><br><span class="line">I want be better</span><br><span class="line">Her website is https:&#x2F;&#x2F;lxz9.com</span><br><span class="line">Her name is li</span><br><span class="line">This is a test file</span><br><span class="line">In order to learn Linux better</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>替换所有My为Her，同时换掉lxz9为baidu</strong></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ sed -e &#39;s&#x2F;My&#x2F;Her&#x2F;g&#39; -e &#39;s&#x2F;lxz9&#x2F;baidu&#x2F;g&#39; lxz</span><br><span class="line">I want be better</span><br><span class="line">Her website is https:&#x2F;&#x2F;baidu.com</span><br><span class="line">Her name is li</span><br><span class="line">This is a test file</span><br><span class="line">In order to learn Linux better</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>在文件第二行追加内容 a字符功能，写入到文件，还得添加 -i</strong></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ sed -i &#39;2a I am useing sed command&#39; lxz</span><br><span class="line"></span><br><span class="line">$ cat lxz   #在第二行下面添加了内容</span><br><span class="line">I want be better</span><br><span class="line">My website is https:&#x2F;&#x2F;lxz9.com</span><br><span class="line">I am useing sed command</span><br><span class="line">My name is li</span><br><span class="line">This is a test file</span><br><span class="line">In order to learn Linux better</span><br></pre></td></tr></table></figure>
<p>添加多行信息，用换行符<code>\n</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ sed -i &quot;2a abc.\nbcd.&quot; lxz</span><br><span class="line"></span><br><span class="line">$ cat -n lxz</span><br><span class="line">     1	I want be better</span><br><span class="line">     2	My website is https:&#x2F;&#x2F;lxz9.com</span><br><span class="line">     3	abc.</span><br><span class="line">     4	bcd.</span><br><span class="line">     5	I am useing sed command</span><br><span class="line">     6	My name is li</span><br><span class="line">     7	This is a test file</span><br><span class="line">     8	In order to learn Linux better</span><br></pre></td></tr></table></figure>
<p>在每一行下面插入新内容</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">$ sed &quot;a ---&quot; lxz</span><br><span class="line">I want be better</span><br><span class="line">---</span><br><span class="line">My website is https:&#x2F;&#x2F;lxz9.com</span><br><span class="line">---</span><br><span class="line">abc.</span><br><span class="line">---</span><br><span class="line">bcd.</span><br><span class="line">---</span><br><span class="line">I am useing sed command</span><br><span class="line">---</span><br><span class="line">My name is li</span><br><span class="line">---</span><br><span class="line">This is a test file</span><br><span class="line">---</span><br><span class="line">In order to learn Linux better</span><br><span class="line">---</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>在第二行上面插入内容</strong></li>
</ul>
<p><code>sed '2i I am useing sed command' lxz</code></p>
<h2 id="sed配合正则表达式案例">sed配合正则表达式案例</h2>
<h3 id="取出linux的IP地址">取出linux的IP地址</h3>
<ul>
<li><strong>删除网卡信息</strong></li>
</ul>
<p><img src="https://z3.ax1x.com/2021/04/22/cLWkMF.png" alt="sed1"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">1.首先取出第二行</span><br><span class="line"># ifconfig | sed -n &#39;2p&#39;</span><br><span class="line">        inet 10.141.32.137  netmask 255.255.192.0  broadcast 10.141.63.255</span><br><span class="line"></span><br><span class="line">2.找到第二行后，去掉ip之前的内容 </span><br><span class="line"># ifconfig eth0|sed -n &#39;2s#^.*inet##gp&#39;</span><br><span class="line"> 10.141.32.137  netmask 255.255.192.0  broadcast 10.141.63.255</span><br><span class="line"> 解释： </span><br><span class="line"> -n是取消默认输出  </span><br><span class="line"> 2s是处理第二行内容</span><br><span class="line"> #^.*inet##  是匹配inet前所有的内容</span><br><span class="line"> gp代表全局替换且打印替换结果</span><br><span class="line"></span><br><span class="line">3.再次处理，去掉ip后面的内容</span><br><span class="line"># sed -n &#39;2s&#x2F;^.*inet&#x2F;&#x2F;gp&#39; ip.txt | sed -n &#39;s&#x2F;net.*$&#x2F;&#x2F;gp&#39;</span><br><span class="line"> 10.141.32.137</span><br><span class="line"></span><br><span class="line"> 解释：</span><br><span class="line"> net.*$  匹配net到结尾的内容</span><br><span class="line"> s&#x2F;net.*$&#x2F;&#x2F;gp   #把匹配到的内容替换为空</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>-e参数多次编辑</strong></li>
</ul>
<h2 id="code￼26"><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># ifconfig eth0  | sed -ne &#39;2s&#x2F;^.*inet&#x2F;&#x2F;g&#39;  -e &#39;2s&#x2F;net.*$&#x2F;&#x2F;gp&#39;</span><br><span class="line"> 10.141.32.137</span><br></pre></td></tr></table></figure></h2>
<h1 id="awk">awk</h1>
<div class="note purple no-icon simple"><p>AWK 是一种处理文本文件的语言，是一个强大的文本分析工具。之所以叫 AWK 是因为其取了三位创始人 Alfred Aho，Peter Weinberger, 和 Brian Kernighan 的 Family Name 的首字符。</p>
<p>awk是一个强大的linux命令，有强大的文本格式化的能力，好比将一些文本数据格式化成专业的excel表的样式</p>
</div>
<h2 id="语法-2">语法</h2>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">awk [option] <span class="string">&#x27;pattern[action]&#x27;</span>  file ...</span><br><span class="line"><span class="comment"># awk 参数   &#x27;条件动作&#x27;  文件</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">awk [选项参数] <span class="string">&#x27;script&#x27;</span> var=value file(s)</span><br><span class="line">awk [选项参数] -f scriptfile var=value file(s)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="awk使用">awk使用</h2>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">#示例文件内容如下</span><br><span class="line">cat awk_test</span><br><span class="line">lxz1  lxz11  lxz21  lxz31  lxz41</span><br><span class="line">lxz2  lxz12  lxz22  lxz32  lxz42</span><br><span class="line">lxz3  lxz13  lxz23  lxz33  lxz43</span><br><span class="line">lxz4  lxz14  lxz24  lxz34  lxz44</span><br><span class="line">lxz5  lxz15  lxz25  lxz35  lxz45</span><br><span class="line">lxz6  lxz16  lxz26  lxz36  lxz46</span><br><span class="line">lxz7  lxz17  lxz27  lxz37  lxz47</span><br><span class="line">lxz8  lxz18  lxz28  lxz38  lxz48</span><br><span class="line">lxz9  lxz19  lxz29  lxz39  lxz49</span><br><span class="line">lxz10  lxz20  lxz30  lxz40  lxz50</span><br><span class="line"></span><br><span class="line">cat awk_test | awk &#39;&#123;print $5&#125;&#39;</span><br><span class="line">lxz41</span><br><span class="line">lxz42</span><br><span class="line">lxz43</span><br><span class="line">lxz44</span><br><span class="line">lxz45</span><br><span class="line">lxz46</span><br><span class="line">lxz47</span><br><span class="line">lxz48</span><br><span class="line">lxz49</span><br><span class="line">lxz50</span><br></pre></td></tr></table></figure>
<p>执行的命令是<code>awk '&#123;print $5&#125;'</code>，没有使用参数和模式，<code>$5</code>表示输出文本的<code>第五列</code>信息<br>
awk默认以空格为分隔符，且多个空格也识别为一个空格，作为分隔符<br>
awk是按行处理文件，一行处理完毕，处理下一行，根据用户指定的分割符去工作，没有指定则默认空格</p>
<p><code>$0表示整行 $NF表示当前分割后的最后一列 倒数第二列可以写成$(NF-1)</code></p>
<h2 id="awk内置变量">awk内置变量</h2>
<table>
<thead>
<tr>
<th>内置变量</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td>$n</td>
<td>指定分隔符后，当前记录的第n个字段</td>
</tr>
<tr>
<td>$0</td>
<td>完整的输入记录</td>
</tr>
<tr>
<td>FS</td>
<td>字段分隔符，默认是空格</td>
</tr>
<tr>
<td>NF(Number of fields)</td>
<td>分割后，当前行一共有多少个字段</td>
</tr>
<tr>
<td>NR(Number of records)</td>
<td>当前记录数，行数</td>
</tr>
<tr>
<td>更多内置变量可以man手册查看</td>
<td>man awk</td>
</tr>
</tbody>
</table>
<h2 id="一次性输出多列">一次性输出多列</h2>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ awk &#39;&#123;print $1,$2&#125;&#39; awk_test</span><br><span class="line">lxz1 lxz11</span><br><span class="line">lxz2 lxz12</span><br><span class="line">lxz3 lxz13</span><br><span class="line">lxz4 lxz14</span><br><span class="line">lxz5 lxz15</span><br><span class="line">lxz6 lxz16</span><br><span class="line">lxz7 lxz17</span><br><span class="line">lxz8 lxz18</span><br><span class="line">lxz9 lxz19</span><br><span class="line">lxz10 lxz20</span><br></pre></td></tr></table></figure>
<h2 id="自动定义输出内容">自动定义输出内容</h2>
<p>awk，必须外层单引号，内层双引号<br>
内置变量<code>$1、$2</code>都不得添加双引号，否则会识别为文本，尽量别加引号</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ awk &#39;&#123;print &quot;第一列&quot;,$1,&quot;第二列&quot;,$2,&quot;第五列&quot;,$5&#125;&#39; awk_test </span><br><span class="line">第一列 lxz1 第二列 lxz11 第五列 lxz41</span><br><span class="line">第一列 lxz2 第二列 lxz12 第五列 lxz42</span><br><span class="line">第一列 lxz3 第二列 lxz13 第五列 lxz43</span><br><span class="line">第一列 lxz4 第二列 lxz14 第五列 lxz44</span><br><span class="line">第一列 lxz5 第二列 lxz15 第五列 lxz45</span><br><span class="line">第一列 lxz6 第二列 lxz16 第五列 lxz46</span><br><span class="line">第一列 lxz7 第二列 lxz17 第五列 lxz47</span><br><span class="line">第一列 lxz8 第二列 lxz18 第五列 lxz48</span><br><span class="line">第一列 lxz9 第二列 lxz19 第五列 lxz49</span><br><span class="line">第一列 lxz10 第二列 lxz20 第五列 lxz50</span><br></pre></td></tr></table></figure>
<h2 id="输出整行信息">输出整行信息</h2>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">awk &#39;&#123;print&#125;&#39; awk_test</span><br><span class="line">awk &#39;&#123;print $0&#125;&#39; awk_test</span><br></pre></td></tr></table></figure>
<h2 id="awk选项参数说明">awk选项参数说明</h2>
<table>
<thead>
<tr>
<th>参数</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td>-F</td>
<td>指定分割字段符</td>
</tr>
<tr>
<td>-v</td>
<td>定义或修改一个awk内部的变量</td>
</tr>
<tr>
<td>-f</td>
<td>从脚本文件中读取awk命令</td>
</tr>
</tbody>
</table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">-F fs or --field-separator fs</span><br><span class="line">指定分割字段符，fs是一个字符串或者是一个正则表达式，如-F:。</span><br><span class="line"></span><br><span class="line">-v var=value or --asign var=value</span><br><span class="line">定义或修改一个awk内部的变量</span><br><span class="line"></span><br><span class="line">-f scripfile or --file scriptfile</span><br><span class="line">从脚本文件中读取awk命令。</span><br><span class="line"></span><br><span class="line">-mf nnn and -mr nnn</span><br><span class="line">对nnn值设置内在限制，-mf选项限制分配给nnn的最大块数目；-mr选项限制记录的最大数目。这两个功能是Bell实验室版awk的扩展功能，在标准awk中不适用。</span><br><span class="line"></span><br><span class="line">-W compact or --compat, -W traditional or --traditional</span><br><span class="line">在兼容模式下运行awk。所以gawk的行为和标准的awk完全一样，所有的awk扩展都被忽略。</span><br><span class="line"></span><br><span class="line">-W copyleft or --copyleft, -W copyright or --copyright</span><br><span class="line">打印简短的版权信息。</span><br><span class="line"></span><br><span class="line">-W <span class="built_in">help</span> or --<span class="built_in">help</span>, -W usage or --usage</span><br><span class="line">打印全部awk选项和每个选项的简短说明。</span><br><span class="line"></span><br><span class="line">-W lint or --lint</span><br><span class="line">打印不能向传统unix平台移植的结构的警告。</span><br><span class="line"></span><br><span class="line">-W lint-old or --lint-old</span><br><span class="line">打印关于不能向传统unix平台移植的结构的警告。</span><br><span class="line"></span><br><span class="line">-W posix</span><br><span class="line">打开兼容模式。但有以下限制，不识别：/x、函数关键字、func、换码序列以及当fs是一个空格时，将新行作为一个域分隔符；操作符**和**=不能代替^和^=；fflush无效。</span><br><span class="line"></span><br><span class="line">-W re-interval or --re-inerval</span><br><span class="line">允许间隔正则表达式的使用，参考(grep中的Posix字符类)，如括号表达式[[:alpha:]]。</span><br><span class="line"></span><br><span class="line">-W <span class="built_in">source</span> program-text or --<span class="built_in">source</span> program-text</span><br><span class="line">使用program-text作为源代码，可与-f命令混用。</span><br><span class="line"></span><br><span class="line">-W version or --version</span><br><span class="line">打印bug报告信息的版本。</span><br></pre></td></tr></table></figure>
<h3 id="显示文件第三行">显示文件第三行</h3>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#NR在awk中表示行号，NR&#x3D;&#x3D;3表示行号是3的那一行</span><br><span class="line">#注意一个等于号，是修改变量值的意思，两个等于号是关系运算符，是&quot;等于&quot;的意思</span><br><span class="line"></span><br><span class="line">$ awk &#39;NR&#x3D;&#x3D;3&#39; awk_test </span><br><span class="line">lxz3  lxz13  lxz23  lxz33  lxz43</span><br></pre></td></tr></table></figure>
<h3 id="显示文件2-5行">显示文件2-5行</h3>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ awk &#39;NR&#x3D;&#x3D;2,NR&#x3D;&#x3D;5&#39; awk_test </span><br><span class="line">lxz2  lxz12  lxz22  lxz32  lxz42</span><br><span class="line">lxz3  lxz13  lxz23  lxz33  lxz43</span><br><span class="line">lxz4  lxz14  lxz24  lxz34  lxz44</span><br><span class="line">lxz5  lxz15  lxz25  lxz35  lxz45</span><br></pre></td></tr></table></figure>
<h3 id="给每一行的内容添加行号">给每一行的内容添加行号</h3>
<p><strong>添加变量，NR等于行号，$0表示一整行的内容</strong></p>
<p>{print }是awk的动作</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ awk  &#39;&#123;print NR,$0&#125;&#39; awk_test </span><br><span class="line">1 lxz1  lxz11  lxz21  lxz31  lxz41</span><br><span class="line">2 lxz2  lxz12  lxz22  lxz32  lxz42</span><br><span class="line">3 lxz3  lxz13  lxz23  lxz33  lxz43</span><br><span class="line">4 lxz4  lxz14  lxz24  lxz34  lxz44</span><br><span class="line">5 lxz5  lxz15  lxz25  lxz35  lxz45</span><br><span class="line">6 lxz6  lxz16  lxz26  lxz36  lxz46</span><br><span class="line">7 lxz7  lxz17  lxz27  lxz37  lxz47</span><br><span class="line">8 lxz8  lxz18  lxz28  lxz38  lxz48</span><br><span class="line">9 lxz9  lxz19  lxz29  lxz39  lxz49</span><br><span class="line">10 lxz10  lxz20  lxz30  lxz40  lxz50</span><br></pre></td></tr></table></figure>
<h3 id="显示文件3-5行且输出行号">显示文件3-5行且输出行号</h3>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ awk &#39;NR&#x3D;&#x3D;3,NR&#x3D;&#x3D;5  &#123;print NR,$0&#125;&#39; awk_test </span><br><span class="line">3 lxz3  lxz13  lxz23  lxz33  lxz43</span><br><span class="line">4 lxz4  lxz14  lxz24  lxz34  lxz44</span><br><span class="line">5 lxz5  lxz15  lxz25  lxz35  lxz45</span><br></pre></td></tr></table></figure>
<h3 id="显示文件的第一列，倒数第二和最后一列">显示文件的第一列，倒数第二和最后一列</h3>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">awk -F &#39; &#39; &#39;&#123;print $1,$(NF-1),$NF&#125;&#39; pwd.txt</span><br></pre></td></tr></table></figure>
<p><img src="https://z3.ax1x.com/2021/04/22/cLWtII.png" alt="awk1"></p>
<h2 id="awk分隔符">awk分隔符</h2>
<div class="note orange no-icon simple"><p>awk的分隔符有两种</p>
<ol>
<li>输入分隔符，awk默认是空格，空白字符，英文是field separator，变量名是FS</li>
<li>输出分隔符，output field separator，简称OFS</li>
</ol>
</div>
<h3 id="FS输入分隔符">FS输入分隔符</h3>
<p>awk逐行处理文本的时候，以输入分割符为准，把文本切成多个片段，默认符号是空格<br>
当我们处理特殊文件，没有空格的时候，可以自由指定分隔符特点</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#准备示例文件，把之前的空格全部替换为任意符号，这里使用逗号</span></span><br><span class="line"><span class="comment"># sed -i &#x27;s/ /,/g&#x27; awk_test </span></span><br><span class="line">$ cat awk_test </span><br><span class="line">lxz1,lxz11,lxz21,lxz31,lxz41</span><br><span class="line">lxz2,lxz12,lxz22,lxz32,lxz42</span><br><span class="line">lxz3,lxz13,lxz23,lxz33,lxz43</span><br><span class="line">lxz4,lxz14,lxz24,lxz34,lxz44</span><br><span class="line">lxz5,lxz15,lxz25,lxz35,lxz45</span><br><span class="line">lxz6,lxz16,lxz26,lxz36,lxz46</span><br><span class="line">lxz7,lxz17,lxz27,lxz37,lxz47</span><br><span class="line">lxz8,lxz18,lxz28,lxz38,lxz48</span><br><span class="line">lxz9,lxz19,lxz29,lxz39,lxz49</span><br><span class="line">lxz10,lxz20,lxz30,lxz40,lxz50</span><br><span class="line"></span><br><span class="line">$ awk -F <span class="string">&#x27;,&#x27;</span> <span class="string">&#x27;&#123;print $1&#125;&#x27;</span> awk_test</span><br><span class="line">lxz1</span><br><span class="line">lxz2</span><br><span class="line">lxz3</span><br><span class="line">lxz4</span><br><span class="line">lxz5</span><br><span class="line">lxz6</span><br><span class="line">lxz7</span><br><span class="line">lxz8</span><br><span class="line">lxz9</span><br><span class="line">lxz10</span><br></pre></td></tr></table></figure>
<blockquote>
<p>除了使用-F选项，还可以使用变量的形式，指定分隔符，使用-v选项搭配，修改FS变量</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ awk -v FS&#x3D;&#39;,&#39; &#39;&#123;print $1&#125;&#39; awk_test</span><br><span class="line">lxz1</span><br><span class="line">lxz2</span><br><span class="line">lxz3</span><br><span class="line">lxz4</span><br><span class="line">lxz5</span><br><span class="line">lxz6</span><br><span class="line">lxz7</span><br><span class="line">lxz8</span><br><span class="line">lxz9</span><br><span class="line">lxz10</span><br></pre></td></tr></table></figure>
<h3 id="OFS输出分割符">OFS输出分割符</h3>
<blockquote>
<p>awk执行完命令，默认用空格隔开每一列，这个空格就是awk的默认输出符，例如</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">$ cat awk_test </span><br><span class="line">lxz1,lxz11,lxz21,lxz31,lxz41</span><br><span class="line">lxz2,lxz12,lxz22,lxz32,lxz42</span><br><span class="line">lxz3,lxz13,lxz23,lxz33,lxz43</span><br><span class="line">lxz4,lxz14,lxz24,lxz34,lxz44</span><br><span class="line">lxz5,lxz15,lxz25,lxz35,lxz45</span><br><span class="line">lxz6,lxz16,lxz26,lxz36,lxz46</span><br><span class="line">lxz7,lxz17,lxz27,lxz37,lxz47</span><br><span class="line">lxz8,lxz18,lxz28,lxz38,lxz48</span><br><span class="line">lxz9,lxz19,lxz29,lxz39,lxz49</span><br><span class="line">lxz10,lxz20,lxz30,lxz40,lxz50</span><br><span class="line"></span><br><span class="line">$ awk -v FS&#x3D;&#39;,&#39; &#39;&#123;print $1,$3&#125;&#39; awk_test</span><br><span class="line">lxz1 lxz21</span><br><span class="line">lxz2 lxz22</span><br><span class="line">lxz3 lxz23</span><br><span class="line">lxz4 lxz24</span><br><span class="line">lxz5 lxz25</span><br><span class="line">lxz6 lxz26</span><br><span class="line">lxz7 lxz27</span><br><span class="line">lxz8 lxz28</span><br><span class="line">lxz9 lxz29</span><br><span class="line">lxz10 lxz30</span><br><span class="line"></span><br><span class="line">通过OFS设置输出分割符，修改变量必须搭配选项 -v</span><br><span class="line">$ awk -v FS&#x3D;&#39;,&#39; -v OFS&#x3D;&#39;-~-&#39; &#39;&#123;print $1,$3 &#125;&#39; awk_test</span><br><span class="line">lxz1-~-lxz21</span><br><span class="line">lxz2-~-lxz22</span><br><span class="line">lxz3-~-lxz23</span><br><span class="line">lxz4-~-lxz24</span><br><span class="line">lxz5-~-lxz25</span><br><span class="line">lxz6-~-lxz26</span><br><span class="line">lxz7-~-lxz27</span><br><span class="line">lxz8-~-lxz28</span><br><span class="line">lxz9-~-lxz29</span><br><span class="line">lxz10-~-lxz30</span><br></pre></td></tr></table></figure>
<h3 id="输出分隔符与逗号">输出分隔符与逗号</h3>
<blockquote>
<p>awk是否存在输出分隔符，特点在于<code>'&#123;print $1,$3 &#125;</code>逗号的区别</p>
</blockquote>
<ul>
<li>添加逗号，默认是空格分隔符</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ awk -v FS&#x3D;&#39;,&#39; &#39;&#123;print $1,$3&#125;&#39; awk_test</span><br><span class="line">lxz1 lxz21</span><br><span class="line">lxz2 lxz22</span><br><span class="line">lxz3 lxz23</span><br><span class="line">lxz4 lxz24</span><br><span class="line">lxz5 lxz25</span><br><span class="line">lxz6 lxz26</span><br><span class="line">lxz7 lxz27</span><br><span class="line">lxz8 lxz28</span><br><span class="line">lxz9 lxz29</span><br><span class="line">lxz10 lxz30</span><br></pre></td></tr></table></figure>
<ul>
<li>不加逗号</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ awk -v FS&#x3D;&#39;,&#39; &#39;&#123;print $1$3&#125;&#39; awk_test</span><br><span class="line">lxz1lxz21</span><br><span class="line">lxz2lxz22</span><br><span class="line">lxz3lxz23</span><br><span class="line">lxz4lxz24</span><br><span class="line">lxz5lxz25</span><br><span class="line">lxz6lxz26</span><br><span class="line">lxz7lxz27</span><br><span class="line">lxz8lxz28</span><br><span class="line">lxz9lxz29</span><br><span class="line">lxz10lxz30</span><br></pre></td></tr></table></figure>
<ul>
<li>修改分割符，改为\t(制表符，四个空格)或者任意字符</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">awk -v FS&#x3D;&#39;,&#39; -v OFS&#x3D;&#39;\t&#39; &#39;&#123;print $1,$3 &#125;&#39; awk_test</span><br><span class="line">lxz1    lxz21</span><br><span class="line">lxz2    lxz22</span><br><span class="line">lxz3    lxz23</span><br><span class="line">lxz4    lxz24</span><br><span class="line">lxz5    lxz25</span><br><span class="line">lxz6    lxz26</span><br><span class="line">lxz7    lxz27</span><br><span class="line">lxz8    lxz28</span><br><span class="line">lxz9    lxz29</span><br><span class="line">lxz10   lxz30</span><br></pre></td></tr></table></figure>
<h2 id="awk变量">awk变量</h2>
<div class="note purple no-icon simple"><p>对于awk而言，变量分为:<br>
内置变量<br>
自定义变量</p>
</div>
<hr>
<table>
<thead>
<tr>
<th>内置变量</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td>FS</td>
<td>输入字段分隔符， 默认为空白字符</td>
</tr>
<tr>
<td>OFS</td>
<td>输出字段分隔符， 默认为空白字符</td>
</tr>
<tr>
<td>RS</td>
<td>输入记录分隔符(输入换行符)， 指定输入时的换行符</td>
</tr>
<tr>
<td>ORS</td>
<td>输出记录分隔符（输出换行符），输出时用指定符号代替换行符</td>
</tr>
<tr>
<td>NF</td>
<td>NF：number of Field，当前行的字段的个数(即当前行被分割成了几列)，字段数量</td>
</tr>
<tr>
<td>NR</td>
<td>NR：行号，当前处理的文本行的行号。</td>
</tr>
<tr>
<td>FNR</td>
<td>FNR：各文件分别计数的行号</td>
</tr>
<tr>
<td>FILENAME</td>
<td>FILENAME：当前文件名</td>
</tr>
<tr>
<td>ARGC</td>
<td>ARGC：命令行参数的个数</td>
</tr>
<tr>
<td>ARGV</td>
<td>ARGV：数组，保存的是命令行所给定的各参数</td>
</tr>
</tbody>
</table>
<h3 id="内置变量">内置变量</h3>
<h4 id="NR，NF、FNR">NR，NF、FNR</h4>
<div class="note purple no-icon simple"><p>awk的内置变量NR、NF是不用添加$符号的<br>
而$0 $1 $2 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3...</mn><mtext>是需要添加</mtext></mrow><annotation encoding="application/x-tex">3 ... 是需要添加</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">3...</span><span class="mord cjk_fallback">是需要添加</span></span></span></span>符号的</p>
</div>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"># sed将逗号替换为空格</span><br><span class="line">$ sed -i &#39;s&#x2F;,&#x2F; &#x2F;g&#39; awk_test</span><br><span class="line"></span><br><span class="line">$ cat awk_test </span><br><span class="line">lxz1 lxz11 lxz21 lxz31 lxz41</span><br><span class="line">lxz2 lxz12 lxz22 lxz32 lxz42</span><br><span class="line">lxz3 lxz13 lxz23 lxz33 lxz43</span><br><span class="line">lxz4 lxz14 lxz24 lxz34 lxz44</span><br><span class="line">lxz5 lxz15 lxz25 lxz35 lxz45</span><br><span class="line">lxz6 lxz16 lxz26 lxz36 lxz46</span><br><span class="line">lxz7 lxz17 lxz27 lxz37 lxz47</span><br><span class="line">lxz8 lxz18 lxz28 lxz38 lxz48</span><br><span class="line">lxz9 lxz19 lxz29 lxz39 lxz49</span><br><span class="line">lxz10 lxz20 lxz30 lxz40 lxz50</span><br><span class="line"></span><br><span class="line">$ awk &#39;&#123;print NR,NF&#125;&#39; awk_test </span><br><span class="line">1 5</span><br><span class="line">2 5</span><br><span class="line">3 5</span><br><span class="line">4 5</span><br><span class="line">5 5</span><br><span class="line">6 5</span><br><span class="line">7 5</span><br><span class="line">8 5</span><br><span class="line">9 5</span><br><span class="line">10 5</span><br></pre></td></tr></table></figure>
<p><strong>输出每行行号，以及指定的列</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ awk &#39;&#123;print NR,$1,$5&#125;&#39; awk_test </span><br><span class="line">1 lxz1 lxz41</span><br><span class="line">2 lxz2 lxz42</span><br><span class="line">3 lxz3 lxz43</span><br><span class="line">4 lxz4 lxz44</span><br><span class="line">5 lxz5 lxz45</span><br><span class="line">6 lxz6 lxz46</span><br><span class="line">7 lxz7 lxz47</span><br><span class="line">8 lxz8 lxz48</span><br><span class="line">9 lxz9 lxz49</span><br><span class="line">10 lxz10 lxz50</span><br></pre></td></tr></table></figure>
<h4 id="处理多个文件显示行号">处理多个文件显示行号</h4>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#  普通的NR变量，会将多个文件按照顺序排序</span><br><span class="line">awk &#39;&#123;print NR,$0&#125;&#39; a.txt  b.txt</span><br><span class="line">#  使用FNR变量，可以分别对文件行数计数</span><br><span class="line">awk &#39;&#123;print FNR,$0&#125;&#39; a.txt  b.txt</span><br></pre></td></tr></table></figure>
<h3 id="内置变量ORS">内置变量ORS</h3>
<div class="note purple no-icon simple"><p>ORS是输出分隔符的意思，awk默认认为，每一行结束了，就得添加回车换行符<br>
ORS变量可以更改输出符</p>
</div>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ awk -v ORS&#x3D;&#39;;;;&#39; &#39;&#123;print NR,$0&#125;&#39; awk_test </span><br><span class="line">1 lxz1 lxz11 lxz21 lxz31 lxz41;;;2 lxz2 lxz12 lxz22 lxz32 lxz42;;;3 lxz3 lxz13 lxz23 lxz33 lxz43;;;4 lxz4 lxz14 lxz24 lxz34 lxz44;;;5 lxz5 lxz15 lxz25 lxz35 lxz45;;;6 lxz6 lxz16 lxz26 lxz36 lxz46;;;7 lxz7 lxz17 lxz27 lxz37 lxz47;;;8 lxz8 lxz18 lxz28 lxz38 lxz48;;;9 lxz9 lxz19 lxz29 lxz39 lxz49;;;10 lxz10 lxz20 lxz30 lxz40 lxz50;;;</span><br></pre></td></tr></table></figure>
<h3 id="内置变量FILENAME">内置变量FILENAME</h3>
<p><strong>显示awk正在处理文件的名字</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">$ awk &#39;&#123;print FILENAME,FNR,$0&#125;&#39; awk_test test1 test2</span><br><span class="line">awk_test 1 lxz1 lxz11 lxz21 lxz31 lxz41</span><br><span class="line">awk_test 2 lxz2 lxz12 lxz22 lxz32 lxz42</span><br><span class="line">awk_test 3 lxz3 lxz13 lxz23 lxz33 lxz43</span><br><span class="line">awk_test 4 lxz4 lxz14 lxz24 lxz34 lxz44</span><br><span class="line">awk_test 5 lxz5 lxz15 lxz25 lxz35 lxz45</span><br><span class="line">awk_test 6 lxz6 lxz16 lxz26 lxz36 lxz46</span><br><span class="line">awk_test 7 lxz7 lxz17 lxz27 lxz37 lxz47</span><br><span class="line">awk_test 8 lxz8 lxz18 lxz28 lxz38 lxz48</span><br><span class="line">awk_test 9 lxz9 lxz19 lxz29 lxz39 lxz49</span><br><span class="line">awk_test 10 lxz10 lxz20 lxz30 lxz40 lxz50</span><br><span class="line">test1 1 文件一</span><br><span class="line">test2 1 文件二</span><br></pre></td></tr></table></figure>
<h3 id="变量ARGC、ARGV">变量ARGC、ARGV</h3>
<div class="note purple no-icon simple"><p>ARGV表示的是一个数组，数组中保存的是命令行所给的参数<br>
数组是一种数据类型，如同一个盒子<br>
盒子有它的名字，且内部有N个小格子，标号从0开始<br>
给一个盒子起名字叫做months，月份是1~12，那就如图所示:</p>
</div>
<h3 id="自定义变量">自定义变量</h3>
<blockquote>
<p>方法一: <code>-v</code> varName=value</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ awk -v lxz9com&#x3D;&quot;我的网址lxz9.com&quot; &#39;BEGIN&#123;print lxz9com&#125;&#39; </span><br><span class="line">我的网址lxz9.com</span><br></pre></td></tr></table></figure>
<blockquote>
<p>方法二：在程序中直接定义</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ awk &#39;BEGIN&#123;abc&#x3D;&quot;字母abc&quot;;def&#x3D;&quot;字母def&quot;;print abc,def&#125;&#39;</span><br><span class="line">字母abc 字母def</span><br></pre></td></tr></table></figure>
<h2 id="awk格式化">awk格式化</h2>
<h3 id="printf和print的区别">printf和print的区别</h3>
<div class="note blue no-icon simple"><p>format的使用</p>
<p>要点：<br>
1、其与print命令的最大不同是，printf需要指定format；<br>
2、format用于指定后面的每个item的输出格式；<br>
3、printf语句不会自动打印换行符；\n</p>
<p><strong>format格式的指示符都以%开头，后跟一个字符；如下：<br>
%c: 显示字符的ASCII码；<br>
%d, %i：十进制整数；<br>
%e, %E：科学计数法显示数值；<br>
%f: 显示浮点数；<br>
%g, %G: 以科学计数法的格式或浮点数的格式显示数值；<br>
%s: 显示字符串；<br>
%u: 无符号整数；<br>
%%: 显示%自身；</strong></p>
<p>printf修饰符：<br>
-: 左对齐；默认右对齐,<br>
+：显示数值符号；  printf “%+d”</p>
</div>
<ul>
<li><strong>printf动作默认不会添加换行符</strong></li>
<li><strong>print默认添加空格换行符</strong></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">$ awk &#39;&#123;print $1&#125;&#39; awk_test </span><br><span class="line">lxz1</span><br><span class="line">lxz2</span><br><span class="line">lxz3</span><br><span class="line">lxz4</span><br><span class="line">lxz5</span><br><span class="line">lxz6</span><br><span class="line">lxz7</span><br><span class="line">lxz8</span><br><span class="line">lxz9</span><br><span class="line">lxz10</span><br><span class="line"></span><br><span class="line">$ awk &#39;&#123;printf $1&#125;&#39; awk_test </span><br><span class="line">lxz1lxz2lxz3lxz4lxz5lxz6lxz7lxz8lxz9lxz10</span><br></pre></td></tr></table></figure>
<h3 id="给printf添加格式">给printf添加格式</h3>
<ul>
<li><strong>格式化字符串 %s 代表字符串的意思</strong></li>
<li><strong>\n 换行符</strong></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ awk &#39;&#123;printf &quot;%s\n&quot;,$1&#125;&#39; awk_test </span><br><span class="line">lxz1</span><br><span class="line">lxz2</span><br><span class="line">lxz3</span><br><span class="line">lxz4</span><br><span class="line">lxz5</span><br><span class="line">lxz6</span><br><span class="line">lxz7</span><br><span class="line">lxz8</span><br><span class="line">lxz9</span><br><span class="line">lxz10</span><br></pre></td></tr></table></figure>
<h3 id="对多个变量进行格式化">对多个变量进行格式化</h3>
<ul>
<li><strong>使用linux命令printf时，是这样的，一个%s格式替换符，可以对多个参数进行重复格式化</strong></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ printf  &quot;%s\n&quot;  a b c d</span><br><span class="line">a</span><br><span class="line">b</span><br><span class="line">c</span><br><span class="line">d</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>awk的格式替换符想要修改多个变量，必须传入多个</strong></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ awk &#39;BEGIN&#123;printf &quot;%d\n%d\n%d\n%d\n%d\n&quot;,1,2,3,4,5&#125;&#39;</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line"># %D 代表是十进制数字</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<div class="note blue no-icon simple"><p>printf对输出的文本不会换行，必须添加对应的格式替换符和\n</p>
<p>使用printf动作，<code>'{printf &quot;%s\n&quot;,$1}'</code>，替换的格式和变量之间得有逗号,</p>
<p>使用printf动作，%s %d 等格式化替换符 必须 和被格式化的数据一一对应</p>
</div>
<h2 id="awk模式">awk模式</h2>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">awk [option] &#39;pattern[action]&#39;  file </span><br></pre></td></tr></table></figure>
<p>awk是按行处理文本</p>
<ul>
<li>BEGIN模式是处理文本之前需要执行的操作</li>
<li>END模式是处理完所有行之后执行的操作</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">$ awk &#39;BEGIN&#123;print &quot;lxz9.com&quot;&#125;&#123;print $1&#125;&#39; awk_test </span><br><span class="line">lxz9.com</span><br><span class="line">lxz1</span><br><span class="line">lxz2</span><br><span class="line">lxz3</span><br><span class="line">lxz4</span><br><span class="line">lxz5</span><br><span class="line">lxz6</span><br><span class="line">lxz7</span><br><span class="line">lxz8</span><br><span class="line">lxz9</span><br><span class="line">lxz10</span><br><span class="line"></span><br><span class="line">$ awk &#39;END&#123;print &quot;lxz9.com&quot;&#125;&#123;print $1&#125;&#39; awk_test</span><br><span class="line">$ awk &#39;END&#123;print &quot;lxz9.com&quot;&#125;&#123;print $1&#125;&#39; awk_test </span><br><span class="line">lxz1</span><br><span class="line">lxz2</span><br><span class="line">lxz3</span><br><span class="line">lxz4</span><br><span class="line">lxz5</span><br><span class="line">lxz6</span><br><span class="line">lxz7</span><br><span class="line">lxz8</span><br><span class="line">lxz9</span><br><span class="line">lxz10</span><br><span class="line">lxz9.com</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>关系运算符</th>
<th>解释</th>
<th>示例</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&lt;</code></td>
<td>小于</td>
<td><code>x&lt;y</code></td>
</tr>
<tr>
<td><code>&lt;=</code></td>
<td>小于等于</td>
<td><code>x&lt;=y</code></td>
</tr>
<tr>
<td><code>==</code></td>
<td>等于</td>
<td><code>x==y</code></td>
</tr>
<tr>
<td><code>!=</code></td>
<td>不等于</td>
<td><code>x!=y</code></td>
</tr>
<tr>
<td><code>&gt;=</code></td>
<td>大于等于</td>
<td><code>x&gt;=y</code></td>
</tr>
<tr>
<td><code>&gt;</code></td>
<td>大于</td>
<td><code>x&gt;y</code></td>
</tr>
<tr>
<td><code>~</code></td>
<td>匹配正则</td>
<td><code>x~/正则/</code></td>
</tr>
<tr>
<td><code>!~</code></td>
<td>不匹配正则</td>
<td><code>x!~/正则/</code></td>
</tr>
</tbody>
</table>
<h2 id="awk总结">awk总结</h2>
<h3 id="空模式">空模式</h3>
<p><strong>没有指定任何的模式（条件），因此每一行都执行了对应的动作，空模式会匹配文档的每一行，每一行都满足了（空模式）</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ awk &#39;&#123;print $1&#125;&#39; awk_test </span><br><span class="line">lxz1</span><br><span class="line">lxz2</span><br><span class="line">lxz3</span><br><span class="line">lxz4</span><br><span class="line">lxz5</span><br><span class="line">lxz6</span><br><span class="line">lxz7</span><br><span class="line">lxz8</span><br><span class="line">lxz9</span><br><span class="line">lxz10</span><br></pre></td></tr></table></figure>
<h3 id="关系运算符模式">关系运算符模式</h3>
<p><strong>awk默认执行打印输出动作</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ awk &#39;NR&#x3D;&#x3D;2,NR&#x3D;&#x3D;5&#39; awk_test</span><br><span class="line">lxz2 lxz12 lxz22 lxz32 lxz42</span><br><span class="line">lxz3 lxz13 lxz23 lxz33 lxz43</span><br><span class="line">lxz4 lxz14 lxz24 lxz34 lxz44</span><br><span class="line">lxz5 lxz15 lxz25 lxz35 lxz45</span><br></pre></td></tr></table></figure>
<h3 id="BEGIN-END模式（条件设置）">BEGIN/END模式（条件设置）</h3>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">$ awk &#39;BEGIN&#123;print &quot;我在开头位置&quot;&#125;&#123;print $1,$2&#125;END&#123;print &quot;我在结尾处&quot;&#125;&#39; awk_test </span><br><span class="line">我在开头位置</span><br><span class="line">lxz1 lxz11</span><br><span class="line">lxz2 lxz12</span><br><span class="line">lxz3 lxz13</span><br><span class="line">lxz4 lxz14</span><br><span class="line">lxz5 lxz15</span><br><span class="line">lxz6 lxz16</span><br><span class="line">lxz7 lxz17</span><br><span class="line">lxz8 lxz18</span><br><span class="line">lxz9 lxz19</span><br><span class="line">lxz10 lxz20</span><br><span class="line">我在结尾处</span><br></pre></td></tr></table></figure>
<h2 id="awk与正则表达式">awk与正则表达式</h2>
<div class="note pink no-icon simple"><p>正则表达式主要与awk的pattern模式（条件）结合使用</p>
<p>不指定模式，awk每一行都会执行对应的动作<br>
指定了模式，只有被模式匹配到的、符合条件的行才会执行动作</p>
</div>
<h3 id="找出a文件中有以export开头的行">找出a文件中有以export开头的行</h3>
<ol>
<li>用grep过滤</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ grep &#39;^export&#39; a</span><br><span class="line">export PATH&#x3D;&quot;&#x2F;home&#x2F;lixingze&#x2F;software&#x2F;samtools-1.11&#x2F;bin:$PATH&quot; </span><br><span class="line">export PATH&#x3D;&quot;&#x2F;home&#x2F;lixingze&#x2F;software&#x2F;species-0.3.1$PATH&quot; </span><br><span class="line">export PATH&#x3D;&quot;&#x2F;home&#x2F;lixingze&#x2F;software&#x2F;matplotlib-3.3.2:$PATH&quot; </span><br></pre></td></tr></table></figure>
<ol start="2">
<li>awk</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$ awk &#39;&#x2F;^export&#x2F;&#123;print $0&#125;&#39;  a</span><br><span class="line">export PATH&#x3D;&quot;&#x2F;home&#x2F;lixingze&#x2F;software&#x2F;samtools-1.11&#x2F;bin:$PATH&quot; </span><br><span class="line">export PATH&#x3D;&quot;&#x2F;home&#x2F;lixingze&#x2F;software&#x2F;species-0.3.1$PATH&quot; </span><br><span class="line">export PATH&#x3D;&quot;&#x2F;home&#x2F;lixingze&#x2F;software&#x2F;matplotlib-3.3.2:$PATH&quot; </span><br><span class="line"></span><br><span class="line">#省略写法</span><br><span class="line">$ awk &#39;&#x2F;^export&#x2F;&#39;  a</span><br><span class="line">export PATH&#x3D;&quot;&#x2F;home&#x2F;lixingze&#x2F;software&#x2F;samtools-1.11&#x2F;bin:$PATH&quot; </span><br><span class="line">export PATH&#x3D;&quot;&#x2F;home&#x2F;lixingze&#x2F;software&#x2F;species-0.3.1$PATH&quot; </span><br><span class="line">export PATH&#x3D;&quot;&#x2F;home&#x2F;lixingze&#x2F;software&#x2F;matplotlib-3.3.2:$PATH&quot; </span><br></pre></td></tr></table></figure>
<h3 id="awk使用正则语法">awk使用正则语法</h3>
<div class="note pink no-icon simple"><p>grep ‘正则表达式’ a.txt<br>
awk ‘/正则表达式/动作’ a.txt<br>
(下面内容以/etc/passwd文件为例)</p>
</div>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">$ cat -n passwd </span><br><span class="line">     1	root:x:0:0:root:&#x2F;root:&#x2F;bin&#x2F;bash</span><br><span class="line">     2	bin:x:1:1:bin:&#x2F;bin:&#x2F;sbin&#x2F;nologin</span><br><span class="line">     3	daemon:x:2:2:daemon:&#x2F;sbin:&#x2F;sbin&#x2F;nologin</span><br><span class="line">     4	adm:x:3:4:adm:&#x2F;var&#x2F;adm:&#x2F;sbin&#x2F;nologin</span><br><span class="line">     5	lp:x:4:7:lp:&#x2F;var&#x2F;spool&#x2F;lpd:&#x2F;sbin&#x2F;nologin</span><br><span class="line">     6	sync:x:5:0:sync:&#x2F;sbin:&#x2F;bin&#x2F;sync</span><br><span class="line">     7	shutdown:x:6:0:shutdown:&#x2F;sbin:&#x2F;sbin&#x2F;shutdown</span><br><span class="line">     8	halt:x:7:0:halt:&#x2F;sbin:&#x2F;sbin&#x2F;halt</span><br><span class="line">     9	mail:x:8:12:mail:&#x2F;var&#x2F;spool&#x2F;mail:&#x2F;sbin&#x2F;nologin</span><br><span class="line">    10	operator:x:11:0:operator:&#x2F;root:&#x2F;sbin&#x2F;nologin</span><br><span class="line">    11	games:x:12:100:games:&#x2F;usr&#x2F;games:&#x2F;sbin&#x2F;nologin</span><br><span class="line">    12	ftp:x:14:50:FTP User:&#x2F;var&#x2F;ftp:&#x2F;sbin&#x2F;nologin</span><br><span class="line">    13	nobody:x:65534:65534:Kernel Overflow User:&#x2F;:&#x2F;sbin&#x2F;nologin</span><br><span class="line">    14	dbus:x:81:81:System message bus:&#x2F;:&#x2F;sbin&#x2F;nologin</span><br><span class="line">    15	systemd-coredump:x:999:997:systemd Core Dumper:&#x2F;:&#x2F;sbin&#x2F;nologin</span><br><span class="line">    16	systemd-resolve:x:193:193:systemd Resolver:&#x2F;:&#x2F;sbin&#x2F;nologin</span><br><span class="line">    17	tss:x:59:59:Account used by the trousers package to sandbox the tcsd daemon:&#x2F;dev&#x2F;null:&#x2F;sbin&#x2F;nologin</span><br><span class="line">    18	polkitd:x:998:996:User for polkitd:&#x2F;:&#x2F;sbin&#x2F;nologin</span><br><span class="line">    19	grafana:x:997:995:grafana user account:&#x2F;usr&#x2F;share&#x2F;grafana:&#x2F;sbin&#x2F;nologin</span><br><span class="line">    20	unbound:x:996:993:Unbound DNS resolver:&#x2F;etc&#x2F;unbound:&#x2F;sbin&#x2F;nologin</span><br><span class="line">    21	gluster:x:995:992:GlusterFS daemons:&#x2F;run&#x2F;gluster:&#x2F;sbin&#x2F;nologin</span><br><span class="line">    22	geoclue:x:994:991:User for geoclue:&#x2F;var&#x2F;lib&#x2F;geoclue:&#x2F;sbin&#x2F;nologin</span><br><span class="line">    23	rtkit:x:172:172:RealtimeKit:&#x2F;proc:&#x2F;sbin&#x2F;nologin</span><br><span class="line">    24	pipewire:x:993:990:PipeWire System Daemon:&#x2F;var&#x2F;run&#x2F;pipewire:&#x2F;sbin&#x2F;nologin</span><br><span class="line">    25	pulse:x:171:171:PulseAudio System Daemon:&#x2F;var&#x2F;run&#x2F;pulse:&#x2F;sbin&#x2F;nologin</span><br><span class="line">    26	qemu:x:107:107:qemu user:&#x2F;:&#x2F;sbin&#x2F;nologin</span><br><span class="line">    27	apache:x:48:48:Apache:&#x2F;usr&#x2F;share&#x2F;httpd:&#x2F;sbin&#x2F;nologin</span><br><span class="line">    28	cockpit-ws:x:992:986:User for cockpit-ws:&#x2F;nonexisting:&#x2F;sbin&#x2F;nologin</span><br><span class="line">    29	usbmuxd:x:113:113:usbmuxd user:&#x2F;:&#x2F;sbin&#x2F;nologin</span><br><span class="line">    30	rpc:x:32:32:Rpcbind Daemon:&#x2F;var&#x2F;lib&#x2F;rpcbind:&#x2F;sbin&#x2F;nologin</span><br><span class="line">    31	saslauth:x:988:76:Saslauthd user:&#x2F;run&#x2F;saslauthd:&#x2F;sbin&#x2F;nologin</span><br><span class="line">    32	sssd:x:976:976:User for sssd:&#x2F;:&#x2F;sbin&#x2F;nologin</span><br><span class="line">    33	pcp:x:991:985:Performance Co-Pilot:&#x2F;var&#x2F;lib&#x2F;pcp:&#x2F;sbin&#x2F;nologin</span><br><span class="line">    34	chrony:x:990:984::&#x2F;var&#x2F;lib&#x2F;chrony:&#x2F;sbin&#x2F;nologin</span><br><span class="line">    35	libstoragemgmt:x:989:982:daemon account for libstoragemgmt:&#x2F;var&#x2F;run&#x2F;lsm:&#x2F;sbin&#x2F;nologin</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$ awk -F &quot;:&quot;  &#39;BEGIN&#123;printf &quot;%-10s\t%-10s\n&quot;,&quot;用户名&quot;,&quot;用户id&quot;&#125; &#x2F;^d&#x2F; &#123;printf &quot;%-10s\t%-10s\n&quot;,$1,$3&#125;&#39; passwd </span><br><span class="line">用户名       	用户id      </span><br><span class="line">daemon    	2         </span><br><span class="line">dbus      	81  </span><br></pre></td></tr></table></figure>
<p><img src="https://z3.ax1x.com/2021/04/22/cLW9P0.png" alt="awk2"></p>
<h3 id="找出passwd文件中禁止登录的用户（-sbin-nologin）">找出passwd文件中禁止登录的用户（/sbin/nologin）</h3>
<div class="note pink no-icon simple"><p>正则表达式中如果出现了 <code>&quot;/&quot;</code>则需要进行转义</p>
<p>找出pwd.txt文件中禁止登录的用户<code>（/sbin/nologin）</code></p>
</div>
<ol>
<li>用grep找出</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep &#39;&#x2F;sbin&#x2F;nologin$&#39; passwd</span><br></pre></td></tr></table></figure>
<p><img src="https://z3.ax1x.com/2021/04/22/cLWCGV.png" alt="awk3"></p>
<ol start="2">
<li>awk用正则得用双斜杠<code>/正则表达式/</code></li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">awk &#39;&#x2F;\&#x2F;sbin\&#x2F;nologin$&#x2F;&#123;print $0&#125;&#39; passwd </span><br></pre></td></tr></table></figure>
<p><img src="https://z3.ax1x.com/2021/04/22/cLWP2T.png" alt="awk4"></p>
<h3 id="找出文件的区间内容">找出文件的区间内容</h3>
<h4 id="找出adm用户到mail用户之间的内容">找出adm用户到mail用户之间的内容</h4>
<div class="note pink no-icon simple"><p>正则模式<br>
<code>awk '/正则表达式/{动作}' file</code></p>
<p>行范围模式<br>
<code>awk '/正则1/,/正则2/{动作}' file</code></p>
</div>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ awk &#39;&#x2F;^adm&#x2F;,&#x2F;^mail&#x2F; &#123;print $0&#125;&#39; passwd </span><br><span class="line">adm:x:3:4:adm:&#x2F;var&#x2F;adm:&#x2F;sbin&#x2F;nologin</span><br><span class="line">lp:x:4:7:lp:&#x2F;var&#x2F;spool&#x2F;lpd:&#x2F;sbin&#x2F;nologin</span><br><span class="line">sync:x:5:0:sync:&#x2F;sbin:&#x2F;bin&#x2F;sync</span><br><span class="line">shutdown:x:6:0:shutdown:&#x2F;sbin:&#x2F;sbin&#x2F;shutdown</span><br><span class="line">halt:x:7:0:halt:&#x2F;sbin:&#x2F;sbin&#x2F;halt</span><br><span class="line">mail:x:8:12:mail:&#x2F;var&#x2F;spool&#x2F;mail:&#x2F;sbin&#x2F;nologin</span><br></pre></td></tr></table></figure>
<h4 id="关系表达式模式">关系表达式模式</h4>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ awk &#39;NR&gt;&#x3D;4 &amp;&amp; NR&lt;&#x3D;9 &#123;print $0&#125;&#39; passwd </span><br><span class="line">adm:x:3:4:adm:&#x2F;var&#x2F;adm:&#x2F;sbin&#x2F;nologin</span><br><span class="line">lp:x:4:7:lp:&#x2F;var&#x2F;spool&#x2F;lpd:&#x2F;sbin&#x2F;nologin</span><br><span class="line">sync:x:5:0:sync:&#x2F;sbin:&#x2F;bin&#x2F;sync</span><br><span class="line">shutdown:x:6:0:shutdown:&#x2F;sbin:&#x2F;sbin&#x2F;shutdown</span><br><span class="line">halt:x:7:0:halt:&#x2F;sbin:&#x2F;sbin&#x2F;halt</span><br><span class="line">mail:x:8:12:mail:&#x2F;var&#x2F;spool&#x2F;mail:&#x2F;sbin&#x2F;nologin</span><br></pre></td></tr></table></figure>
<h2 id="推荐">推荐</h2>
<p>推荐学习相关计算机网课 <code>路飞学城</code></p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:lixingzee@gmail.com" rel="external nofollow noreferrer">李星泽</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://lxz9.com/2021/04/22/linux01/">http://lxz9.com/2021/04/22/linux01/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow noreferrer" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://lxz9.com" target="_blank">生信技术</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E6%95%99%E7%A8%8B/">教程</a><a class="post-meta__tags" href="/tags/Linux/">Linux</a><a class="post-meta__tags" href="/tags/awk/">awk</a><a class="post-meta__tags" href="/tags/grep/">grep</a><a class="post-meta__tags" href="/tags/sed/">sed</a></div><div class="post_share"><div class="social-share" data-image="https://z3.ax1x.com/2021/04/03/cuAW2q.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i> 打赏<div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="https://z3.ax1x.com/2021/01/19/sgZ5y6.jpg" rel="external nofollow noreferrer" target="_blank"><img class="post-qr-code-img" src="https://z3.ax1x.com/2021/01/19/sgZ5y6.jpg" alt="微信"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="https://z3.ax1x.com/2021/01/19/sgZIOK.jpg" rel="external nofollow noreferrer" target="_blank"><img class="post-qr-code-img" src="https://z3.ax1x.com/2021/01/19/sgZIOK.jpg" alt="支付宝"/></a><div class="post-qr-code-desc">支付宝</div></li></ul></div></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2021/07/18/HiC-Pro/"><img class="prev-cover" src="https://z3.ax1x.com/2021/07/18/W8VNUU.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">HiC-Pro的使用 ｜ HiC辅助基因组组装（一）</div></div></a></div><div class="next-post pull-right"><a href="/2021/04/03/HiC/"><img class="next-cover" src="https://z3.ax1x.com/2021/04/03/cuFUdH.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">Hi-C辅助基因组组装原理｜主流软件</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span> 相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2021/07/18/3d-DNA/" title="3d-DNA的使用及juicebox调整挂载到染色体水平 ｜ HiC辅助基因组组装（二）"><img class="cover" src="https://z3.ax1x.com/2021/07/18/W8VU5F.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-07-18</div><div class="title">3d-DNA的使用及juicebox调整挂载到染色体水平 ｜ HiC辅助基因组组装（二）</div></div></a></div><div><a href="/2021/08/05/ALLHIC/" title="ALLHIC使用 ｜ HiC辅助基因组组装（三）"><img class="cover" src="https://z3.ax1x.com/2021/08/05/feYdmD.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-08-05</div><div class="title">ALLHIC使用 ｜ HiC辅助基因组组装（三）</div></div></a></div><div><a href="/2021/02/08/Annoation/" title="如何进行基因组注释"><img class="cover" src="https://z3.ax1x.com/2021/02/08/yapB1H.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-02-08</div><div class="title">如何进行基因组注释</div></div></a></div><div><a href="/2021/07/18/HiC-Pro/" title="HiC-Pro的使用 ｜ HiC辅助基因组组装（一）"><img class="cover" src="https://z3.ax1x.com/2021/07/18/W8VNUU.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-07-18</div><div class="title">HiC-Pro的使用 ｜ HiC辅助基因组组装（一）</div></div></a></div><div><a href="/2021/04/03/HiC/" title="Hi-C辅助基因组组装原理｜主流软件"><img class="cover" src="https://z3.ax1x.com/2021/04/03/cuFUdH.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-04-03</div><div class="title">Hi-C辅助基因组组装原理｜主流软件</div></div></a></div><div><a href="/2021/01/19/TransDecoder/" title="转录组分析流程｜TransDecoder预测转录本的开放阅读框（二）"><img class="cover" src="https://z3.ax1x.com/2021/01/24/sb4KRf.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-01-19</div><div class="title">转录组分析流程｜TransDecoder预测转录本的开放阅读框（二）</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div class="vcomment" id="vcomment"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-info-avatar is-center"><img class="avatar-img" src="https://z3.ax1x.com/2021/03/10/6JSyoq.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-info__name">李星泽</div><div class="author-info__description"></div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">32</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">标签</div><div class="length-num">46</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">分类</div><div class="length-num">14</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://blog.csdn.net/m0_49960764" rel="external nofollow noreferrer" target="_blank" title="CSDN"><i class="iconfont icon-csdn"></i></a><a class="social-icon" href="https://z3.ax1x.com/2021/11/25/oAI0h9.jpg" rel="external nofollow noreferrer" target="_blank" title="微信公众号"><i class="iconfont icon-weixin"></i></a><a class="social-icon" href="https://space.bilibili.com/113291922?from=search&amp;seid=3526734520747213504&amp;spm_id_from=333.337.0.0" rel="external nofollow noreferrer" target="_blank" title="bilibili"><i class="iconfont icon-bilibili-copy"></i></a><a class="social-icon" href="mailto:lixingzee@gmail.com" rel="external nofollow noreferrer" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">如果你有更多想了解的内容，欢迎关注我的个人公众号：<b>生信技术</b><br> <br> <br></div><timing></timing></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Linux%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">1.</span> <span class="toc-text">Linux正则表达式</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%9A%84%E6%84%8F%E4%B9%89"><span class="toc-number">1.1.</span> <span class="toc-text">正则表达式的意义</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Linux%E4%B8%89%E5%89%91%E5%AE%A2"><span class="toc-number">1.2.</span> <span class="toc-text">Linux三剑客</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8FBRE%E9%9B%86%E5%90%88"><span class="toc-number">1.3.</span> <span class="toc-text">基本正则表达式BRE集合</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#grep"><span class="toc-number">2.</span> <span class="toc-text">grep</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#code%EF%BF%BC0"><span class="toc-number">2.1.</span> <span class="toc-text">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
语法：
grep [options] [pattern]  file 
命令  参数   匹配模式   文件数据

 -A&lt;显示行数&gt;：除了显示符合范本样式的那一列之外，并显示该行之后的内容。
 -B&lt;显示行数&gt;：除了显示符合样式的那一行之外，并显示该行之前的内容。
 -C&lt;显示行数&gt;：除了显示符合样式的那一行之外，并显示该行之前后的内容。
 -c：统计匹配的行数
 -e ：实现多个选项间的逻辑or 关系
 -E：扩展的正则表达式
 -f FILE：从FILE获取PATTERN匹配
 -F ：相当于fgrep
 -i --ignore-case #忽略字符大小写的差别。
 -n：显示匹配的行号
 -o：仅显示匹配到的字符串
 -q： 静默模式，不输出任何信息
 -s：不显示错误信息。
 -v：显示不被pattern 匹配到的行，相当于[^] 反向匹配
 -w ：匹配 整个单词
</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8Fgrep%E5%AE%9E%E8%B7%B5"><span class="toc-number">2.2.</span> <span class="toc-text">正则表达式grep实践</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%A6%E5%8F%B7"><span class="toc-number">2.2.1.</span> <span class="toc-text">^符号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%A6"><span class="toc-number">2.2.2.</span> <span class="toc-text">$符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%84%E5%90%88%E7%AC%A6"><span class="toc-number">2.2.3.</span> <span class="toc-text">^$组合符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%82%B9%E7%AC%A6%E5%8F%B7"><span class="toc-number">2.2.4.</span> <span class="toc-text">.点符号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BD%AC%E4%B9%89%E7%AC%A6"><span class="toc-number">2.2.5.</span> <span class="toc-text">\转义符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%A6%E5%8F%B7-2"><span class="toc-number">2.2.6.</span> <span class="toc-text">*符号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%84%E5%90%88%E7%AC%A6-2"><span class="toc-number">2.2.7.</span> <span class="toc-text">组合符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#abc-%E4%B8%AD%E6%8B%AC%E5%8F%B7"><span class="toc-number">2.2.8.</span> <span class="toc-text">[abc]中括号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#abc-%E4%B8%AD%E6%8B%AC%E5%8F%B7%E4%B8%AD%E5%8F%96%E5%8F%8D"><span class="toc-number">2.2.9.</span> <span class="toc-text">[^abc]中括号中取反</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#grep%E5%8F%82%E6%95%B0-o"><span class="toc-number">2.3.</span> <span class="toc-text">grep参数 -o</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%89%A9%E5%B1%95%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%AE%9E%E8%B7%B5"><span class="toc-number">2.4.</span> <span class="toc-text">扩展正则表达式实践</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%B7"><span class="toc-number">2.4.1.</span> <span class="toc-text">+号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%A6-2"><span class="toc-number">2.4.2.</span> <span class="toc-text">?符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%A6-3"><span class="toc-number">2.4.3.</span> <span class="toc-text">|符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%8F%E6%8B%AC%E5%8F%B7"><span class="toc-number">2.4.4.</span> <span class="toc-text">()小括号</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%86%E7%BB%84%E8%A7%A3%E9%87%8A"><span class="toc-number">2.5.</span> <span class="toc-text">分组解释</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#sed"><span class="toc-number">3.</span> <span class="toc-text">sed</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95"><span class="toc-number">3.1.</span> <span class="toc-text">语法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%89%E9%A1%B9"><span class="toc-number">3.2.</span> <span class="toc-text">选项</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#sed%E5%B8%B8%E7%94%A8%E5%86%85%E7%BD%AE%E5%91%BD%E4%BB%A4%E5%AD%97%E7%AC%A6"><span class="toc-number">3.3.</span> <span class="toc-text">sed常用内置命令字符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#sed%E5%8C%B9%E9%85%8D%E8%8C%83%E5%9B%B4"><span class="toc-number">3.4.</span> <span class="toc-text">sed匹配范围</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#sed%E6%A1%88%E4%BE%8B"><span class="toc-number">3.5.</span> <span class="toc-text">sed案例</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#sed%E9%85%8D%E5%90%88%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%A1%88%E4%BE%8B"><span class="toc-number">3.6.</span> <span class="toc-text">sed配合正则表达式案例</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%96%E5%87%BAlinux%E7%9A%84IP%E5%9C%B0%E5%9D%80"><span class="toc-number">3.6.1.</span> <span class="toc-text">取出linux的IP地址</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#code%EF%BF%BC26"><span class="toc-number">3.7.</span> <span class="toc-text">1
2
# ifconfig eth0  | sed -ne &#39;2s&#x2F;^.*inet&#x2F;&#x2F;g&#39;  -e &#39;2s&#x2F;net.*$&#x2F;&#x2F;gp&#39;
 10.141.32.137
</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#awk"><span class="toc-number">4.</span> <span class="toc-text">awk</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95-2"><span class="toc-number">4.1.</span> <span class="toc-text">语法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#awk%E4%BD%BF%E7%94%A8"><span class="toc-number">4.2.</span> <span class="toc-text">awk使用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#awk%E5%86%85%E7%BD%AE%E5%8F%98%E9%87%8F"><span class="toc-number">4.3.</span> <span class="toc-text">awk内置变量</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E6%AC%A1%E6%80%A7%E8%BE%93%E5%87%BA%E5%A4%9A%E5%88%97"><span class="toc-number">4.4.</span> <span class="toc-text">一次性输出多列</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%87%AA%E5%8A%A8%E5%AE%9A%E4%B9%89%E8%BE%93%E5%87%BA%E5%86%85%E5%AE%B9"><span class="toc-number">4.5.</span> <span class="toc-text">自动定义输出内容</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BE%93%E5%87%BA%E6%95%B4%E8%A1%8C%E4%BF%A1%E6%81%AF"><span class="toc-number">4.6.</span> <span class="toc-text">输出整行信息</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#awk%E9%80%89%E9%A1%B9%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E"><span class="toc-number">4.7.</span> <span class="toc-text">awk选项参数说明</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%98%BE%E7%A4%BA%E6%96%87%E4%BB%B6%E7%AC%AC%E4%B8%89%E8%A1%8C"><span class="toc-number">4.7.1.</span> <span class="toc-text">显示文件第三行</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%98%BE%E7%A4%BA%E6%96%87%E4%BB%B62-5%E8%A1%8C"><span class="toc-number">4.7.2.</span> <span class="toc-text">显示文件2-5行</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%99%E6%AF%8F%E4%B8%80%E8%A1%8C%E7%9A%84%E5%86%85%E5%AE%B9%E6%B7%BB%E5%8A%A0%E8%A1%8C%E5%8F%B7"><span class="toc-number">4.7.3.</span> <span class="toc-text">给每一行的内容添加行号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%98%BE%E7%A4%BA%E6%96%87%E4%BB%B63-5%E8%A1%8C%E4%B8%94%E8%BE%93%E5%87%BA%E8%A1%8C%E5%8F%B7"><span class="toc-number">4.7.4.</span> <span class="toc-text">显示文件3-5行且输出行号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%98%BE%E7%A4%BA%E6%96%87%E4%BB%B6%E7%9A%84%E7%AC%AC%E4%B8%80%E5%88%97%EF%BC%8C%E5%80%92%E6%95%B0%E7%AC%AC%E4%BA%8C%E5%92%8C%E6%9C%80%E5%90%8E%E4%B8%80%E5%88%97"><span class="toc-number">4.7.5.</span> <span class="toc-text">显示文件的第一列，倒数第二和最后一列</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#awk%E5%88%86%E9%9A%94%E7%AC%A6"><span class="toc-number">4.8.</span> <span class="toc-text">awk分隔符</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#FS%E8%BE%93%E5%85%A5%E5%88%86%E9%9A%94%E7%AC%A6"><span class="toc-number">4.8.1.</span> <span class="toc-text">FS输入分隔符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#OFS%E8%BE%93%E5%87%BA%E5%88%86%E5%89%B2%E7%AC%A6"><span class="toc-number">4.8.2.</span> <span class="toc-text">OFS输出分割符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BE%93%E5%87%BA%E5%88%86%E9%9A%94%E7%AC%A6%E4%B8%8E%E9%80%97%E5%8F%B7"><span class="toc-number">4.8.3.</span> <span class="toc-text">输出分隔符与逗号</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#awk%E5%8F%98%E9%87%8F"><span class="toc-number">4.9.</span> <span class="toc-text">awk变量</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%86%85%E7%BD%AE%E5%8F%98%E9%87%8F"><span class="toc-number">4.9.1.</span> <span class="toc-text">内置变量</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#NR%EF%BC%8CNF%E3%80%81FNR"><span class="toc-number">4.9.1.1.</span> <span class="toc-text">NR，NF、FNR</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%84%E7%90%86%E5%A4%9A%E4%B8%AA%E6%96%87%E4%BB%B6%E6%98%BE%E7%A4%BA%E8%A1%8C%E5%8F%B7"><span class="toc-number">4.9.1.2.</span> <span class="toc-text">处理多个文件显示行号</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%86%85%E7%BD%AE%E5%8F%98%E9%87%8FORS"><span class="toc-number">4.9.2.</span> <span class="toc-text">内置变量ORS</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%86%85%E7%BD%AE%E5%8F%98%E9%87%8FFILENAME"><span class="toc-number">4.9.3.</span> <span class="toc-text">内置变量FILENAME</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%98%E9%87%8FARGC%E3%80%81ARGV"><span class="toc-number">4.9.4.</span> <span class="toc-text">变量ARGC、ARGV</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%8F%98%E9%87%8F"><span class="toc-number">4.9.5.</span> <span class="toc-text">自定义变量</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#awk%E6%A0%BC%E5%BC%8F%E5%8C%96"><span class="toc-number">4.10.</span> <span class="toc-text">awk格式化</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#printf%E5%92%8Cprint%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">4.10.1.</span> <span class="toc-text">printf和print的区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%99printf%E6%B7%BB%E5%8A%A0%E6%A0%BC%E5%BC%8F"><span class="toc-number">4.10.2.</span> <span class="toc-text">给printf添加格式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%B9%E5%A4%9A%E4%B8%AA%E5%8F%98%E9%87%8F%E8%BF%9B%E8%A1%8C%E6%A0%BC%E5%BC%8F%E5%8C%96"><span class="toc-number">4.10.3.</span> <span class="toc-text">对多个变量进行格式化</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#awk%E6%A8%A1%E5%BC%8F"><span class="toc-number">4.11.</span> <span class="toc-text">awk模式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#awk%E6%80%BB%E7%BB%93"><span class="toc-number">4.12.</span> <span class="toc-text">awk总结</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A9%BA%E6%A8%A1%E5%BC%8F"><span class="toc-number">4.12.1.</span> <span class="toc-text">空模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E8%BF%90%E7%AE%97%E7%AC%A6%E6%A8%A1%E5%BC%8F"><span class="toc-number">4.12.2.</span> <span class="toc-text">关系运算符模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#BEGIN-END%E6%A8%A1%E5%BC%8F%EF%BC%88%E6%9D%A1%E4%BB%B6%E8%AE%BE%E7%BD%AE%EF%BC%89"><span class="toc-number">4.12.3.</span> <span class="toc-text">BEGIN&#x2F;END模式（条件设置）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#awk%E4%B8%8E%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">4.13.</span> <span class="toc-text">awk与正则表达式</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%BE%E5%87%BAa%E6%96%87%E4%BB%B6%E4%B8%AD%E6%9C%89%E4%BB%A5export%E5%BC%80%E5%A4%B4%E7%9A%84%E8%A1%8C"><span class="toc-number">4.13.1.</span> <span class="toc-text">找出a文件中有以export开头的行</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#awk%E4%BD%BF%E7%94%A8%E6%AD%A3%E5%88%99%E8%AF%AD%E6%B3%95"><span class="toc-number">4.13.2.</span> <span class="toc-text">awk使用正则语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%BE%E5%87%BApasswd%E6%96%87%E4%BB%B6%E4%B8%AD%E7%A6%81%E6%AD%A2%E7%99%BB%E5%BD%95%E7%9A%84%E7%94%A8%E6%88%B7%EF%BC%88-sbin-nologin%EF%BC%89"><span class="toc-number">4.13.3.</span> <span class="toc-text">找出passwd文件中禁止登录的用户（&#x2F;sbin&#x2F;nologin）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%BE%E5%87%BA%E6%96%87%E4%BB%B6%E7%9A%84%E5%8C%BA%E9%97%B4%E5%86%85%E5%AE%B9"><span class="toc-number">4.13.4.</span> <span class="toc-text">找出文件的区间内容</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%89%BE%E5%87%BAadm%E7%94%A8%E6%88%B7%E5%88%B0mail%E7%94%A8%E6%88%B7%E4%B9%8B%E9%97%B4%E7%9A%84%E5%86%85%E5%AE%B9"><span class="toc-number">4.13.4.1.</span> <span class="toc-text">找出adm用户到mail用户之间的内容</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%A8%A1%E5%BC%8F"><span class="toc-number">4.13.4.2.</span> <span class="toc-text">关系表达式模式</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8E%A8%E8%8D%90"><span class="toc-number">4.14.</span> <span class="toc-text">推荐</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2021/12/21/pypubmed/" title="PyPubMed｜一款进行文献检索的工具"><img src="https://s4.ax1x.com/2021/12/21/TKoMjA.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="PyPubMed｜一款进行文献检索的工具"/></a><div class="content"><a class="title" href="/2021/12/21/pypubmed/" title="PyPubMed｜一款进行文献检索的工具">PyPubMed｜一款进行文献检索的工具</a><time datetime="2021-12-21T03:00:00.000Z" title="发表于 2021-12-21 11:00:00">2021-12-21</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/12/15/Conserved_Sequences/" title="保守序列的生物学意义｜用 K-mers 寻找保守序列"><img src="https://s4.ax1x.com/2021/12/15/ozGUE9.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="保守序列的生物学意义｜用 K-mers 寻找保守序列"/></a><div class="content"><a class="title" href="/2021/12/15/Conserved_Sequences/" title="保守序列的生物学意义｜用 K-mers 寻找保守序列">保守序列的生物学意义｜用 K-mers 寻找保守序列</a><time datetime="2021-12-15T10:00:00.000Z" title="发表于 2021-12-15 18:00:00">2021-12-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/12/14/R/" title="R语言基础画图教程合集(长文总结)"><img src="https://s4.ax1x.com/2021/12/15/ozG2Ed.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="R语言基础画图教程合集(长文总结)"/></a><div class="content"><a class="title" href="/2021/12/14/R/" title="R语言基础画图教程合集(长文总结)">R语言基础画图教程合集(长文总结)</a><time datetime="2021-12-14T10:00:00.000Z" title="发表于 2021-12-14 18:00:00">2021-12-14</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/12/01/Protein_structure_prediction/" title="使用同源建模预测蛋白质结构"><img src="https://z3.ax1x.com/2021/12/02/oYdAsA.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="使用同源建模预测蛋白质结构"/></a><div class="content"><a class="title" href="/2021/12/01/Protein_structure_prediction/" title="使用同源建模预测蛋白质结构">使用同源建模预测蛋白质结构</a><time datetime="2021-12-01T15:00:00.000Z" title="发表于 2021-12-01 23:00:00">2021-12-01</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/11/25/python/" title="Python 学习教程总结"><img src="https://z3.ax1x.com/2021/11/26/oElpDJ.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Python 学习教程总结"/></a><div class="content"><a class="title" href="/2021/11/25/python/" title="Python 学习教程总结">Python 学习教程总结</a><time datetime="2021-11-24T16:00:00.000Z" title="发表于 2021-11-25 00:00:00">2021-11-25</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2021&nbsp;<i style="color:#FF6A6A;animation: announ_animation 0.8s linear infinite;"class="fas fa-heart"></i> By 李星泽</div></div><div class="container" id="jsi-flying-fish-container"><script src="/js/fish.js"></script></div><style>   @media only screen and (max-width: 767px){
   #sidebar_search_box input[type=text]{width:calc(100% - 24px)}
}</style></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div></div><hr/><div id="local-search-results"></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/medium-zoom/dist/medium-zoom.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>function loadValine () {
  function initValine () {
    let initData = {
      el: '#vcomment',
      appId: '',
      appKey: '',
      placeholder: 'Please leave your footprints',
      avatar: 'monsterid',
      meta: 'nick,mail,link'.split(','),
      pageSize: '10',
      lang: 'en',
      recordIP: false,
      serverURLs: '',
      emojiCDN: '',
      emojiMaps: "",
      enableQQ: false,
      path: window.location.pathname,
    }

    if (true) { 
      initData.requiredFields= ('nick,mail'.split(','))
    }
    
    if (false) {
      const otherData = false
      initData = Object.assign(initData, otherData)
    }
    
    const valine = new Valine(initData)
  }

  if (typeof Valine === 'function') initValine() 
  else getScript('https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js').then(initValine)
}

if ('Valine' === 'Valine' || !true) {
  if (true) btf.loadComment(document.getElementById('vcomment'),loadValine)
  else setTimeout(loadValine, 0)
} else {
  function loadOtherComment () {
    loadValine()
  }
}</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><script src="/js/jquery.min.js"></script><script src="/js/fish.js"></script><script src="/js/timing.js"></script><script async src="https://cdn.jsdelivr.net/npm/aplayer"></script><script async src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><div class="aplayer no-destroy" data-id="000PeZCQ1i4XVs" data-server="tencent" data-type="artist" data-fixed="true" data-mini="true" data-listFolded="false" data-order="random" data-preload="none" data-autoplay="flase" muted></div><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-fluttering-ribbon.min.js"></script><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-nest.min.js"></script><script>(function(i,s,o,g,r,a,m){i["DaoVoiceObject"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset="utf-8";m.parentNode.insertBefore(a,m)})(window,document,"script",('https:' == document.location.protocol ? 'https:' : 'http:') + "//widget.daovoice.io/widget/f84bbafb.js","daovoice")
</script><script>var isChatBtn = false
daovoice('init', {
  app_id: 'f84bbafb',},{
  launcher: { 
     disableLauncherIcon: isChatBtn // 悬浮 ICON 是否显示
  },
});
daovoice('update');

if (isChatBtn) {
  var chatBtnFn = () => {
    var chatBtn = document.getElementById("chat_btn")
    chatBtn.addEventListener("click", function(){
      daovoice('show')
    });
  }
  chatBtnFn()
} else {
  if (false) {
    function chatBtnHide () {
      daovoice('update', {},{
        launcher: { 
        disableLauncherIcon: true // 悬浮 ICON 是否显示
        },
      });
    }
    function chatBtnShow () {
      daovoice('update', {},{
        launcher: { 
        disableLauncherIcon: false // 悬浮 ICON 是否显示
        },
      });
    }
  }
}</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/gh/metowolf/MetingJS@1.2/dist/Meting.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors = [
  'title',
  '#config_change',
  '#body-wrap',
  '#rightside-config-hide',
  '#rightside-config-show',
  '.js-pjax'
]

if (false) {
  pjaxSelectors.unshift('meta[property="og:image"]', 'meta[property="og:title"]', 'meta[property="og:url"]')
}

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: true,
  scrollRestoration: false
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  if (typeof gtag === 'function') {
    gtag('config', 'G-QRG4NL4207', {'page_path': window.location.pathname});
  }

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // Analytics
  if (false) {
    MtaH5.pgv()
  }

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()

  typeof preloader === 'object' && preloader.endLoading()
})


document.addEventListener('pjax:send', function () {
  typeof preloader === 'object' && preloader.initLoading()
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

})</script><script>(function(){
  const bp = document.createElement('script');
  const curProtocol = window.location.protocol.split(':')[0];
  if (curProtocol === 'https') {
    bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
  }
  else{
    bp.src = 'http://push.zhanzhang.baidu.com/push.js';
  }
  bp.dataset.pjax = ''
  const s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(bp, s);
})()</script></div></body></html>