<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>JavaScript | 生信技术</title><meta name="keywords" content="js,前端"><meta name="author" content="李星泽,lixingzee@gmail.com"><meta name="copyright" content="李星泽"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="description" content="NOTE_JS 介绍 ✨ 尚硅谷最新版JavaScript基础全套教程完整版 140集实战教学 JS从入门到精通             实战  ✅ 图片切换 ✅ 全选练习 ✅ 添加删除记录 ✅ 协议注册 ✅ 拖拽 ✅ 定时图片切换 ✅ div移动优化 ✅ 轮播图 ✅ 二级菜单  整理难免有误，欢迎大家批评指正！  JS简介 1、什么是语言 计算机就是一个由人来控制的机器，人让它干嘛，它就得干嘛。">
<meta property="og:type" content="article">
<meta property="og:title" content="JavaScript">
<meta property="og:url" content="http://lxz9.com/2022/04/02/JavaScript/index.html">
<meta property="og:site_name" content="生信技术">
<meta property="og:description" content="NOTE_JS 介绍 ✨ 尚硅谷最新版JavaScript基础全套教程完整版 140集实战教学 JS从入门到精通             实战  ✅ 图片切换 ✅ 全选练习 ✅ 添加删除记录 ✅ 协议注册 ✅ 拖拽 ✅ 定时图片切换 ✅ div移动优化 ✅ 轮播图 ✅ 二级菜单  整理难免有误，欢迎大家批评指正！  JS简介 1、什么是语言 计算机就是一个由人来控制的机器，人让它干嘛，它就得干嘛。">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://s1.ax1x.com/2022/04/11/LZizLV.png">
<meta property="article:published_time" content="2022-04-02T14:19:09.000Z">
<meta property="article:modified_time" content="2022-04-12T02:47:54.000Z">
<meta property="article:author" content="李星泽">
<meta property="article:tag" content="js">
<meta property="article:tag" content="前端">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://s1.ax1x.com/2022/04/11/LZizLV.png"><link rel="shortcut icon" href="https://z3.ax1x.com/2021/02/09/yawIzV.png"><link rel="canonical" href="http://lxz9.com/2022/04/02/JavaScript/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//www.google-analytics.com" crossorigin=""/><link rel="preconnect" href="//hm.baidu.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="preconnect" href="//zz.bdstatic.com"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?72a556f842c8990127f397d4e0c54f2c";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-QRG4NL4207"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-QRG4NL4207');
</script><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'mediumZoom',
  Snackbar: undefined,
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
};

var saveToLocal = {
  set: function setWithExpiry(key, value, ttl) {
    const now = new Date()
    const expiryDay = ttl * 86400000
    const item = {
      value: value,
      expiry: now.getTime() + expiryDay,
    }
    localStorage.setItem(key, JSON.stringify(item))
  },

  get: function getWithExpiry(key) {
    const itemStr = localStorage.getItem(key)

    if (!itemStr) {
      return undefined
    }
    const item = JSON.parse(itemStr)
    const now = new Date()

    if (now.getTime() > item.expiry) {
      localStorage.removeItem(key)
      return undefined
    }
    return item.value
  }
}

// https://stackoverflow.com/questions/16839698/jquery-getscript-alternative-in-native-javascript
const getScript = url => new Promise((resolve, reject) => {
  const script = document.createElement('script')
  script.src = url
  script.async = true
  script.onerror = reject
  script.onload = script.onreadystatechange = function() {
    const loadState = this.readyState
    if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
    script.onload = script.onreadystatechange = null
    resolve()
  }
  document.head.appendChild(script)
})</script><script id="config_change">var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-04-12 10:47:54'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(function () {  window.activateDarkMode = function () {
    document.documentElement.setAttribute('data-theme', 'dark')
    if (document.querySelector('meta[name="theme-color"]') !== null) {
      document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
    }
  }
  window.activateLightMode = function () {
    document.documentElement.setAttribute('data-theme', 'light')
   if (document.querySelector('meta[name="theme-color"]') !== null) {
      document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
    }
  }
  const autoChangeMode = 'false'
  const t = saveToLocal.get('theme')
  if (autoChangeMode === '1') {
    const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
    const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
    const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
    const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified
    if (t === undefined) {
      if (isLightMode) activateLightMode()
      else if (isDarkMode) activateDarkMode()
      else if (isNotSpecified || hasNoSupport) {
        const now = new Date()
        const hour = now.getHours()
        const isNight = hour <= 6 || hour >= 18
        isNight ? activateDarkMode() : activateLightMode()
      }
      window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
        if (saveToLocal.get('theme') === undefined) {
          e.matches ? activateDarkMode() : activateLightMode()
        }
      })
    } else if (t === 'light') activateLightMode()
    else activateDarkMode()
  } else if (autoChangeMode === '2') {
    const now = new Date()
    const hour = now.getHours()
    const isNight = hour <= 6 || hour >= 18
    if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
    else if (t === 'light') activateLightMode()
    else activateDarkMode()
  } else {
    if (t === 'dark') activateDarkMode()
    else if (t === 'light') activateLightMode()
  }const asideStatus = saveToLocal.get('aside-status')
if (asideStatus !== undefined) {
   if (asideStatus === 'hide') {
     document.documentElement.classList.add('hide-aside')
   } else {
     document.documentElement.classList.remove('hide-aside')
   }
}})()</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"  media="defer" onload="this.media='all'"><meting-js server='tencent' type='playlist' id='2134037073' fixed='true'></meting-js><style>#article-container.post-content h1:before, h2:before, h3:before, h4:before, h5:before, h6:before { -webkit-animation: avatar_turn_around 1s linear infinite; -moz-animation: avatar_turn_around 1s linear infinite; -o-animation: avatar_turn_around 1s linear infinite; -ms-animation: avatar_turn_around 1s linear infinite; animation: avatar_turn_around 1s linear infinite; }</style><link rel="stylesheet" href="/css/iconfont.css"><link rel="stylesheet" href="/css/background.css"><link rel="stylesheet" href="/css/lxz9.css"><link rel="stylesheet" href="/css/icon.css" media="defer" onload="this.media='all'"><!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 5.3.0">
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
<link rel="alternate" href="/atom.xml" title="生信技术" type="application/atom+xml">
</head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" src="https://z3.ax1x.com/2021/03/10/6JSyoq.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">48</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">56</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">18</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fas fa-list"></i><span> 清单</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> 照片</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/map/"><i class="fa-fw fas fa-heart"></i><span> 地图</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(https://s1.ax1x.com/2022/04/11/LZizLV.png)"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">生信技术</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fas fa-list"></i><span> 清单</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> 照片</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/map/"><i class="fa-fw fas fa-heart"></i><span> 地图</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">JavaScript</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-04-02T14:19:09.000Z" title="发表于 2022-04-02 22:19:09">2022-04-02</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-04-12T02:47:54.000Z" title="更新于 2022-04-12 10:47:54">2022-04-12</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/js/">js</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">46.7k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>183分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="NOTE-JS">NOTE_JS</h1>
<h2 id="介绍">介绍</h2>
<p><span class="emoji" alias="sparkles" style="" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2728.png?v8">✨</span> 尚硅谷最新版JavaScript基础全套教程完整版 140集实战教学 JS从入门到精通</p>
<div align="center" class="aspect-ratio">
    <iframe src="https://player.bilibili.com/player.html?aid=21589800&amp;bvid=BV1YW411T7GX&amp;cid=256336231&amp;page=1" scrolling="no" border="0" frameborder="no" framespacing="0" high_quality="1" danmaku="1" allowfullscreen="true">
    </iframe>
</div>
<h2 id="实战">实战</h2>
<ul>
<li><span class="emoji" alias="white_check_mark" style="" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2705.png?v8">✅</span> 图片切换</li>
<li><span class="emoji" alias="white_check_mark" style="" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2705.png?v8">✅</span> 全选练习</li>
<li><span class="emoji" alias="white_check_mark" style="" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2705.png?v8">✅</span> 添加删除记录</li>
<li><span class="emoji" alias="white_check_mark" style="" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2705.png?v8">✅</span> 协议注册</li>
<li><span class="emoji" alias="white_check_mark" style="" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2705.png?v8">✅</span> 拖拽</li>
<li><span class="emoji" alias="white_check_mark" style="" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2705.png?v8">✅</span> 定时图片切换</li>
<li><span class="emoji" alias="white_check_mark" style="" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2705.png?v8">✅</span> div移动优化</li>
<li><span class="emoji" alias="white_check_mark" style="" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2705.png?v8">✅</span> 轮播图</li>
<li><span class="emoji" alias="white_check_mark" style="" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2705.png?v8">✅</span> 二级菜单</li>
</ul>
<p>整理难免有误，欢迎大家批评指正！</p>
<hr>
<h1 id="JS简介">JS简介</h1>
<h2 id="1、什么是语言">1、什么是语言</h2>
<p>计算机就是一个由人来控制的机器，人让它干嘛，它就得干嘛。</p>
<p>我们要学习的语言就是人和计算机交流的工具，人类通过语言来控制、操作计算机。</p>
<p>编程语言和我们说的中文、英文本质上没有区别，只是语法比较特殊。</p>
<p>语言的发展：</p>
<ul>
<li>纸带机：机器语言</li>
<li>汇编语言：符号语言</li>
<li>现代语言：高级语言</li>
</ul>
<h2 id="2、JS起源">2、JS起源</h2>
<p>JavaScript诞生于1995年，它的出现主要是用于处理网页中的前端验证。</p>
<p>所谓的前端验证，就是指检查用户输入的内容是否符合一定的规则。</p>
<p>比如：用户名的长度，密码的长度，邮箱的格式等。</p>
<p><img src="https://i.loli.net/2021/07/09/UdQBwaZ9qLkIz62.png" alt="1"></p>
<h2 id="3、JS简史">3、JS简史</h2>
<ul>
<li>JavaScript是由网景公司发明，起初命名为<strong>LiveScript</strong>，后来由于SUN公司的介入更名为了<strong>JavaScript</strong>。</li>
<li>1996年微软公司在其最新的IE3浏览器中引入了自己对JavaScript的实现<strong>JScript</strong>。</li>
<li>于是在市面上存在两个版本的JavaScript，一个网景公司的JavaScript和微软的JScript。</li>
<li>为了确保不同的浏览器上运行的JavaScript标准一致，所以几个公司共同定制了JS的标准名命名为<strong>ECMAScript</strong>。</li>
</ul>
<p><strong>时间表</strong></p>
<table>
<thead>
<tr>
<th style="text-align:left">年份</th>
<th style="text-align:left">事件</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">1995年</td>
<td style="text-align:left">网景公司开发了<strong>JavaScript</strong></td>
</tr>
<tr>
<td style="text-align:left">1996年</td>
<td style="text-align:left">微软发布了和JavaScript兼容的<strong>JScript</strong></td>
</tr>
<tr>
<td style="text-align:left">1997年</td>
<td style="text-align:left"><strong>ECMAScript</strong>第1版（ECMA-262）</td>
</tr>
<tr>
<td style="text-align:left">1998年</td>
<td style="text-align:left">ECMAScript第2版</td>
</tr>
<tr>
<td style="text-align:left">1998年</td>
<td style="text-align:left">DOM Level1的制定</td>
</tr>
<tr>
<td style="text-align:left">1998年</td>
<td style="text-align:left">新型语言<strong>DHTML</strong>登场</td>
</tr>
<tr>
<td style="text-align:left">1999年</td>
<td style="text-align:left">ECMAScript第3版</td>
</tr>
<tr>
<td style="text-align:left">2000年</td>
<td style="text-align:left">DOM Level2的制定</td>
</tr>
<tr>
<td style="text-align:left">2002年</td>
<td style="text-align:left">ISO/IEC16262：2002的确立</td>
</tr>
<tr>
<td style="text-align:left">2004年</td>
<td style="text-align:left">DOM Level3的制定</td>
</tr>
<tr>
<td style="text-align:left">2005年</td>
<td style="text-align:left">新型语言<strong>AJAX</strong>登场</td>
</tr>
<tr>
<td style="text-align:left">2009年</td>
<td style="text-align:left">ECMAScript第5版</td>
</tr>
<tr>
<td style="text-align:left">2009年</td>
<td style="text-align:left">新型语言<strong>HTML5</strong>登场</td>
</tr>
</tbody>
</table>
<h2 id="4、实现">4、实现</h2>
<p>ECMAScript是一个标准，而这个标准需要由各个厂商去实现。</p>
<p>不同的浏览器厂商对该标准会有不同的实现。</p>
<table>
<thead>
<tr>
<th style="text-align:left">浏览器</th>
<th style="text-align:left">JavaScript实现方式</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">FireFox</td>
<td style="text-align:left">SpiderMonkey</td>
</tr>
<tr>
<td style="text-align:left">Internet Explorer</td>
<td style="text-align:left">JScript/Chakra</td>
</tr>
<tr>
<td style="text-align:left">Safari</td>
<td style="text-align:left">JavaScriptCore</td>
</tr>
<tr>
<td style="text-align:left">Chrome</td>
<td style="text-align:left">v8</td>
</tr>
<tr>
<td style="text-align:left">Carakan</td>
<td style="text-align:left">Carakan</td>
</tr>
</tbody>
</table>
<p>我们已经知道ECMAScript是JavaScript标准。所以一般情况下，这两个词我们认为是一个意思。</p>
<p>但是实际上JavaScript的含义却要更大一些。</p>
<p>一个完整的JavaScript实现应该由以下三个部分构成：</p>
<p><img src="https://i.loli.net/2021/07/09/uPovC7kajNQhZtD.png" alt="image-20210707211446577"></p>
<h2 id="5、学习内容">5、学习内容</h2>
<p>我们已经知道了一个完整的JavaScript实现包含了三个部分：ECMAScript、DOM和BOM。</p>
<p>由此我们也知道了我们所要学习的内容就是这三部分。</p>
<ul>
<li>ECMAScript</li>
<li>DOM</li>
<li>BOM</li>
</ul>
<h2 id="6、JS的特点">6、JS的特点</h2>
<ul>
<li><strong>解释型语言</strong></li>
<li>类似于C和Java的语法结构</li>
<li>动态语言</li>
<li>基于原型的<strong>面向对象</strong></li>
</ul>
<h2 id="7、HelloWorld">7、HelloWorld</h2>
<h3 id="控制浏览器弹出一个警告框">控制浏览器弹出一个警告框</h3>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alert(<span class="string">"Hello World!"</span>);</span><br></pre></td></tr></tbody></table></figure>
<h3 id="让计算机在页面中输出一个内容">让计算机在页面中输出一个内容</h3>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.write(<span class="string">"Hello World!"</span>);</span><br></pre></td></tr></tbody></table></figure>
<h3 id="向控制台输出一个内容">向控制台输出一个内容</h3>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">"Hello World!"</span>);</span><br></pre></td></tr></tbody></table></figure>
<h1 id="JS基础">JS基础</h1>
<h2 id="1、JS编写位置">1、JS编写位置</h2>
<p>可以将js代码编写到标签的<code>onclick</code>属性中当我们点击按钮时，js代码才会执行</p>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">"alert(\"</span><span class="attr">Fuck</span>! <span class="attr">Do</span> <span class="attr">not</span> <span class="attr">touch</span> <span class="attr">me</span>!\")"&gt;</span><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>
<p>可以将js代码写在超链接的<code>href</code>属性中，这样当点击超链接时，会执行js代码</p>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"alert(\"</span><span class="attr">What</span>'<span class="attr">s</span> <span class="attr">up</span>, <span class="attr">man</span>?\")"&gt;</span>Try to click me<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>
<p>虽然可以写在标签的属性中，但是他们属于结构与行为耦合，不方便维护，不推荐使用</p>
<p>可以将js代码编写到<code>script</code>标签</p>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="javascript">    alert(<span class="string">"I'm inner script."</span>);</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>
<p>可以将js代码编写到外部js文件中，然后通过<code>script</code>标签引入</p>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"/js/script.js"</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>
<p><code>script</code>标签一旦用于引入外部文件了，就不能在编写代码了，即使编写了浏览器也会忽略</p>
<p>如果需要则可以在创建一个新的<code>script</code>标签用于编写内部代码</p>
<h2 id="2、JS注释">2、JS注释</h2>
<h3 id="多行注释">多行注释</h3>
<p>多行注释，注释中的内容不会被执行，但是可以在源代码中查看</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">   多行注释...</span></span><br><span class="line"><span class="comment">   多行注释...</span></span><br><span class="line"><span class="comment">   多行注释...</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></tbody></table></figure>
<h3 id="单行注释">单行注释</h3>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 单行注释</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="3、注意点">3、注意点</h2>
<ol>
<li>
<p>JS中严格区分大小写</p>
</li>
<li>
<p>JS中每一条语句以分号<code>;</code>结尾</p>
<p>如果不写分号，浏览器会自动添加，但是会消耗一些系统资源，而且有些时候，浏览器会加错分号，所以在开发中分号必须写</p>
</li>
<li>
<p>JS中会忽略多个空格和换行，所以我们可以利用空格和换行对代码进行格式化</p>
</li>
</ol>
<h2 id="4、字面量与变量">4、字面量与变量</h2>
<h3 id="字面量">字面量</h3>
<p>字面量，都是一些不可改变的值</p>
<p>字面量都是可以直接使用，但是我们一般都不会直接使用字面量</p>
<h3 id="变量">变量</h3>
<p>变量可以用来保存字面量，而且变量的值是可以任意改变的变量更加方便我们使用</p>
<p>所以在开发中都是通过变量去保存一个字面量，而很少直接使用字面量</p>
<p>可以通过变量对字面量进行描述</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 声明变量: 在js中使用var关键字来声明一个变量</span></span><br><span class="line"><span class="keyword">var</span> a;</span><br><span class="line"><span class="comment">// 为变量赋值</span></span><br><span class="line">a = <span class="number">123</span>;</span><br><span class="line">a = <span class="number">456</span>;</span><br><span class="line">a = <span class="number">123124223423424</span>;</span><br><span class="line"><span class="comment">// 声明和赋值同时进行</span></span><br><span class="line"><span class="keyword">var</span> b = <span class="number">789</span>;</span><br><span class="line"><span class="keyword">var</span> c = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">var</span> age = <span class="number">80</span>;</span><br><span class="line"><span class="built_in">console</span>.log(age);</span><br></pre></td></tr></tbody></table></figure>
<h2 id="5、标识符">5、标识符</h2>
<p>在JS中所有的可以由我们自主命名的都可以称为是标识符</p>
<p>例如：变量名、函数名、属性名都属于标识符</p>
<p>命名一个标识符时需要遵守如下的规则：</p>
<ol>
<li>标识符中可以含有字母、数字、_、$</li>
<li>标识符不能以数字开头</li>
<li>标识符不能是ES中的关键字或保留字</li>
<li>标识符一般都采用驼峰命名法
<ul>
<li>首字母小写，每个单词的开头字母大写，其余字母小写</li>
</ul>
</li>
</ol>
<h3 id="关键字">关键字</h3>
<table>
<thead>
<tr>
<th style="text-align:left"><strong>if</strong></th>
<th style="text-align:left"><strong>else</strong></th>
<th style="text-align:left"><strong>do</strong></th>
<th style="text-align:left"><strong>while</strong></th>
<th style="text-align:left"><strong>for</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><strong>break</strong></td>
<td style="text-align:left"><strong>continue</strong></td>
<td style="text-align:left"><strong>try</strong></td>
<td style="text-align:left"><strong>catch</strong></td>
<td style="text-align:left"><strong>finally</strong></td>
</tr>
<tr>
<td style="text-align:left"><strong>throw</strong></td>
<td style="text-align:left"><strong>true</strong></td>
<td style="text-align:left"><strong>false</strong></td>
<td style="text-align:left"><strong>function</strong></td>
<td style="text-align:left"><strong>return</strong></td>
</tr>
<tr>
<td style="text-align:left"><strong>switch</strong></td>
<td style="text-align:left"><strong>case</strong></td>
<td style="text-align:left"><strong>null</strong></td>
<td style="text-align:left"><strong>typeof</strong></td>
<td style="text-align:left"><strong>instanceof</strong></td>
</tr>
<tr>
<td style="text-align:left"><strong>new</strong></td>
<td style="text-align:left"><strong>var</strong></td>
<td style="text-align:left"><strong>void</strong></td>
<td style="text-align:left"><strong>in</strong></td>
<td style="text-align:left"><strong>with</strong></td>
</tr>
<tr>
<td style="text-align:left"><strong>default</strong></td>
<td style="text-align:left"><strong>debugger</strong></td>
<td style="text-align:left"><strong>delete</strong></td>
<td style="text-align:left"><strong>this</strong></td>
<td style="text-align:left"></td>
</tr>
</tbody>
</table>
<h3 id="保留字">保留字</h3>
<table>
<thead>
<tr>
<th style="text-align:left"><strong>class</strong></th>
<th style="text-align:left"><strong>enum</strong></th>
<th style="text-align:left"><strong>extends</strong></th>
<th style="text-align:left"><strong>super</strong></th>
<th style="text-align:left"><strong>const</strong></th>
<th style="text-align:left"><strong>export</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><strong>import</strong></td>
<td style="text-align:left"><strong>implements</strong></td>
<td style="text-align:left"><strong>let</strong></td>
<td style="text-align:left"><strong>private</strong></td>
<td style="text-align:left"><strong>public</strong></td>
<td style="text-align:left"><strong>yield</strong></td>
</tr>
<tr>
<td style="text-align:left"><strong>interface</strong></td>
<td style="text-align:left"><strong>package</strong></td>
<td style="text-align:left"><strong>protected</strong></td>
<td style="text-align:left"><strong>static</strong></td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
</tr>
</tbody>
</table>
<h3 id="其他不建议使用的标识符">其他不建议使用的标识符</h3>
<table>
<thead>
<tr>
<th><strong>boolean</strong></th>
<th><strong>byte</strong></th>
<th><strong>short</strong></th>
<th><strong>char</strong></th>
<th><strong>int</strong></th>
<th><strong>long</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>float</strong></td>
<td><strong>double</strong></td>
<td><strong>String</strong></td>
<td><strong>Boolean</strong></td>
<td><strong>Number</strong></td>
<td><strong>Object</strong></td>
</tr>
<tr>
<td><strong>Date</strong></td>
<td><strong>Array</strong></td>
<td><strong>Math</strong></td>
<td><strong>Error</strong></td>
<td><strong>SyntaxError</strong></td>
<td><strong>EvalError</strong></td>
</tr>
<tr>
<td><strong>TypeError</strong></td>
<td><strong>URIError</strong></td>
<td><strong>RangeError</strong></td>
<td><strong>ReferenceError</strong></td>
<td><strong>encodeURI</strong></td>
<td><strong>decodeURI</strong></td>
</tr>
<tr>
<td><strong>parselnt</strong></td>
<td><strong>parseFloat</strong></td>
<td><strong>NaN</strong></td>
<td><strong>isNaN</strong></td>
<td><strong>undefined</strong></td>
<td><strong>transient</strong></td>
</tr>
<tr>
<td><strong>throws</strong></td>
<td><strong>native</strong></td>
<td><strong>goto</strong></td>
<td><strong>eval</strong></td>
<td><strong>JSON</strong></td>
<td><strong>Infinity</strong></td>
</tr>
<tr>
<td><strong>arguments</strong></td>
<td><strong>isFinite</strong></td>
<td><strong>volatile</strong></td>
<td><strong>abstract</strong></td>
<td><strong>RegExp</strong></td>
<td><strong>Function</strong></td>
</tr>
<tr>
<td><strong>synchronize</strong></td>
<td><strong>final</strong></td>
<td><strong>encodeURICOmponent</strong></td>
<td><strong>decodeURIComponent</strong></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>JS底层保存标识符时实际上是采用的Unicode编码，所以理论上讲，所有的utf-8中含有的内容都可以作为标识符</p>
<h2 id="6、数据类型">6、数据类型</h2>
<p>数据类型指的就是字面量的类型，在JS中一共有六种数据类型</p>
<table>
<thead>
<tr>
<th style="text-align:left"><strong>基本数据类型</strong></th>
<th><strong>String</strong></th>
<th style="text-align:left"><strong>字符串</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"></td>
<td><strong>Number</strong></td>
<td style="text-align:left"><strong>数值</strong></td>
</tr>
<tr>
<td style="text-align:left"></td>
<td><strong>Boolean</strong></td>
<td style="text-align:left"><strong>布尔值</strong></td>
</tr>
<tr>
<td style="text-align:left"></td>
<td><strong>Null</strong></td>
<td style="text-align:left"><strong>空值</strong></td>
</tr>
<tr>
<td style="text-align:left"></td>
<td><strong>Undefined</strong></td>
<td style="text-align:left"><strong>未定义</strong></td>
</tr>
<tr>
<td style="text-align:left"><strong>引用类型</strong></td>
<td><strong>Object</strong></td>
<td style="text-align:left"><strong>对象</strong></td>
</tr>
</tbody>
</table>
<p>其中<code>String</code>、<code>Number</code>、<code>Boolean</code>、<code>Null</code>、<code>Undefined</code>属于基本数据类型，而<code>Object</code>属于引用数据类型</p>
<h3 id="String字符串">String字符串</h3>
<p>在JS中，字符串需要使用引号引起来，使用单引号或双引号都可以，但不要混合使用</p>
<p>同一种引号不能嵌套，双引号不能放双引号，单引号不能放单引号</p>
<p>在字符串中我们可以使用<code>\</code>作为转义字符，当表示一些特殊符号时可以使用<code>\</code>进行转义</p>
<ul>
<li><code>\"</code>表示<code>"</code></li>
<li><code>\'</code>表示<code>'</code></li>
<li><code>\n</code>表示换行</li>
<li><code>\t</code>制表符</li>
<li><code>\\</code>表示<code>\</code></li>
</ul>
<h3 id="Number数值">Number数值</h3>
<p>在JS中，所有的数值都是<code>Number</code>类型，包括整数和浮点数（小数）</p>
<p>可以使用一个运算符<code>typeof</code>，来检查一个变量的类型。语法：<code>typeof 变量</code></p>
<ul>
<li>检查字符串时，会返回<code>string</code></li>
<li>检查数值时，会返回<code>number</code></li>
</ul>
<p><strong>MAX_VALUE</strong></p>
<p>JS中可以表示的数字的最大值 <code>Number.MAX_VALUE=1.7976931348623157e+308</code></p>
<p>如果使用<code>Number</code>表示的数字超过了最大值，则会返回一个<code>Infinity</code></p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="built_in">Number</span>.MAX_VALUE * <span class="built_in">Number</span>.MAX_VALUE;</span><br><span class="line"><span class="built_in">console</span>.log(a); <span class="comment">// Infinity</span></span><br></pre></td></tr></tbody></table></figure>
<p><strong>MIN_VALUE</strong></p>
<p>大于0的最小值 <code>Number.MIN_VALUE=5e-324</code></p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="built_in">Number</span>.MIN_VALUE * <span class="built_in">Number</span>.MIN_VALUE;</span><br><span class="line"><span class="built_in">console</span>.log(a); <span class="comment">// 0</span></span><br></pre></td></tr></tbody></table></figure>
<p><strong>Infinity</strong></p>
<ul>
<li><code>Infinity</code>表示正无穷</li>
<li><code>-Infinity</code> 表示负无穷</li>
</ul>
<p>使用<code>typeof</code>检查，<code>Infinity</code>会返回<code>Number</code></p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="built_in">Number</span>.MAX_VALUE * <span class="built_in">Number</span>.MAX_VALUE;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> a); <span class="comment">// number</span></span><br></pre></td></tr></tbody></table></figure>
<p><strong>NaN</strong></p>
<p><code>NaN</code>是一个特殊的数字，表示<code>Not A Number</code></p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="string">'abc'</span> * <span class="string">'def'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(a); <span class="comment">// NaN</span></span><br></pre></td></tr></tbody></table></figure>
<p>使用<code>typeof</code>检查一个<code>NaN</code>也会返回<code>number</code></p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="string">'abc'</span> * <span class="string">'def'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> a); <span class="comment">// number</span></span><br></pre></td></tr></tbody></table></figure>
<p><strong>运算精度</strong></p>
<p>在JS中整数的运算基本可以保证精确</p>
<p>如果使用JS进行浮点运算，可能得到一个不精确的结果</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">0.1</span> + <span class="number">0.2</span>;</span><br><span class="line"><span class="built_in">console</span>.log(a); <span class="comment">// 0.30000000000000004</span></span><br></pre></td></tr></tbody></table></figure>
<p>所以千万不要使用JS进行对精确度要求比较高的运算</p>
<h3 id="Boolean布尔值">Boolean布尔值</h3>
<p>布尔值只有两个，主要用来做逻辑判断</p>
<ul>
<li><code>true</code>表示真</li>
<li><code>false</code>表示假</li>
</ul>
<p>使用<code>typeof</code>检查一个布尔值时，会返回<code>boolean</code></p>
<h3 id="Null">Null</h3>
<p>Null类型的值只有一个，就是<code>null</code></p>
<p><code>null</code>这个值专门用来表示一个为空的对象</p>
<p>使用<code>typeof</code>检查一个<code>null</code>值时，会返回<code>object</code></p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a3 = <span class="literal">null</span>;</span><br><span class="line"><span class="built_in">console</span>.log(a3); <span class="comment">// null</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> a3); <span class="comment">// object</span></span><br></pre></td></tr></tbody></table></figure>
<h3 id="Undefined">Undefined</h3>
<p>Undefined（未定义）类型的值只有一个，就是<code>undefind</code></p>
<p>当声明一个变量，但是并不给变量赋值时，它的值就是<code>undefined</code></p>
<p>使用typeof检查一个<code>undefined</code>时，也会返回<code>undefined</code></p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a4;</span><br><span class="line"><span class="built_in">console</span>.log(a4); <span class="comment">// undefind</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> a4); <span class="comment">// undefind</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="7、强制类型转换">7、强制类型转换</h2>
<p>指将一个数据类型强制转换为其他的数据类型</p>
<p>类型转换主要指，将其他的数据类型，转换为<code>String</code>、<code>Number</code>、<code>Boolean</code></p>
<h3 id="7-1、其他数据类型转换为String">7.1、其他数据类型转换为String</h3>
<h4 id="方式一：调用被转换数据类型的toString-方法">方式一：调用被转换数据类型的toString()方法</h4>
<p>该方法不会影响到原变量，它会将转换的结果返回</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Number转换为String</span></span><br><span class="line"><span class="keyword">var</span> a1 = <span class="number">123</span>;</span><br><span class="line"><span class="keyword">var</span> b1 = a1.toString();</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> a1); <span class="comment">// number</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> b1); <span class="comment">// string</span></span><br><span class="line"><span class="comment">// Boolean转换为String</span></span><br><span class="line"><span class="keyword">var</span> a2 = <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">var</span> b2 = a2.toString();</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> a2); <span class="comment">// boolean</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> b2); <span class="comment">// string</span></span><br></pre></td></tr></tbody></table></figure>
<p>但是注意：<code>null</code>和<code>undefined</code>这两个值没有<code>toString()</code>，如果调用他们的方法，会报错</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Null转换为String</span></span><br><span class="line"><span class="keyword">var</span> a3 = <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">var</span> b3 = a3.toString(); <span class="comment">// UncaughtTypeError: Cannot read property 'toString' of null</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> a3); </span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> b3);</span><br><span class="line"><span class="comment">// Undefined转换为String</span></span><br><span class="line"><span class="keyword">var</span> a4 = <span class="literal">undefined</span>;</span><br><span class="line"><span class="keyword">var</span> b4 = a4.toString(); <span class="comment">// UncaughtTypeError: Cannot read property 'toString' of undefined</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> a4); </span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> b4);</span><br></pre></td></tr></tbody></table></figure>
<h4 id="方式二：调用String-函数，并将被转换的数据作为参数传递给函数">方式二：调用String()函数，并将被转换的数据作为参数传递给函数</h4>
<p>使用<code>String()</code>函数做强制类型转换时，对于<code>Number</code>和<code>Boolean</code>实际上就是调用的<code>toString()</code>方法</p>
<p>但是对于<code>null</code>和<code>undefined</code>，就不会调用<code>toString()</code>方法，而是将</p>
<ul>
<li><code>null</code>直接转换为<code>"null"</code></li>
<li><code>undefined</code> 直接转换为<code>"undefined"</code></li>
</ul>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Number转换为String</span></span><br><span class="line"><span class="keyword">var</span> a1 = <span class="number">123</span>;</span><br><span class="line"><span class="keyword">var</span> b1 = <span class="built_in">String</span>(a1);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> a1); <span class="comment">// number</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> b1); <span class="comment">// string</span></span><br><span class="line"><span class="comment">// Boolean转换为String</span></span><br><span class="line"><span class="keyword">var</span> a2 = <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">var</span> b2 = <span class="built_in">String</span>(a2);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> a2); <span class="comment">// boolean</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> b2); <span class="comment">// string</span></span><br><span class="line"><span class="comment">// Null转换为String</span></span><br><span class="line"><span class="keyword">var</span> a3 = <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">var</span> b3 = <span class="built_in">String</span>(a3);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> a3); <span class="comment">// object</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> b3); <span class="comment">// string</span></span><br><span class="line"><span class="comment">// Undefined转换为String</span></span><br><span class="line"><span class="keyword">var</span> a4 = <span class="literal">undefined</span>;</span><br><span class="line"><span class="keyword">var</span> b4 = <span class="built_in">String</span>(a4);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> a4); <span class="comment">// undefined</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> b4); <span class="comment">// string</span></span><br></pre></td></tr></tbody></table></figure>
<h3 id="7-2、其他数据类型转换为Number">7.2、其他数据类型转换为Number</h3>
<h4 id="方式一：使用Number-函数">方式一：使用Number()函数</h4>
<ul>
<li>
<p>字符串 --&gt; 数字</p>
<ul>
<li>如果是纯数字的字符串，则直接将其转换为数字</li>
<li>如果字符串中有非数字的内容，则转换为<code>NaN</code></li>
<li>如果字符串是一个空串或者是一个全是空格的字符串，则转换为<code>0</code></li>
</ul>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// **转换方式一：使用Number()函数**</span></span><br><span class="line"><span class="comment">// 纯数字的字符串</span></span><br><span class="line"><span class="keyword">var</span> a1 = <span class="string">'123'</span>;         </span><br><span class="line">a1 = <span class="built_in">Number</span>(a1);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> a1); <span class="comment">// number</span></span><br><span class="line"><span class="built_in">console</span>.log(a1); 	    <span class="comment">// 123</span></span><br><span class="line"><span class="comment">// 非数字的内容</span></span><br><span class="line"><span class="comment">// var a2 = 'abc';         </span></span><br><span class="line"><span class="keyword">var</span> a2 = <span class="literal">undefined</span>;</span><br><span class="line">a2 = <span class="built_in">Number</span>(a2);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> a2); <span class="comment">// number</span></span><br><span class="line"><span class="built_in">console</span>.log(a2);        <span class="comment">// NaN </span></span><br><span class="line"><span class="comment">// 空串</span></span><br><span class="line"><span class="comment">// var a3 = ' ';      </span></span><br><span class="line"><span class="keyword">var</span> a3 = <span class="literal">null</span>;       </span><br><span class="line">a3 = <span class="built_in">Number</span>(a3);        </span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> a3); <span class="comment">// number</span></span><br><span class="line"><span class="built_in">console</span>.log(a3);        <span class="comment">// 0</span></span><br></pre></td></tr></tbody></table></figure>
</li>
<li>
<p>布尔 --&gt; 数字</p>
<ul>
<li><code>true</code>转成<code>1</code></li>
<li><code>false</code>转成<code>0</code></li>
</ul>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a4 = <span class="literal">true</span>;</span><br><span class="line">a4 = <span class="built_in">Number</span>(a4);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> a4); <span class="comment">// number</span></span><br><span class="line"><span class="built_in">console</span>.log(a4);        <span class="comment">// 1</span></span><br><span class="line"><span class="keyword">var</span> a5 = <span class="literal">false</span>;</span><br><span class="line">a5 = <span class="built_in">Number</span>(a5);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> a5); <span class="comment">// number</span></span><br><span class="line"><span class="built_in">console</span>.log(a5);        <span class="comment">// 0</span></span><br></pre></td></tr></tbody></table></figure>
</li>
</ul>
<h4 id="方式二：专门用来对付字符串">方式二：专门用来对付字符串</h4>
<ul>
<li><code>parseInt()</code>把一个字符串转换为一个整数：可以将一个字符串中的有效整数部分取出来，然后转换为Number</li>
<li><code>parseFloat()</code>把一个字符串转换为一个浮点数：可以将一个字符串中的有效小数部分取出来，然后转换为Number</li>
<li>如果对非String使用<code>parseInt()</code>或<code>parseFloat()</code>，它会先将其转换为String，然后再操作</li>
</ul>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a1 = <span class="string">"123"</span>;</span><br><span class="line">a1 = <span class="built_in">parseInt</span>(a1);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> a1); <span class="comment">// number</span></span><br><span class="line"><span class="built_in">console</span>.log(a1);        <span class="comment">// 123</span></span><br><span class="line"><span class="keyword">var</span> a2 = <span class="string">"123.456"</span>;</span><br><span class="line">a2 = <span class="built_in">parseInt</span>(a2);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> a2); <span class="comment">// number</span></span><br><span class="line"><span class="built_in">console</span>.log(a2);        <span class="comment">// 123</span></span><br><span class="line"><span class="keyword">var</span> a3 = <span class="string">"123px"</span>;</span><br><span class="line">a3 = <span class="built_in">parseInt</span>(a3);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> a3); <span class="comment">// number</span></span><br><span class="line"><span class="built_in">console</span>.log(a3);        <span class="comment">// 123 </span></span><br><span class="line"><span class="comment">// var a4 = null;</span></span><br><span class="line"><span class="comment">// var a4 = undefined;</span></span><br><span class="line"><span class="comment">// var a4 = '';</span></span><br><span class="line"><span class="comment">// var a4 = 'abc';</span></span><br><span class="line"><span class="comment">// var a4 = true;</span></span><br><span class="line"><span class="keyword">var</span> a4 = <span class="literal">false</span>;</span><br><span class="line">a4 = <span class="built_in">parseInt</span>(a4);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> a4); <span class="comment">// number</span></span><br><span class="line"><span class="built_in">console</span>.log(a4);        <span class="comment">// NaN</span></span><br></pre></td></tr></tbody></table></figure>
<h3 id="7-3、其他数据类型转换为Boolean">7.3、其他数据类型转换为Boolean</h3>
<h4 id="方式一：使用Boolean-函数">方式一：使用<code>Boolean()</code>函数</h4>
<ul>
<li>数字-—-&gt;布尔
<ul>
<li>除了<code>0</code>和<code>NaN</code>，其余的都是<code>true</code></li>
</ul>
</li>
<li>字符串-—-&gt;布尔
<ul>
<li>除了空串，其余的都是<code>true</code></li>
</ul>
</li>
<li><code>null</code>和<code>undefined</code>都会转换为<code>false</code></li>
<li>对象也会转换为<code>true</code></li>
</ul>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// - 数字-—-&gt;布尔</span></span><br><span class="line"><span class="comment">//   - 除了`0`和`NaN`，其余的都是`true`</span></span><br><span class="line"><span class="comment">// var a1 = 0;</span></span><br><span class="line"><span class="keyword">var</span> a1 = <span class="literal">NaN</span>;</span><br><span class="line">a1 = <span class="built_in">Boolean</span>(a1);</span><br><span class="line"><span class="built_in">console</span>.log(a1); <span class="comment">// false</span></span><br><span class="line"><span class="keyword">var</span> a2 = <span class="number">123</span>;</span><br><span class="line">a2 = <span class="built_in">Boolean</span>(a2);</span><br><span class="line"><span class="built_in">console</span>.log(a2); <span class="comment">// true</span></span><br><span class="line"><span class="comment">// - 字符串-—-&gt;布尔</span></span><br><span class="line"><span class="comment">//   - 除了空串，其余的都是`true`</span></span><br><span class="line"><span class="keyword">var</span> a3 = <span class="string">"123"</span>;</span><br><span class="line">a3 = <span class="built_in">Boolean</span>(a3);</span><br><span class="line"><span class="built_in">console</span>.log(a3); <span class="comment">// true</span></span><br><span class="line"><span class="keyword">var</span> a4 = <span class="string">" "</span>;</span><br><span class="line">a4 = <span class="built_in">Boolean</span>(a4);</span><br><span class="line"><span class="built_in">console</span>.log(a4); <span class="comment">// true</span></span><br><span class="line"><span class="keyword">var</span> a5 = <span class="string">""</span>;</span><br><span class="line">a5 = <span class="built_in">Boolean</span>(a5);</span><br><span class="line"><span class="built_in">console</span>.log(a5); <span class="comment">// false</span></span><br><span class="line"><span class="comment">// - `null`和`undefined`都会转换为`false`</span></span><br><span class="line"><span class="comment">// var a6 = null;</span></span><br><span class="line"><span class="keyword">var</span> a6 = <span class="literal">undefined</span>;</span><br><span class="line">a6 = <span class="built_in">Boolean</span>(a6);</span><br><span class="line"><span class="built_in">console</span>.log(a6); <span class="comment">// false</span></span><br></pre></td></tr></tbody></table></figure>
<h4 id="方式二：隐式类型转换">方式二：隐式类型转换</h4>
<p>为任意的数据类型做两次非运算，即可将其转换为布尔值（下一节会介绍）</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="string">"123"</span>;</span><br><span class="line"><span class="keyword">var</span> b = !!a;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"a="</span>+a+<span class="string">",b="</span>+b); <span class="comment">// a=true,b=true</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="8、补充">8、补充</h2>
<p>在js中，如果需要表示16进制的数字，则需要以<code>0x</code>开头</p>
<p>如果需要表示8进制的数字，则需要以<code>0</code>开头</p>
<p>如果需要表示2进制的数字，则需要以<code>0b</code>开头，但是不是所有的浏览器都支持</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 十六进制数字</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">0x10</span>;</span><br><span class="line"><span class="built_in">console</span>.log(a); <span class="comment">// 16</span></span><br><span class="line">a = <span class="number">0xff</span>;</span><br><span class="line"><span class="built_in">console</span>.log(a); <span class="comment">// 255</span></span><br><span class="line">a = <span class="number">0xCafe</span>;</span><br><span class="line"><span class="built_in">console</span>.log(a); <span class="comment">// 51966</span></span><br><span class="line">a = <span class="string">"0x70"</span>;</span><br><span class="line">a = <span class="built_in">parseInt</span>(a,<span class="number">16</span>);</span><br><span class="line"><span class="built_in">console</span>.log(a); <span class="comment">// 112</span></span><br><span class="line"><span class="comment">// 八进制数字</span></span><br><span class="line">a = <span class="number">070</span>;</span><br><span class="line"><span class="built_in">console</span>.log(a); <span class="comment">// 56</span></span><br><span class="line">a = <span class="string">"070"</span>;</span><br><span class="line">a = <span class="built_in">parseInt</span>(a,<span class="number">8</span>);</span><br><span class="line"><span class="built_in">console</span>.log(a); <span class="comment">// 56</span></span><br><span class="line"><span class="comment">// 二进制数字</span></span><br><span class="line">a = <span class="number">0b10</span>;</span><br><span class="line"><span class="built_in">console</span>.log(a); <span class="comment">// 2</span></span><br></pre></td></tr></tbody></table></figure>
<h1 id="JS运算">JS运算</h1>
<h2 id="1、运算符">1、运算符</h2>
<p>运算符也叫操作符，通过运算符可以对一个或多个值进行运算，并获取运算结果</p>
<p>比如：<code>typeof</code>就是运算符，可以来获得一个值的类型</p>
<p>它会将该值的类型以字符串的形式返回 <code>number string boolean undefined object</code></p>
<h2 id="2、算数运算符">2、算数运算符</h2>
<ul>
<li>当对非Number类型的值进行运算时，会将这些值转换为Number然后再运算</li>
<li>任何值和<code>NaN</code>做运算都得<code>NaN</code></li>
</ul>
<p>算数运算符</p>
<ul>
<li>
<p><code>+</code> 可以对两个值进行加法运算，并将结果返回</p>
<ul>
<li>如果对两个字符串进行加法运算，则会将两个字符串拼接为一个字符串，并返回</li>
<li>任何的值和字符串做加法运算，都会先转换为字符串，然后再和字符串做拼串的操作</li>
</ul>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a1 = <span class="number">123</span> + <span class="number">456</span>;</span><br><span class="line"><span class="built_in">console</span>.log(a1); <span class="comment">// 579</span></span><br><span class="line"><span class="keyword">var</span> a2 = <span class="string">"123"</span> + <span class="string">"456"</span>;</span><br><span class="line"><span class="built_in">console</span>.log(a2); <span class="comment">// 123456</span></span><br><span class="line"><span class="keyword">var</span> a3 = <span class="string">"123"</span> + <span class="number">456</span>;</span><br><span class="line"><span class="built_in">console</span>.log(a3); <span class="comment">// 123456</span></span><br><span class="line"><span class="keyword">var</span> a4 = <span class="number">123</span> + <span class="string">"456"</span>;</span><br><span class="line"><span class="built_in">console</span>.log(a4); <span class="comment">// 123456</span></span><br><span class="line"><span class="keyword">var</span> a5 = <span class="number">123</span> + <span class="literal">true</span>;</span><br><span class="line"><span class="built_in">console</span>.log(a5); <span class="comment">// 124</span></span><br><span class="line"><span class="keyword">var</span> a6 = <span class="number">123</span> + <span class="string">""</span>;</span><br><span class="line"><span class="built_in">console</span>.log(a6); <span class="comment">// 123</span></span><br><span class="line"><span class="keyword">var</span> a7 = <span class="number">123</span> + <span class="literal">null</span>;</span><br><span class="line"><span class="built_in">console</span>.log(a7); <span class="comment">// 123</span></span><br><span class="line"><span class="keyword">var</span> a8 = <span class="number">123</span> + <span class="literal">undefined</span>;</span><br><span class="line"><span class="built_in">console</span>.log(a8); <span class="comment">// NaN</span></span><br><span class="line"><span class="keyword">var</span> a9 = <span class="number">123</span> + <span class="literal">NaN</span>;</span><br><span class="line"><span class="built_in">console</span>.log(a9); <span class="comment">// NaN</span></span><br><span class="line"><span class="keyword">var</span> a10 = <span class="string">"123"</span> + <span class="literal">NaN</span>;</span><br><span class="line"><span class="built_in">console</span>.log(a10); <span class="comment">// 123NaN</span></span><br></pre></td></tr></tbody></table></figure>
</li>
<li>
<p><code>-</code> 可以对两个值进行减法运算，并将结果返回</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> b1 = <span class="number">456</span> - <span class="number">123</span>;</span><br><span class="line"><span class="built_in">console</span>.log(b1); <span class="comment">// 333</span></span><br><span class="line"><span class="keyword">var</span> b2 = <span class="number">456</span> - <span class="string">"123"</span>;</span><br><span class="line"><span class="built_in">console</span>.log(b2); <span class="comment">// 333</span></span><br><span class="line"><span class="keyword">var</span> b3 = <span class="number">456</span> - <span class="literal">true</span>;</span><br><span class="line"><span class="built_in">console</span>.log(b3); <span class="comment">// 455</span></span><br><span class="line"><span class="keyword">var</span> b4 = <span class="number">456</span> - <span class="string">""</span>;</span><br><span class="line"><span class="built_in">console</span>.log(b4); <span class="comment">// 456</span></span><br><span class="line"><span class="keyword">var</span> b5 = <span class="number">456</span> - <span class="literal">null</span>;</span><br><span class="line"><span class="built_in">console</span>.log(b5); <span class="comment">// 456</span></span><br><span class="line"><span class="keyword">var</span> b6 = <span class="number">456</span> - <span class="string">"abc"</span>;</span><br><span class="line"><span class="built_in">console</span>.log(b6); <span class="comment">// NaN</span></span><br><span class="line"><span class="keyword">var</span> b7 = <span class="number">456</span> - <span class="literal">NaN</span>;</span><br><span class="line"><span class="built_in">console</span>.log(b7); <span class="comment">// NaN</span></span><br><span class="line"><span class="keyword">var</span> b8 = <span class="number">456</span> - <span class="literal">undefined</span>;</span><br><span class="line"><span class="built_in">console</span>.log(b8); <span class="comment">// NaN</span></span><br></pre></td></tr></tbody></table></figure>
</li>
<li>
<p><code>*</code> 可以对两个值进行乘法运算，并将结果返回</p>
</li>
<li>
<p><code>/</code> 可以对两个值进行除法运算，并将结果返回</p>
</li>
<li>
<p><code>%</code> 可以对两个值进行取模运算，并将结果返回</p>
</li>
</ul>
<p>根据这些特点，我们可以利用<code>+""</code>将Number转为String，利用<code>-0</code>、<code>*1</code>、<code>/1</code>将String转为Number</p>
<h2 id="3、一元运算符">3、一元运算符</h2>
<p>一元运算符，只需要一个操作数</p>
<ul>
<li><code>+</code> 正号：正号不会对数字产生任何影响</li>
<li><code>-</code> 负号：负号可以对数字进行负号的取反</li>
</ul>
<p>对于非Number类型的值，它会将先转换为Number，然后再运算</p>
<p>可以对一个其他的数据类型使用<code>+</code>，来将其转换为Number，它的原理和<code>Number()</code>函数一样</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="string">"10"</span>;</span><br><span class="line"><span class="keyword">var</span> result = +a;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> result);    <span class="comment">// number</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"result="</span>+result); <span class="comment">// result=10</span></span><br><span class="line">result = -a;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"result="</span>+result); <span class="comment">// result=-10</span></span><br><span class="line">a = <span class="literal">true</span>;</span><br><span class="line">result = +a;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"result="</span>+result); <span class="comment">// result=1</span></span><br><span class="line">a = <span class="string">""</span>;</span><br><span class="line">result = +a;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"result="</span>+result); <span class="comment">// result=0</span></span><br><span class="line">a = <span class="literal">null</span>;</span><br><span class="line">result = +a;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"result="</span>+result); <span class="comment">// result=0</span></span><br><span class="line">a = <span class="literal">undefined</span>;</span><br><span class="line">result = +a;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"result="</span>+result); <span class="comment">// result=NaN</span></span><br><span class="line">a = <span class="literal">NaN</span>;</span><br><span class="line">result = +a;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"result="</span>+result); <span class="comment">// result=NaN</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="4、自增和自减">4、自增和自减</h2>
<h3 id="自增">自增++</h3>
<p>通过自增可以使变量在自身的基础上增加1</p>
<p>自增分成两种：后++（<code>a++</code>）和前++（<code>++a</code>）</p>
<p>无论是<code>a++</code>还是<code>++a</code>，都会立即使原变量的值自增1</p>
<p>不同的是<code>a++</code>和<code>++a</code>的值不同</p>
<ul>
<li><code>a++</code>是变量的原值（自增前的值）</li>
<li><code>++a</code>是变量的新值（自增后的值）</li>
</ul>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a,b;</span><br><span class="line">a = <span class="number">1</span>;</span><br><span class="line">b = a++;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"a++ = "</span> + b + <span class="string">", a = "</span> + a); <span class="comment">// a++ = 1, a = 2</span></span><br><span class="line">a = <span class="number">1</span>;</span><br><span class="line">b = ++a;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"++a = "</span> + b + <span class="string">", a = "</span> + a); <span class="comment">// ++a = 2, a = 2</span></span><br></pre></td></tr></tbody></table></figure>
<h3 id="自减–">自减–</h3>
<p>通过自减可以使变量在自身的基础上减少1</p>
<p>自减分成两种：后–（<code>a--</code>）和前–（<code>--a</code>）</p>
<p>无论是<code>a--</code>还是<code>--a</code>，都会立即使原变量的值自减1</p>
<p>不同的是<code>a--</code>和<code>--a</code>的值不同</p>
<ul>
<li><code>a--</code>是变量的原值（自减前的值）</li>
<li><code>--a</code>是变量的新值（自减后的值）</li>
</ul>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a,b;</span><br><span class="line">a = <span class="number">1</span>;</span><br><span class="line">b = a--;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"a-- = "</span> + b + <span class="string">", a = "</span> + a); <span class="comment">// a-- = 1, a = 0</span></span><br><span class="line">a = <span class="number">1</span>;</span><br><span class="line">b = --a;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"--a = "</span> + b + <span class="string">", a = "</span> + a); <span class="comment">// --a = 0, a = 0</span></span><br></pre></td></tr></tbody></table></figure>
<p><strong>练习</strong></p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">10</span>;</span><br><span class="line">b = a++ + ++a + a; <span class="comment">// 10 + 12 + 12;</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'a = '</span> + a + <span class="string">', b = '</span> + b); <span class="comment">// a = 12, b = 34</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="5、逻辑运算符">5、逻辑运算符</h2>
<p>JS中为我们提供了三种逻辑运算符</p>
<ul>
<li><code>!</code> 非</li>
<li><code>&amp;&amp;</code> 与</li>
<li><code>||</code> 或</li>
</ul>
<h3 id="非运算">非运算</h3>
<p><code>!</code>可以用来对一个值进行非运算</p>
<p>所谓非运算就是值对一个布尔值进行取反操作，<code>true</code>变<code>false</code>，<code>false</code>变<code>true</code></p>
<ul>
<li>如果对一个值进行两次取反，它不会变化</li>
<li>如果对非布尔值进行运算，则会将其转换为布尔值，然后再取反</li>
</ul>
<p>所以我们可以利用该特点，来将一个其他的数据类型转换为布尔值</p>
<p>可以为一个任意数据类型取两次反，来将其转换为布尔值，原理和<code>Boolean()</code>函数一样</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a,b;</span><br><span class="line">a = <span class="literal">true</span>;</span><br><span class="line">b = !a;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"a="</span>+a+<span class="string">",b="</span>+b); <span class="comment">// a=true,b=false</span></span><br><span class="line">b = !!a;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"a="</span>+a+<span class="string">",b="</span>+b); <span class="comment">// a=true,b=true</span></span><br></pre></td></tr></tbody></table></figure>
<h3 id="与运算">与运算</h3>
<p><code>&amp;&amp;</code>可以对符号两侧的值进行与运算并返回结果</p>
<p>运算规则</p>
<ul>
<li>两个值中只要有一个值的<code>false</code>就返回<code>false</code>；只有两个值都为<code>true</code>时，才会返回<code>true</code></li>
<li>JS中的“与”属于短路的与，如果第一个值为<code>false</code>，则不会检查第二个值</li>
</ul>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a;</span><br><span class="line">a = <span class="literal">true</span> &amp;&amp; <span class="literal">true</span>;   <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(a);</span><br><span class="line">a = <span class="literal">true</span> &amp;&amp; <span class="literal">false</span>;  <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(a);</span><br><span class="line">a = <span class="literal">false</span> &amp;&amp; <span class="literal">true</span>;  <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(a);</span><br><span class="line">a = <span class="literal">false</span> &amp;&amp; <span class="literal">false</span>; <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(a);</span><br></pre></td></tr></tbody></table></figure>
<h3 id="或运算">或运算</h3>
<p><code>||</code>可以对符号两侧的值进行或运算并返回结果</p>
<p>运算规则：</p>
<ul>
<li>两个值中只要有一个<code>true</code>，就返回<code>true</code>；如果两个值都为<code>false</code>，才返回<code>false</code></li>
<li>JS中的“或”属于短路的或，如果第一个值为<code>true</code>，则不会检查第二个值</li>
</ul>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a;</span><br><span class="line">a = <span class="literal">true</span> || <span class="literal">true</span>;   <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(a);</span><br><span class="line">a = <span class="literal">true</span> || <span class="literal">false</span>;  <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(a);</span><br><span class="line">a = <span class="literal">false</span> || <span class="literal">true</span>;  <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(a);</span><br><span class="line">a = <span class="literal">false</span> || <span class="literal">false</span>; <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(a);</span><br></pre></td></tr></tbody></table></figure>
<h3 id="、-非布尔值的情况">&amp;&amp;、|| 非布尔值的情况</h3>
<p>对于非布尔值进行与或运算时，会先将其转换为布尔值，然后再运算，并且返回原值</p>
<p>与运算</p>
<ul>
<li>如果第一个值为<code>true</code>，则必然返回第二个值</li>
<li>如果第一个值为<code>false</code>，则直接返回第一个值</li>
</ul>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> result;</span><br><span class="line">result = <span class="number">1</span> &amp;&amp; <span class="number">2</span>;</span><br><span class="line"><span class="built_in">console</span>.log(result);   <span class="comment">// 2</span></span><br><span class="line">result = <span class="number">2</span> &amp;&amp; <span class="number">1</span>;</span><br><span class="line"><span class="built_in">console</span>.log(result);   <span class="comment">// 1</span></span><br><span class="line">result = <span class="number">1</span> &amp;&amp; <span class="number">0</span>;</span><br><span class="line"><span class="built_in">console</span>.log(result);   <span class="comment">// 0</span></span><br><span class="line">result = <span class="number">0</span> &amp;&amp; <span class="number">1</span>;</span><br><span class="line"><span class="built_in">console</span>.log(result);   <span class="comment">// 0</span></span><br><span class="line">result = <span class="string">""</span> &amp;&amp; <span class="number">1</span>;</span><br><span class="line"><span class="built_in">console</span>.log(result);   <span class="comment">//</span></span><br><span class="line">result = <span class="number">1</span> &amp;&amp; <span class="string">""</span>;</span><br><span class="line"><span class="built_in">console</span>.log(result);   <span class="comment">//</span></span><br><span class="line">result = <span class="literal">null</span> &amp;&amp; <span class="number">1</span>;</span><br><span class="line"><span class="built_in">console</span>.log(result);   <span class="comment">// null</span></span><br><span class="line">result = <span class="number">1</span> &amp;&amp; <span class="literal">null</span>;</span><br><span class="line"><span class="built_in">console</span>.log(result);   <span class="comment">// null</span></span><br><span class="line">result = <span class="literal">undefined</span> &amp;&amp; <span class="number">1</span>;</span><br><span class="line"><span class="built_in">console</span>.log(result);   <span class="comment">// undefined	</span></span><br><span class="line">result = <span class="number">1</span> &amp;&amp; <span class="literal">undefined</span>;</span><br><span class="line"><span class="built_in">console</span>.log(result);   <span class="comment">// undefined</span></span><br></pre></td></tr></tbody></table></figure>
<p>或运算</p>
<ul>
<li>如果第一个值为<code>true</code>，则直接返回第一个值</li>
<li>如果第一个值为<code>false</code>，则返回第二个值</li>
</ul>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> result;</span><br><span class="line">result = <span class="number">1</span> || <span class="number">2</span>;</span><br><span class="line"><span class="built_in">console</span>.log(result);   <span class="comment">// 1</span></span><br><span class="line">result = <span class="number">2</span> || <span class="number">1</span>;</span><br><span class="line"><span class="built_in">console</span>.log(result);   <span class="comment">// 2</span></span><br><span class="line">result = <span class="number">1</span> || <span class="number">0</span>;</span><br><span class="line"><span class="built_in">console</span>.log(result);   <span class="comment">// 1</span></span><br><span class="line">result = <span class="number">0</span> || <span class="number">1</span>;</span><br><span class="line"><span class="built_in">console</span>.log(result);   <span class="comment">// 1</span></span><br><span class="line">result = <span class="string">""</span> || <span class="number">1</span>;</span><br><span class="line"><span class="built_in">console</span>.log(result);   <span class="comment">// 1</span></span><br><span class="line">result = <span class="number">1</span> || <span class="string">""</span>;</span><br><span class="line"><span class="built_in">console</span>.log(result);   <span class="comment">// 1</span></span><br><span class="line">result = <span class="literal">null</span> || <span class="number">1</span>;</span><br><span class="line"><span class="built_in">console</span>.log(result);   <span class="comment">// 1</span></span><br><span class="line">result = <span class="number">1</span> || <span class="literal">null</span>;</span><br><span class="line"><span class="built_in">console</span>.log(result);   <span class="comment">// 1</span></span><br><span class="line">result = <span class="literal">undefined</span> || <span class="number">1</span>;</span><br><span class="line"><span class="built_in">console</span>.log(result);   <span class="comment">// 1	</span></span><br><span class="line">result = <span class="number">1</span> || <span class="literal">undefined</span>;</span><br><span class="line"><span class="built_in">console</span>.log(result);   <span class="comment">// 1	</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="6、赋值运算符">6、赋值运算符</h2>
<p><code>=</code> 可以将符号右侧的值赋值给符号左侧的变量</p>
<ul>
<li><code>+=</code> <code>a+=5</code>等价于<code>a=a+5</code></li>
<li><code>-=</code> <code>a-=5</code>等价于<code>a=a-5</code></li>
<li><code>*=</code> <code>a*=5</code>等价于<code>a=a*5</code></li>
<li><code>/=</code> <code>a/=5</code>等价于<code>a=a/5</code></li>
<li><code>%=</code> <code>a%=5</code>等价于<code>a=a%5</code></li>
</ul>
<h2 id="7、关系运算符">7、关系运算符</h2>
<p>通过关系运算符可以比较两个值之间的大小关系，如果关系成立它会返回<code>true</code>，如果关系不成立则返回<code>false</code></p>
<ul>
<li><code>&gt;</code>：大于号，判断符号左侧的值是否大于右侧的</li>
<li><code>&gt;=</code>：大于等于号，判断符号左侧的值是否大于等于右侧的</li>
<li><code>&lt;</code>：小于号，判断符号左侧的值是否小于右侧的</li>
<li><code>&lt;=</code>：小于等于号，判断符号左侧的值是否小于等于右侧的</li>
</ul>
<p>任何值和NaN做任何比较都是<code>false</code></p>
<p><strong>非数值的情况</strong></p>
<p>对于非数值进行比较时，会将其转换为数字然后再比较</p>
<p>如果符号两侧的值都是字符串时，不会将其转换为数字进行比较，而是分别比较字符串中字符的Unicode编码</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="number">1</span>&gt;<span class="literal">true</span>);      <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">1</span>&gt;=<span class="literal">true</span>);     <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">1</span>&gt;<span class="string">"0"</span>);       <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">10</span>&gt;<span class="literal">null</span>);     <span class="comment">// true </span></span><br><span class="line"><span class="comment">// 任何值和NaN做任何比较都是`false`</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">10</span>&lt;=<span class="string">"hello"</span>); <span class="comment">// false</span></span><br><span class="line"><span class="comment">// 比较两个字符串时，比较的是字符串的字符编码</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"a"</span> &lt; <span class="string">"b"</span>);   <span class="comment">// true</span></span><br><span class="line"><span class="comment">// 比较字符编码时是一位一位进行比较</span></span><br><span class="line"><span class="comment">// 如果两位一样，则比较下一位，所以借用它来对英文进行排序</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"bcd"</span> &lt; <span class="string">"b"</span>); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"11"</span> &lt; <span class="string">"5"</span>);  <span class="comment">// true</span></span><br><span class="line"><span class="comment">// 比较中文时没有意义</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"我"</span> &lt; <span class="string">"你"</span>); <span class="comment">// false</span></span><br><span class="line"><span class="comment">// 如果比较的两个字符串型的数字，可能会得到不可预期的结果</span></span><br><span class="line"><span class="comment">// 注意：在比较两个字符串型的数字时，一定一定一定要转型</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"12345675432"</span> &lt; +<span class="string">"5"</span>); <span class="comment">// false</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="8、相等运算符">8、相等运算符</h2>
<h3 id="相等"><code>==</code> 相等</h3>
<p>相等运算符用来比较两个值是否相等，如果相等会返回<code>true</code>，否则返回<code>false</code></p>
<p>使用<code>==</code>来做相等运算：当使用<code>==</code>来比较两个值时，如果值的类型不同，则会自动进行类型转换，将其转换为相同的类型然后在比较</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// undefined 衍生自null，所以这两个值做相等判断时，会返回true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">null</span> == <span class="literal">undefined</span>); <span class="comment">// true</span></span><br><span class="line"><span class="comment">// NaN不和任何值相等，包括他本身</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">NaN</span> == <span class="literal">NaN</span>); <span class="comment">// false</span></span><br><span class="line"><span class="comment">// 可以通过isNaN()函数来判断一个值是否是NaN</span></span><br><span class="line"><span class="comment">// 如果该值是NaN则返回true，否则返回false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">isNaN</span>(<span class="literal">NaN</span>)); <span class="comment">// true</span></span><br></pre></td></tr></tbody></table></figure>
<h3 id="不想等"><code>!=</code> 不想等</h3>
<p>不相等运算符用来判断两个值是否不相等，如果不相等返回<code>true</code>，否则返回<code>false</code></p>
<p>使用<code>!=</code>来做不相等运算：不相等也会对变量进行自动的类型转换，如果转换后相等它也会返回<code>false</code></p>
<h3 id="全等"><code>===</code> 全等</h3>
<p>用来判断两个值是否全等，它和相等类似，不同的是它不会做自动的类型转换，如果两个值的类型不同，直接返回<code>false</code></p>
<h3 id="不全等"><code>!==</code>不全等</h3>
<p>用来判断两个值是否不全等，和不等类似，不同的是它不会做自动的类型转换，如果两个值的类型不同，直接返回<code>false</code></p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">"123"</span> === <span class="number">123</span>); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"123"</span> !== <span class="number">123</span>); <span class="comment">// true</span></span><br></pre></td></tr></tbody></table></figure>
<p>关于改运算符，可以参考下图</p>
<p><img src="https://i.loli.net/2021/07/11/sjW1ErMbcz4OZpD.png" alt="img"></p>
<h2 id="9、条件运算符">9、条件运算符</h2>
<p>条件运算符也叫三元运算符 <code>条件表达式 ? 语句1: 语句2;</code></p>
<p>执行的流程：条件运算符在执行时，首先对条件表达式进行求值</p>
<ul>
<li>如果该值为<code>true</code>，则执行<code>语句1</code>，并返回执行结果</li>
<li>如果该值为<code>false</code>，则执行<code>语句2</code>，并返回执行结果</li>
</ul>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">30</span>;</span><br><span class="line"><span class="keyword">var</span> b = <span class="number">40</span>;</span><br><span class="line"><span class="keyword">var</span> c = <span class="number">90</span>;</span><br><span class="line"><span class="comment">// 两数中取MAX</span></span><br><span class="line"><span class="keyword">var</span> max = a &gt; b ? a : b;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"max="</span>+max);</span><br><span class="line"><span class="comment">// 三数中取MAX</span></span><br><span class="line">max = a &gt; b ? (a &gt; c ? a : c) : (b &gt; c ? b : c);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"max="</span>+max);</span><br></pre></td></tr></tbody></table></figure>
<p>如果条件的表达式的求值结果是一个非布尔值，则会将其转换为布尔值，然后再运算</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"hello"</span> ? alert(<span class="string">"111111"</span>) : alert(<span class="string">"2222222"</span>);</span><br></pre></td></tr></tbody></table></figure>
<h2 id="10、运算符优先级">10、运算符优先级</h2>
<p>就和数学中一样，在JS中运算符也有优先级，比如：先乘除后加减</p>
<p>在JS中有一个运算符优先级的表，在表中越靠上优先级越高，优先级越高越优先计算，如果优先级一样，则从左往右计算</p>
<p>但是这个表我们并不需要记忆，如果遇到优先级不清楚可以使用<code>()</code>来改变优先级</p>
<table>
<thead>
<tr>
<th style="text-align:left"><strong><code>.</code>、<code>[]</code>、<code>new</code></strong></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><strong><code>()</code></strong></td>
</tr>
<tr>
<td style="text-align:left"><strong><code>++</code>、<code>--</code></strong></td>
</tr>
<tr>
<td style="text-align:left"><strong><code>!</code>、<code>～</code>、<code>+</code>（单目）、<code>-</code>（单目）、<code>typeof</code>、<code>void</code>、<code>delete </code></strong></td>
</tr>
<tr>
<td style="text-align:left"><strong><code>%</code>、<code>*</code>、<code>/</code></strong></td>
</tr>
<tr>
<td style="text-align:left"><strong><code>+</code>（双目）、<code>-</code>（双目）</strong></td>
</tr>
<tr>
<td style="text-align:left"><strong><code> &lt;&lt;</code>、<code>&gt;&gt;</code>、<code>&gt;&gt;&gt;</code></strong></td>
</tr>
<tr>
<td style="text-align:left"><strong><code>&lt;</code>、<code>&lt;=</code>、<code>&gt;</code>、<code>&gt;=</code></strong></td>
</tr>
<tr>
<td style="text-align:left"><strong><code>==</code>、<code>!==</code>、<code>=== </code></strong></td>
</tr>
<tr>
<td style="text-align:left"><strong><code>&amp;</code></strong></td>
</tr>
<tr>
<td style="text-align:left"><strong><code>^</code></strong></td>
</tr>
<tr>
<td style="text-align:left"><strong><code>|</code></strong></td>
</tr>
<tr>
<td style="text-align:left"><strong><code>&amp;&amp;</code></strong></td>
</tr>
<tr>
<td style="text-align:left"><strong><code>||</code></strong></td>
</tr>
<tr>
<td style="text-align:left"><strong><code>?:</code></strong></td>
</tr>
<tr>
<td style="text-align:left"><strong><code>=</code>、<code>+=</code>、<code>-=</code>、<code>*=</code>、<code>/=</code>、<code>%=</code>、<code>&lt;&lt;=</code>、<code>&gt;&gt;=</code>、<code>&gt;&gt;&gt;=</code>、<code>&amp;=</code>、<code>^=</code>、<code>|=</code></strong></td>
</tr>
<tr>
<td style="text-align:left"><strong><code>,</code></strong></td>
</tr>
</tbody>
</table>
<h2 id="补充：Unicode编码表">补充：Unicode编码表</h2>
<p>Unicode官网：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://home.unicode.org/">https://home.unicode.org/</a></p>
<p>在字符串中使用转义字符输入Unicode编码：<code>\u四位编码</code></p>
<p>在网页中使用Unicode编码：<code>&amp;#编码;</code> 这里的编码需要的是10进制</p>
<h1 id="流程控制">流程控制</h1>
<h2 id="1、流程控制语句">1、流程控制语句</h2>
<p>JS中的程序是从上到下一行一行执行的</p>
<p>通过流程控制语句可以控制程序执行流程，使程序可以根据一定的条件来选择执行</p>
<p>语句的分类：</p>
<ul>
<li>条件判断语句</li>
<li>条件分支语句</li>
<li>循环语句</li>
</ul>
<h2 id="2、条件判断语句">2、条件判断语句</h2>
<p>使用条件判断语句，可以在执行某个语句之前进行判断</p>
<p>如果条件成立才会执行语句，条件不成立则语句不执行。</p>
<h3 id="if-语句">if 语句</h3>
<p><strong>语法一</strong></p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(条件表达式) {</span><br><span class="line">    语句</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><code>if</code>语句在执行时，会先对条件表达式进行求值判断</p>
<ul>
<li>如果条件表达式的值为<code>true</code>，则执行<code>if</code>后的语句</li>
<li>如果条件表达式的值为<code>false</code>，则不执行<code>if</code>后的语句</li>
</ul>
<p><code>if</code>语句只能控制紧随其后的那个语句，如果希望<code>if</code>语句可以控制多条语句，可以将这些语句统一放到代码块中</p>
<p><code>if</code>语句后的代码块不是必须的，但是在开发中尽量写上代码块，即使<code>if</code>后只有一条语句</p>
<p><strong>语法二</strong></p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(条件表达式) {</span><br><span class="line">	语句<span class="number">1.</span>..</span><br><span class="line">} <span class="keyword">else</span> {</span><br><span class="line">	语句<span class="number">2.</span>..</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><code>if...else...</code>语句执行时，会先对<code>if</code>后的条件表达式进行求值判断</p>
<ul>
<li>如果该值为<code>true</code>，则执行<code>if</code>后的语句</li>
<li>如果该值为<code>false</code>，则执行<code>else</code>后的语句</li>
</ul>
<p><strong>语法三</strong></p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(条件表达式) {</span><br><span class="line">	语句<span class="number">1.</span>..</span><br><span class="line">} <span class="keyword">else</span> <span class="keyword">if</span>(条件表达式) {</span><br><span class="line">	语句<span class="number">2.</span>..</span><br><span class="line">} <span class="keyword">else</span> <span class="keyword">if</span>(条件表达式) {</span><br><span class="line">	语句<span class="number">3.</span>..</span><br><span class="line">} <span class="keyword">else</span>{</span><br><span class="line">	语句<span class="number">4.</span>..</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><code>if...else if...else</code>语句执行时，会从上到下依次对条件表达式进行求值判断</p>
<ul>
<li>如果值为<code>true</code>，则执行当前语句</li>
<li>如果值为<code>false</code>，则继续向下判断</li>
<li>如果所有的条件都不满足，则执行最后一个<code>else</code>后的语句</li>
<li>该语句中，只会有一个代码块被执行，一旦代码块执行了，则直接结束语句</li>
</ul>
<p><strong>练习</strong></p>
<p><code>prompt()</code>可以弹出一个提示框，该提示框中会带有一个文本框，用户可以在文本框中输入一段内容</p>
<p>该函数需要一个字符串作为参数，该字符串将会作为提示框的提示文字</p>
<p>用户输入的内容将会作为函数的返回值返回，可以定义一个变量来接收该内容</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 练习1</span></span><br><span class="line"><span class="comment">// 从键盘输入小明的期末成绩：</span></span><br><span class="line"><span class="comment">// 当成绩为100时，’奖励一辆BMW’</span></span><br><span class="line"><span class="comment">// 当成绩为[80-99]时，’奖励一台iphone15s'</span></span><br><span class="line"><span class="comment">// 当成绩为[60-80]时，’奖励一本参考书’</span></span><br><span class="line"><span class="comment">// 其他时，什么奖励也没有</span></span><br><span class="line"><span class="keyword">var</span> score = prompt(<span class="string">"请输入小明的期末成绩："</span>);</span><br><span class="line"><span class="keyword">if</span>(score == <span class="number">100</span>){</span><br><span class="line">    alert(<span class="string">"奖励一辆BMW"</span>);</span><br><span class="line">} <span class="keyword">else</span> <span class="keyword">if</span>(score &gt;<span class="number">80</span> &amp;&amp; score &lt;= <span class="number">99</span>){</span><br><span class="line">    alert(<span class="string">"奖励一台iphone15s"</span>);</span><br><span class="line">} <span class="keyword">else</span> <span class="keyword">if</span>(score &gt;<span class="number">60</span> &amp;&amp; score &lt;= <span class="number">80</span>){</span><br><span class="line">    alert(<span class="string">"奖励一本参考书"</span>);</span><br><span class="line">} <span class="keyword">else</span>{</span><br><span class="line">    alert(<span class="string">"什么奖励也没有"</span>);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 练习2</span></span><br><span class="line"><span class="comment">// 大家都知道，男大当婚，女大当嫁。那么女方家长要嫁女儿，当然要提出一定的条件：</span></span><br><span class="line"><span class="comment">// 高：180cm以上；富：1000万以上；帅：500以上；如果这三个条件同时满足，则：’我一定要嫁给他’</span></span><br><span class="line"><span class="comment">// 如果三个条件有为真的情况，则：’嫁吧，比上不足，比下有余。’</span></span><br><span class="line"><span class="comment">// 如果三个条件都不满足，则：’不嫁！’</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 练习3</span></span><br><span class="line"><span class="comment">// 编写程序，由键盘输入三个整数分别存入变量num1、num2、num3，对他们进行排序，并且从小到大输出。</span></span><br></pre></td></tr></tbody></table></figure>
<p>其他练习，大家可以自己尝试做下。练习2还是很简单的，跟练习1差不多，无非就是多了几次输入。练习3的话，如果你是初学编程的话，可以尝试做一做，不过个人感觉可以在学完<code>for</code>循环之后再做，而且这个应该当做简单的算法题。</p>
<h3 id="switch-语句">switch 语句</h3>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span>(条件表达式) {</span><br><span class="line">    <span class="keyword">case</span> 表达式<span class="number">1</span>:</span><br><span class="line">    	语句<span class="number">1.</span>..;</span><br><span class="line">    	<span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> 表达式<span class="number">2</span>:</span><br><span class="line">    	语句<span class="number">2.</span>..;</span><br><span class="line">    	<span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        语句...;</span><br><span class="line">    	<span class="keyword">break</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><code>switch...case..</code>语句</p>
<p>在执行时会依次将<code>case</code>后的表达式的值和<code>switch</code>后的条件表达式的值进行全等比较</p>
<ul>
<li>如果比较结果为<code>true</code>，则从当前<code>case</code>处开始执行代码。当前<code>case</code>后的所有的代码都会执行，我们可以在<code>case</code>的后边跟着一个<code>break</code>关键字，这样可以确保只会执行当前<code>case</code>后的语句，而不会执行其他的<code>case</code></li>
<li>如果比较结果为<code>false</code>，则继续向下比较</li>
<li>如果所有的比较结果都为<code>false</code>，则只执行<code>default</code>后的语句</li>
</ul>
<p><code>switch</code>语句和<code>if</code>语句的功能实际上有重复的，使用<code>switch</code>可以实现<code>if</code>的功能，同样使用<code>if</code>也可以实现<code>switch</code>的功能，所以我们使用时，可以根据自己的习惯选择</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 对于成绩大于60分的，输出’合格’。低于60分的，输出’不合格’</span></span><br><span class="line"><span class="keyword">var</span> score = prompt(<span class="string">"请输入成绩："</span>);</span><br><span class="line"><span class="keyword">var</span> tmp = <span class="built_in">parseInt</span>(score/<span class="number">10</span>);</span><br><span class="line"><span class="keyword">switch</span> (tmp){</span><br><span class="line">    <span class="keyword">case</span> <span class="number">10</span>:</span><br><span class="line">    <span class="keyword">case</span> <span class="number">9</span>:</span><br><span class="line">    <span class="keyword">case</span> <span class="number">8</span>:</span><br><span class="line">    <span class="keyword">case</span> <span class="number">7</span>:</span><br><span class="line">    <span class="keyword">case</span> <span class="number">6</span>:</span><br><span class="line">        alert(<span class="string">"合格"</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        alert(<span class="string">"不合格"</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h3 id="while-语句">while 语句</h3>
<p>循环语句：通过循环语句可以反复的执行一段代码多次</p>
<p><code>while</code>循环语法：</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span>(条件表达式) {</span><br><span class="line">	语句...</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><code>while</code>语句在执行时，先对条件表达式进行求值判断</p>
<ul>
<li>如果值为<code>true</code>，则执行循环体，循环体执行完毕以后，继续对表达式进行判断</li>
<li>如果为<code>true</code>，则继续执行循环体，以此类推</li>
<li>如果值为<code>false</code>，则终止循环</li>
</ul>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span>(<span class="literal">true</span>) {</span><br><span class="line">    alert(a++);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p>像这种将条件表达式为<code>true</code>的循环，叫做死循环</p>
<p>该循环不会停止，除非浏览器关闭，死循环在开发中慎用。可以使用<code>break</code>，来终止循环</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> i = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span>(<span class="literal">true</span>){</span><br><span class="line">	<span class="built_in">document</span>.write(i++ + <span class="string">"&lt;br/&gt;"</span>);</span><br><span class="line">	<span class="keyword">if</span>(i &gt; <span class="number">10</span>){</span><br><span class="line">    	<span class="keyword">break</span>;</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p>创建一个循环，往往需要三个步骤：</p>
<ol>
<li>创初始化一个变量</li>
<li>在循环中设置一个条件表达式</li>
<li>定义一个更新表达式，每次更新初始化变量</li>
</ol>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1.创初始化一个变量</span></span><br><span class="line"><span class="keyword">var</span> i = <span class="number">0</span>;</span><br><span class="line"><span class="comment">// 2.在循环中设置一个条件表达式</span></span><br><span class="line"><span class="keyword">while</span>(i &lt; <span class="number">10</span>){</span><br><span class="line">    <span class="comment">// 3.定义一个更新表达式，每次更新初始化变量</span></span><br><span class="line">    <span class="built_in">document</span>.write(i++ + <span class="string">"&lt;br/&gt;"</span>);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong>练习</strong></p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 假如投资的年利率为5%，试求从1000块增长到5000块，需要花费多少年</span></span><br><span class="line"><span class="keyword">var</span> money = <span class="number">1000</span>;</span><br><span class="line"><span class="keyword">var</span> year = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span>(money &lt; <span class="number">5000</span>){</span><br><span class="line">    money *= <span class="number">1</span> + <span class="number">0.05</span>;</span><br><span class="line">    year++;</span><br><span class="line">}</span><br><span class="line">alert(<span class="string">"需要花费"</span> + year + <span class="string">"年"</span>);</span><br></pre></td></tr></tbody></table></figure>
<h3 id="do-while-语句">do-while 语句</h3>
<p><code>do...while</code>循环语法：</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">do</span>{</span><br><span class="line">	语句...</span><br><span class="line">}<span class="keyword">while</span>(条件表达式)</span><br></pre></td></tr></tbody></table></figure>
<p><code>do...while</code>语句在执行时，会先执行循环体，循环体执行完毕以后，在对<code>while</code>后的条件表达式进行判断</p>
<ul>
<li>如果结果为<code>true</code>，则继续执行循环体，执行完毕继续判断，以此类推</li>
<li>如果结果为<code>false</code>，则终止循环</li>
</ul>
<p>实际上这两个语句功能类似，不同的是</p>
<ul>
<li><code>while</code>是先判断后执行，而<code>do...while</code>会先执行后判断</li>
<li><code>do...while</code>可以保证循环体至少执行一次，而<code>while</code>不能</li>
</ul>
<h3 id="for-语句">for 语句</h3>
<p><code>for</code>语句，也是一个循环语句，也称为<code>for</code>循环</p>
<p>在<code>for</code>循环中，为我们提供了专门的位置用来放三个表达式：</p>
<ul>
<li>初始化表达式</li>
<li>条件表达式</li>
<li>更新表达式</li>
</ul>
<p>for循环的语法：</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(①初始化表达式;②条件表达式;③更新表达式) {</span><br><span class="line">	④语句...</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><code>for</code>循环的执行流程：</p>
<ul>
<li>①执行初始化表达式，初始化变量（初始化表达式只会执行一次）</li>
<li>②执行条件表达式，判断是否执行循环。
<ul>
<li>如果为<code>true</code>，则执行④语句</li>
<li>如果为<code>false</code>，则终止循环</li>
</ul>
</li>
<li>③执行更新表达式，更新表达式执行完毕，继续重复②</li>
</ul>
<p><code>for</code>循环中的三个部分都可以省略，也可以写在外部</p>
<p>如果在<code>for</code>循环中不写任何的表达式，只写两个<code>;</code>，此时循环是一个死循环会一直执行下去，慎用</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(;;){</span><br><span class="line">	alert(<span class="string">"hello"</span>);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong>练习</strong></p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 练习1、打印1-100之间所有奇数之和</span></span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">1</span>,result=<span class="number">0</span>;i&lt;=<span class="number">100</span>;i++){</span><br><span class="line">    <span class="keyword">if</span>(i%<span class="number">2</span> == <span class="number">1</span>){	</span><br><span class="line">        result += i;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'result='</span>+result);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 练习2、打印1-100之间所有7的倍数的个数及总和</span></span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">1</span>,result=<span class="number">0</span>,count=<span class="number">0</span>;i&lt;=<span class="number">100</span>;i++){</span><br><span class="line">    <span class="keyword">if</span>(i%<span class="number">7</span> == <span class="number">0</span>){	</span><br><span class="line">        result += i;</span><br><span class="line">        count++;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'个数='</span>+count+<span class="string">'，总和='</span>+result);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 练习3、水仙花数</span></span><br><span class="line"><span class="comment">// 水仙花数是指一个3位数，它的每个位上的数字的3次幂之和等于它本身。</span></span><br><span class="line"><span class="comment">// （例如：1^3+5^3+3^3=153），请打印所有的水仙花数。</span></span><br><span class="line"><span class="keyword">var</span> hundreds_place;</span><br><span class="line"><span class="keyword">var</span> tens_place;</span><br><span class="line"><span class="keyword">var</span> ones_place;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">100</span>;i&lt;<span class="number">1000</span>;i++){</span><br><span class="line">    hundreds_place = <span class="built_in">parseInt</span>(i/<span class="number">100</span>);</span><br><span class="line">    tens_place = <span class="built_in">parseInt</span>(i/<span class="number">10</span>) - <span class="built_in">parseInt</span>(hundreds_place*<span class="number">10</span>);</span><br><span class="line">    ones_place = i % <span class="number">10</span>;</span><br><span class="line">    <span class="keyword">if</span>(i == (hundreds_place*hundreds_place*hundreds_place </span><br><span class="line">             + tens_place*tens_place*tens_place </span><br><span class="line">             + ones_place*ones_place*ones_place)){</span><br><span class="line">        <span class="built_in">console</span>.log(i);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 练习4、在页面中接收一个用户输入的数字，并判断该数是否是质数。</span></span><br><span class="line"><span class="comment">// 质数：只能被1和它自身整除的数，1不是质数也不是合数，质数必须是大于1的自然数。</span></span><br><span class="line"><span class="keyword">var</span> num = prompt(<span class="string">"请输入一个数字："</span>);</span><br><span class="line"><span class="keyword">while</span>(<span class="built_in">isNaN</span>(num)){</span><br><span class="line">    num = prompt(<span class="string">"请输入一个数字："</span>);</span><br><span class="line">}</span><br><span class="line">flag = <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">for</span>(j=<span class="number">2</span>;j&lt;num;j++){</span><br><span class="line">    <span class="keyword">if</span>(num%j==<span class="number">0</span>){</span><br><span class="line">        flag = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"><span class="keyword">if</span>(flag){</span><br><span class="line">    alert(num + <span class="string">"是质数"</span>);</span><br><span class="line">} <span class="keyword">else</span>{</span><br><span class="line">    alert(num + <span class="string">"不是质数"</span>);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 练习5、通过程序，在页面中输出如下的图形：</span></span><br><span class="line"><span class="comment">//*</span></span><br><span class="line"><span class="comment">//**</span></span><br><span class="line"><span class="comment">//***</span></span><br><span class="line"><span class="comment">//****</span></span><br><span class="line"><span class="comment">//*****</span></span><br><span class="line"><span class="comment">// 通过一个for循环来输出图形</span></span><br><span class="line"><span class="comment">// 这个for循环执行几次，图形的高度就是多少</span></span><br><span class="line"><span class="comment">// 它可以用来控制图形的高度</span></span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;<span class="number">5</span>;i++){</span><br><span class="line">    <span class="comment">// 在循环的内部再创建一个循环，用来控制图形的宽度</span></span><br><span class="line">    <span class="comment">// 目前我们的外部的for循环执行1次，内部的就会执行5次</span></span><br><span class="line">    <span class="comment">// 内层循环可以来决定图形的宽度，执行几次图形的宽度就是多少</span></span><br><span class="line">    <span class="keyword">for</span>(j=<span class="number">0</span>;j&lt;=i;j++){</span><br><span class="line">        <span class="built_in">document</span>.write(<span class="string">"*"</span>);</span><br><span class="line">    }</span><br><span class="line">    <span class="built_in">document</span>.write(<span class="string">"&lt;br/&gt;"</span>);</span><br><span class="line">}</span><br><span class="line"><span class="comment">// *****</span></span><br><span class="line"><span class="comment">// ****</span></span><br><span class="line"><span class="comment">// ***</span></span><br><span class="line"><span class="comment">// **</span></span><br><span class="line"><span class="comment">// *</span></span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;<span class="number">5</span>;i++){</span><br><span class="line">    <span class="keyword">for</span>(j=<span class="number">0</span>;j&lt;<span class="number">5</span>-i;j++){</span><br><span class="line">        <span class="built_in">document</span>.write(<span class="string">"*"</span>);</span><br><span class="line">    }</span><br><span class="line">    <span class="built_in">document</span>.write(<span class="string">"&lt;br/&gt;"</span>);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 练习6、九九乘法表</span></span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">1</span>;i&lt;<span class="number">10</span>;i++){</span><br><span class="line">    <span class="keyword">for</span>(j=<span class="number">1</span>;j&lt;=i;j++){</span><br><span class="line">        <span class="built_in">document</span>.write(j + <span class="string">"×"</span> + i + <span class="string">"="</span> + i*j + <span class="string">"\t"</span>);</span><br><span class="line">    }</span><br><span class="line">    <span class="built_in">document</span>.write(<span class="string">"&lt;br/&gt;"</span>);</span><br><span class="line">    <span class="built_in">document</span>.write(<span class="string">"&lt;br/&gt;"</span>);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 练习7、打印出1~100之间的所有质数</span></span><br><span class="line"><span class="keyword">var</span> flag = <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">2</span>;i&lt;=<span class="number">100</span>;i++){</span><br><span class="line">    flag = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span>(j=<span class="number">2</span>;j&lt;i;j++){</span><br><span class="line">        <span class="keyword">if</span>(i%j==<span class="number">0</span>){</span><br><span class="line">            flag = <span class="literal">false</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">if</span>(flag){</span><br><span class="line">        <span class="built_in">console</span>.log(i);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"> <span class="comment">// 质数性能优化</span></span><br><span class="line"><span class="built_in">console</span>.time(<span class="string">"test"</span>);</span><br><span class="line"><span class="keyword">var</span> flag;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">2</span>;i&lt;=<span class="number">100000</span>;i++){</span><br><span class="line">    flag = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span>(j=<span class="number">2</span>;j&lt;=i/<span class="built_in">Math</span>.sqrt(i);j++){</span><br><span class="line">        <span class="keyword">if</span>(i%j==<span class="number">0</span>){</span><br><span class="line">            flag = <span class="literal">false</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">if</span>(flag){</span><br><span class="line">        <span class="comment">// console.log(i);</span></span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"><span class="built_in">console</span>.timeEnd(<span class="string">"test"</span>);</span><br></pre></td></tr></tbody></table></figure>
<h3 id="break和continue">break和continue</h3>
<p>不能在<code>if</code>语句中使用<code>break</code>和<code>continue</code></p>
<p><strong>break</strong></p>
<ul>
<li><code>break</code>关键字可以用来退出<code>switch</code>或循环语句</li>
<li><code>break</code>关键字，会立即终止离他最近的那个循环语句</li>
</ul>
<p>可以为循环语句创建一个<code>label</code>，来标识当前的循环<code>label</code>：</p>
<p>循环语句使用<code>break</code>语句时，可以在<code>break</code>后跟着一个<code>label</code>，这样<code>break</code>将会结束指定的循环，而不是最近的</p>
<p><strong>continue</strong></p>
<ul>
<li><code>continue</code>关键字可以用来跳过当次循环</li>
<li><code>continue</code>也是默认只会对离他最近的循环循环起作用</li>
</ul>
<h1 id="对象">对象</h1>
<p>JS中数据类型</p>
<ul>
<li>String 字符串</li>
<li>Number数值</li>
<li>Boolean 布尔值</li>
<li>Null空值</li>
<li>Undefined 未定义</li>
</ul>
<p>以上这五种类型属于基本数据类型，以后我们看到的值只要不是上边的5种，全都是对象</p>
<h2 id="1、Object-对象">1、Object 对象</h2>
<p>基本数据类型都是单一的值<code>"hello" 123 true</code>，值和值之间没有任何的联系。</p>
<p>在JS中来表示一个人的信息（name gender age）：</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name = <span class="string">"孙悟空"</span>;</span><br><span class="line"><span class="keyword">var</span> gender = <span class="string">"男"</span>;</span><br><span class="line"><span class="keyword">var</span> age = <span class="number">18</span>;</span><br></pre></td></tr></tbody></table></figure>
<p>如果使用基本数据类型的数据，我们所创建的变量都是独立，不能成为一个整体。</p>
<p>对象属于一种复合的数据类型，在对象中可以保存多个不同数据类型的属性。</p>
<h2 id="2、对象的分类">2、对象的分类</h2>
<h3 id="2-1、内建对象">2.1、内建对象</h3>
<p>由ES标准中定义的对象，在任何的ES的实现中都可以使用</p>
<p>常见内建对象有以下，都可以直接通过new调用构造函数创建对象实例：</p>
<ul>
<li>Object、Function、Array、String、Number、Boolean、Date、RegExp</li>
<li>Error（EvalError、RangeError、ReferenceError、SyntaxError、TypeError、URIError）</li>
</ul>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Math</span></span><br><span class="line"><span class="built_in">Math</span>.sqrt(<span class="number">2</span>);</span><br><span class="line"><span class="comment">// String</span></span><br><span class="line"><span class="built_in">String</span>(<span class="number">2</span>);</span><br><span class="line"><span class="comment">// Number</span></span><br><span class="line"><span class="built_in">Number</span>(<span class="string">"2"</span>);</span><br></pre></td></tr></tbody></table></figure>
<h3 id="2-2、宿主对象">2.2、宿主对象</h3>
<p>由JS的运行环境提供的对象，目前来讲主要指由浏览器提供的对象</p>
<p>比如 <code>BOM DOM</code></p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// console</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"hello"</span>);</span><br><span class="line"><span class="comment">// document</span></span><br><span class="line"><span class="built_in">document</span>.write(<span class="string">"hello"</span>);</span><br></pre></td></tr></tbody></table></figure>
<p>JavaScript实现包括三部分：</p>
<table>
<thead>
<tr>
<th style="text-align:left">组成</th>
<th style="text-align:left">作用</th>
<th style="text-align:left">地位</th>
<th style="text-align:left">例子</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">ES（ECMAScript）</td>
<td style="text-align:left">描述JS语法和基本对象</td>
<td style="text-align:left">核心</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">DOM（Document Object Model 文档对象模型）</td>
<td style="text-align:left">HTML和XML的应用程序接口，处理网页内容的方法和接口</td>
<td style="text-align:left">W3C标准</td>
<td style="text-align:left"><code>document</code></td>
</tr>
<tr>
<td style="text-align:left">BOM（Browser Object Model 浏览器对象模型）</td>
<td style="text-align:left">描述与浏览器进行交互的方法和接口，处理浏览器窗口和框架</td>
<td style="text-align:left">浏览器厂商对DOM的实现</td>
<td style="text-align:left"><code>window</code></td>
</tr>
</tbody>
</table>
<p><strong>DOM</strong></p>
<p><img src="https://i.loli.net/2021/07/14/jpVOLT42KarizhP.png" alt="img"></p>
<p><strong>BOM</strong></p>
<p><img src="https://i.loli.net/2021/07/14/p7AXdHUntDFq4PB.png" alt="img"></p>
<p><strong>DOM 和 BOM 的关系</strong></p>
<p><img src="https://i.loli.net/2021/07/14/5zjFWRyJe9ZuDq1.jpg" alt="JavaScript的Dom和Bom"></p>
<h3 id="2-3、自定义对象">2.3、自定义对象</h3>
<p>由开发人员自己创建的对象</p>
<p>使用<code>new</code>关键字调用的函数，是构造函数<code>constructor</code>，构造函数是专门用来创建对象的</p>
<p>函数使用<code>typeof</code>检查一个对象时，会返回<code>object</code></p>
<p>在对象中保存的值称为属性</p>
<ul>
<li>添加或修改对象属性的语法：<code>对象.属性名=属性值;</code></li>
<li>读取对象属性的语法：<code>对象.属性名</code></li>
<li>删除对象属性的语法：<code>delete 对象.属性名;</code></li>
</ul>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line"><span class="comment">// 向obj中添加一个name属性</span></span><br><span class="line">obj.name = <span class="string">"孙悟空"</span>;</span><br><span class="line"><span class="comment">// 向obj中添加一个gender属性</span></span><br><span class="line">obj.gender = <span class="string">"男"</span>;</span><br><span class="line"><span class="comment">// 向obj中添加一个age属性</span></span><br><span class="line">obj.age = <span class="string">"18"</span>;</span><br><span class="line"><span class="comment">// 打印obj</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> obj); <span class="comment">// object</span></span><br><span class="line"><span class="built_in">console</span>.log(obj); <span class="comment">// {"age":"18","gender":"男","name":"孙悟空"}</span></span><br><span class="line"><span class="built_in">console</span>.log(obj.name); <span class="comment">// 孙悟空</span></span><br></pre></td></tr></tbody></table></figure>
<h4 id="属性名">属性名</h4>
<p>对象的属性名不强制要求遵守标识符的规范，什么乱七八糟的名字都可以使用，但是我们使用是还是尽量按照标识符的规范去做</p>
<p>如果要使用特殊的属性名，不能采用<code>.</code>的方式来操作，而需要使用另一种语法：<code>对象["属性名"]=属性值</code>，读取时也需要采用这种方式</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">obj[<span class="string">"name"</span>] = <span class="string">"齐天大圣"</span>;</span><br><span class="line"><span class="built_in">console</span>.log(obj[<span class="string">"name"</span>]); <span class="comment">// 齐天大圣</span></span><br></pre></td></tr></tbody></table></figure>
<p>使用<code>[]</code>这种形式去操作属性，更加的灵活，在<code>[]</code>中可以直接传递一个变量，这样变量值是哪个就会读取哪个属性</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> n = <span class="string">"nihao"</span>;</span><br><span class="line">obj[n] = <span class="string">"你好"</span>;</span><br><span class="line"><span class="built_in">console</span>.log(obj[n]); <span class="comment">// 你好</span></span><br></pre></td></tr></tbody></table></figure>
<p><strong>回顾</strong>：<code>.</code>、<code>[]</code>、<code>new</code>这几个运算符的优先级是最高的</p>
<h4 id="属性值">属性值</h4>
<p>JS对象的属性值，可以是任意的数据类型，包括对象</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj2 = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line">obj2.name = <span class="string">"猪八戒"</span>;</span><br><span class="line">obj.bro = obj2;</span><br><span class="line"><span class="built_in">console</span>.log(obj.bro.name); <span class="comment">// 猪八戒</span></span><br></pre></td></tr></tbody></table></figure>
<p><strong><code>in</code>运算符</strong></p>
<p>通过该运算符可以检查一个对象中是否含有指定的属性</p>
<p>如果有则返回<code>true</code>，没有则返回<code>false</code></p>
<p>语法：<code>"属性名" in 对象</code></p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">"test"</span> <span class="keyword">in</span> obj); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"name"</span> <span class="keyword">in</span> obj); <span class="comment">// true</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="3、基本数据类型和引用数据类型">3、基本数据类型和引用数据类型</h2>
<p>基本数据类型 <code>String Number Boolean Null Undefined</code></p>
<p>引用数据类型 <code>Object</code></p>
<h3 id="基本数据类型">基本数据类型</h3>
<ul>
<li>JS中的变量都是保存到栈内存中的，基本数据类型的值直接在栈内存中存储</li>
<li>值与值之间是独立存在，修改一个变量不会影响其他的变量</li>
</ul>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">var</span> b = a;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"a="</span> + a + <span class="string">", b="</span> + b); <span class="comment">// a=1, b=1</span></span><br><span class="line">b = <span class="number">2</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"a="</span> + a + <span class="string">", b="</span> + b); <span class="comment">// a=1, b=2</span></span><br></pre></td></tr></tbody></table></figure>
<h3 id="引用数据类型">引用数据类型</h3>
<ul>
<li>对象是保存到堆内存中的</li>
<li>每创建一个新的对象，就会在堆内存中开辟出一个新的空间，而变量保存的是对象的内存地址（对象的引用）</li>
<li>如果两个变量保存的是同一个对象引用，当一个通过一个变量修改属性时，另一个也会受到影响</li>
</ul>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj3 = obj;</span><br><span class="line">obj3.name = <span class="string">"斗战胜佛"</span>;</span><br><span class="line"><span class="built_in">console</span>.log(obj.name);  <span class="comment">// 斗战胜佛</span></span><br><span class="line"><span class="built_in">console</span>.log(obj3.name); <span class="comment">// 斗战胜佛</span></span><br></pre></td></tr></tbody></table></figure>
<p><strong>比较</strong></p>
<ul>
<li>当比较两个基本数据类型的值时，就是比较值。</li>
<li>而比较两个引用数据类型时，它是比较的对象的内存地址，如果两个对象是一摸一样的，但是地址不同，它也会返回<code>false</code></li>
</ul>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> o1 = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line"><span class="keyword">var</span> o2 = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line">o1[<span class="string">"name"</span>] = <span class="string">"周瑜"</span>;</span><br><span class="line">o2[<span class="string">"name"</span>] = <span class="string">"周瑜"</span>;</span><br><span class="line"><span class="built_in">console</span>.log(o1 == o2); <span class="comment">// false</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="4、对象字面量">4、对象字面量</h2>
<p>使用对象字面量，可以在创建对象时，直接指定对象属性的语法：<code>{属性名: 属性值, 属性名: 属性值...}</code></p>
<p>对象字面量的属性名可以加引号也可以不加（建议不加），如果要使用一些特殊的名字，则必须加引号</p>
<p>属性名和属性值是一组一组的名值对结构，名和值之间使用<code>:</code>连接，多个名值对之间使用<code>,</code>隔开</p>
<p>如果一个属性之后没有其他的属性了，就不要写<code>,</code>了</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = {</span><br><span class="line">    name: <span class="string">"孙悟空"</span>,</span><br><span class="line">    age: <span class="number">1000</span>,</span><br><span class="line">    gender: <span class="string">"男"</span>,</span><br><span class="line">    bor:{</span><br><span class="line">        name: <span class="string">"猪八戒"</span></span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"><span class="built_in">console</span>.log(obj); <span class="comment">// {"age":1000,"bor":{"name":"猪八戒"},"gender":"男","name":"孙悟空"}</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="5、方法">5、方法</h2>
<p>对象的属性值可以是任何的数据类型，也可以是个函数（下一节知识）</p>
<p>函数也可以称为对象的属性，如果一个函数作为一个对象的属性保存，那么我们称这个函数是这个对象的方法</p>
<p>调用函数就说调用对象的方法，但是它只是名称上的区别没有其他的区别</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj2 = {</span><br><span class="line">    name: <span class="string">"猪八戒"</span>,</span><br><span class="line">    age: <span class="number">18</span>,</span><br><span class="line">    sayName: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{</span><br><span class="line">        <span class="built_in">console</span>.log(obj2.name);</span><br><span class="line">    }</span><br><span class="line">};</span><br><span class="line">obj2.sayName(); <span class="comment">// 猪八戒</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="6、枚举对象中的属性">6、枚举对象中的属性</h2>
<p>使用<code>for...in</code>语句语法：</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> 变量 <span class="keyword">in</span> 对象) {</span><br><span class="line">	语句...</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><code>for...in</code>语句对象中有几个属性，循环体就会执行几次</p>
<p>每次执行时，会将对象中的一个属性的名字赋值给变量</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = {</span><br><span class="line">    name: <span class="string">"孙悟空"</span>,</span><br><span class="line">    age: <span class="number">1000</span>,</span><br><span class="line">    gender: <span class="string">"男"</span>,</span><br><span class="line">    address: <span class="string">"花果山"</span></span><br><span class="line">};</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> key <span class="keyword">in</span> obj){</span><br><span class="line">    <span class="built_in">console</span>.log(key + <span class="string">"="</span> + obj.key);</span><br><span class="line">    <span class="comment">// name=undefined</span></span><br><span class="line">    <span class="comment">// age=undefined</span></span><br><span class="line">    <span class="comment">// gender=undefined</span></span><br><span class="line">    <span class="comment">// address=undefined</span></span><br><span class="line">    <span class="built_in">console</span>.log(key + <span class="string">"="</span> + obj[key]);</span><br><span class="line">    <span class="comment">// name=孙悟空</span></span><br><span class="line">    <span class="comment">// age=1000</span></span><br><span class="line">    <span class="comment">// gender=男</span></span><br><span class="line">    <span class="comment">// address=花果山</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h1 id="函数">函数</h1>
<h2 id="1、函数的简介">1、函数的简介</h2>
<p>函数也是一个对象，可以封装一些功能（代码），在需要时可以执行这些功能（代码），可以保存一些代码在需要的时候调用</p>
<p>使用<code>typeof</code>检查一个函数对象时，会返回<code>function</code></p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建一个函数对象</span></span><br><span class="line"><span class="comment">// 可以将要封装的代码以字符串的形式传递给构造函数</span></span><br><span class="line"><span class="keyword">var</span> fun = <span class="keyword">new</span> <span class="built_in">Function</span>(<span class="string">"console.log('Hello World.');"</span>);</span><br><span class="line"><span class="comment">// 封装到函数中的代码不会立即执行</span></span><br><span class="line"><span class="comment">// 函数中的代码会在函数调用的时候执行</span></span><br><span class="line"><span class="comment">// 调用函数语法：函数对象（）</span></span><br><span class="line"><span class="comment">// 当调用函数时，函数中封装的代码会按照顺序执行</span></span><br><span class="line">fun(); <span class="comment">// Hello World.</span></span><br></pre></td></tr></tbody></table></figure>
<h3 id="使用函数声明来创建一个函数">使用函数声明来创建一个函数</h3>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> 函数名(<span class="params">[形参<span class="number">1</span>, 形参<span class="number">2.</span>..形参N]</span>) </span>{</span><br><span class="line">	语句...</span><br><span class="line">}</span><br><span class="line"><span class="comment">// 调用函数</span></span><br><span class="line">函数名();</span><br></pre></td></tr></tbody></table></figure>
<p><strong>示例</strong></p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun1</span>(<span class="params"></span>)</span>{</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"Hello world."</span>);</span><br><span class="line">    alert(<span class="string">"Hello World!"</span>);</span><br><span class="line">    <span class="built_in">document</span>.write(<span class="string">"Helloworld"</span>);</span><br><span class="line">}</span><br><span class="line">fun1();</span><br></pre></td></tr></tbody></table></figure>
<p>使用函数表达式（匿名函数）来创建一个函数</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> 函数名 = <span class="function"><span class="keyword">function</span>(<span class="params">[形参<span class="number">1</span>, 形参<span class="number">2.</span>..形参N]</span>) </span>{</span><br><span class="line">	语句...</span><br><span class="line">};</span><br><span class="line"><span class="comment">// 调用函数</span></span><br><span class="line">函数名();    </span><br></pre></td></tr></tbody></table></figure>
<p><strong>示例</strong></p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> fun1 = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"Hello world."</span>);</span><br><span class="line">    alert(<span class="string">"Hello World!"</span>);</span><br><span class="line">    <span class="built_in">document</span>.write(<span class="string">"Helloworld"</span>);</span><br><span class="line">};</span><br><span class="line">fun1();</span><br></pre></td></tr></tbody></table></figure>
<h2 id="2、函数的参数">2、函数的参数</h2>
<p>定义一个用来求两个数和的函数</p>
<p>可以在函数的<code>()</code>中来指定一个或多个形参（形式参数）多个形参之间使用<code>,</code>隔开，声明形参就相当于在函数内部声明了对应的变量</p>
<p>在调用函数时，可以在<code>()</code>中指定实参（实际参数）</p>
<ul>
<li>
<p>调用函数时解析器不会检查<strong>实参的类型</strong>。所以要注意，是否有可能会接收到非法的参数，如果有可能则需要对参数进行类型的检查</p>
</li>
<li>
<p>调用函数时，解析器也不会检查<strong>实参的数量</strong>，多余实参不会被赋值。如果实参的数量少于形参的数量，则没有对应实参的形参将是<code>undefined</code></p>
</li>
</ul>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建一个函数，用来计算三个数的和</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sum</span>(<span class="params">a, b, c</span>) </span>{</span><br><span class="line">    alert(a + b + c);</span><br><span class="line">}</span><br><span class="line">sum(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>); <span class="comment">// 6</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="3、函数的返回值">3、函数的返回值</h2>
<p>可以使用<code>return</code>来设置函数的返回值语法：<code>return 值</code></p>
<p><code>return</code>后的值将会作为函数的执行结果返回，可以定义一个变量，来接收该结果</p>
<p>在函数中<code>return</code>后的语句都不会执行</p>
<p>如果<code>return</code>语句后不跟任何值，就相当于返回一个<code>undefined</code>；如果函数中不写<code>return</code>，则也会返回<code>undefined</code></p>
<p><code>return</code>后可以跟任意类型的值</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建一个函数，用来计算三个数的和</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sum</span>(<span class="params">a, b, c</span>) </span>{</span><br><span class="line">    <span class="comment">// var result = a + b + c;</span></span><br><span class="line">    <span class="comment">// return result;</span></span><br><span class="line">    <span class="keyword">return</span> a + b + c;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 调用函数</span></span><br><span class="line"><span class="comment">// 变量result的值就是函数的执行结果</span></span><br><span class="line"><span class="comment">// 函数返回什么result的值就是什么</span></span><br><span class="line"><span class="keyword">var</span> result = sum(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"result = "</span> + result);</span><br></pre></td></tr></tbody></table></figure>
<p><strong>练习</strong></p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1、定义一个函数，判断一个数字是否是偶数，如果是返回true，否则返回false</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isEven</span>(<span class="params">num</span>)</span>{</span><br><span class="line">    <span class="comment">// if(num % 2 == 0){</span></span><br><span class="line">    <span class="comment">//    return true;</span></span><br><span class="line">    <span class="comment">// }</span></span><br><span class="line">    <span class="comment">// return false;</span></span><br><span class="line">    <span class="keyword">return</span> num % <span class="number">2</span> == <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> result = isEven(<span class="number">6</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// true</span></span><br><span class="line">result = isEven(<span class="number">7</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 2、定义一个函数，可以根据半径计算一个圆的面积，并返回计算结果</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">calCirc</span>(<span class="params">radius</span>) </span>{</span><br><span class="line">    <span class="keyword">return</span> <span class="number">3.14</span> * <span class="built_in">Math</span>.square(radius);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> result = calCirc(<span class="number">2</span>); <span class="comment">// </span></span><br></pre></td></tr></tbody></table></figure>
<p>实参可以是任意的数据类型，也可以是一个对象。当我们的参数过多时，可以将参数封装到一个对象</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayHello</span>(<span class="params">o</span>)</span>{</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"我是"</span> + o.name</span><br><span class="line">                + <span class="string">"，今年我"</span> + o.age </span><br><span class="line">                + <span class="string">"岁了，我是一个"</span> + o.gender </span><br><span class="line">                + <span class="string">"人，我住在"</span> + o.address);</span><br><span class="line">}			</span><br><span class="line"><span class="keyword">var</span> obj = {</span><br><span class="line">    name: <span class="string">"孙悟空"</span>,</span><br><span class="line">    age: <span class="number">1000</span>,</span><br><span class="line">    gender: <span class="string">"男"</span>,</span><br><span class="line">    address: <span class="string">"花果山"</span></span><br><span class="line">};</span><br><span class="line">sayHello(obj); <span class="comment">// 我是孙悟空，今年我1000岁了，我是一个男人，我住在花果山</span></span><br></pre></td></tr></tbody></table></figure>
<p>实参可以是一个对象，也可以是一个函数</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">calCirc</span>(<span class="params">radius</span>) </span>{</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Math</span>.PI * <span class="built_in">Math</span>.pow(radius, <span class="number">2</span>);</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun</span>(<span class="params">a</span>)</span>{</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"a = "</span> + a);</span><br><span class="line">}</span><br><span class="line">fun(calCirc);  </span><br><span class="line"><span class="comment">// a = function calCirc(radius) {</span></span><br><span class="line"><span class="comment">//     return Math.PI * Math.pow(radius, 2);</span></span><br><span class="line"><span class="comment">// }</span></span><br><span class="line">fun(calCirc(<span class="number">10</span>)); <span class="comment">// a = 314.1592653589793</span></span><br></pre></td></tr></tbody></table></figure>
<p><code>calCirc(10)</code></p>
<ul>
<li>调用函数</li>
<li>相当于使用的函数的返回值</li>
</ul>
<p><code>calCirc</code></p>
<ul>
<li>函数对象</li>
<li>相当于直接使用函数对象</li>
</ul>
<p>函数也是一个对象，特殊在其具有功能</p>
<p><strong>break、continue、return对比</strong></p>
<ul>
<li><code>break</code>可以退出当前的循环</li>
<li><code>continue</code>用于跳过当次循环</li>
<li><code>return</code>可以结束整个函数</li>
</ul>
<p><strong>在函数内部再声明一个函数</strong></p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun3</span>(<span class="params"></span>)</span>{</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">fun4</span>(<span class="params"></span>)</span>{</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"I'm fun4."</span>);</span><br><span class="line">    }</span><br><span class="line">    fun4();</span><br><span class="line">}</span><br><span class="line">fun3(); <span class="comment">// I'm fun4.</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun5</span>(<span class="params"></span>)</span>{</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">fun6</span>(<span class="params"></span>)</span>{</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"I'm fun6."</span>);</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> fun6;</span><br><span class="line">}</span><br><span class="line"><span class="keyword">var</span> a = fun5(); </span><br><span class="line">a(); <span class="comment">// I'm fun6.</span></span><br><span class="line">fun5()();  <span class="comment">// I'm fun6.</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="4、立即执行函数">4、立即执行函数</h2>
<p>函数定义完，立即被调用，这种函数叫做立即执行函数</p>
<p>立即执行函数往往只会执行一次</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 函数对象()</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"I'm anoymous function."</span>);</span><br><span class="line">})(); <span class="comment">// I'm anoymous function.</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params">a, b</span>)</span>{</span><br><span class="line">    <span class="built_in">console</span>.log(a + b);</span><br><span class="line">})(<span class="number">2</span>,<span class="number">3</span>); <span class="comment">// 5</span></span><br></pre></td></tr></tbody></table></figure>
<h1 id="作用域">作用域</h1>
<p>作用域指一个变量的作用的范围</p>
<p>在JS中一共有两种作用域：</p>
<ul>
<li>全局作用域</li>
<li>函数作用域</li>
</ul>
<h2 id="1、全局作用域">1、全局作用域</h2>
<p>直接编写在script标签中的JS代码，都在全局作用域</p>
<p>全局作用域在页面打开时创建，在页面关闭时销毁</p>
<p>在全局作用域中有一个全局对象<code>window</code>，它代表的是一个浏览器的窗口，由浏览器创建，可以直接使用</p>
<p>在全局作用域中：</p>
<ul>
<li>创建的变量都会作为window对象的属性保存</li>
<li>创建的函数都会作为window对象的方法保存</li>
</ul>
<p>全局作用域中的变量都是全局变量，在页面的任意的部分都可以访问的到</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">3</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">window</span>.a); <span class="comment">//3</span></span><br><span class="line"><span class="built_in">console</span>.log(a); <span class="comment">//3</span></span><br><span class="line"></span><br><span class="line">b = <span class="number">3</span>;</span><br><span class="line"><span class="built_in">console</span>.log(b); <span class="comment">//3</span></span><br></pre></td></tr></tbody></table></figure>
<h3 id="1-1、变量的声明提前">1.1、变量的声明提前</h3>
<p>使用<code>var</code>关键字声明的变量，会在所有的代码执行之前被声明</p>
<p>但是如果声明变量时不适用<code>var</code>关键字，则变量不会被声明提前</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1、变量的声明提前</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"a = "</span> + a); <span class="comment">// a = undefined</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="string">"abc"</span>;</span><br><span class="line"><span class="comment">// ======相当于======</span></span><br><span class="line"><span class="keyword">var</span> a;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"a = "</span> + a); <span class="comment">// a = undefined</span></span><br><span class="line">a = <span class="string">"abc"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2、没有变量的声明提前，报错</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"b = "</span> + b); <span class="comment">// UncaughtReferenceError: b is not defined</span></span><br><span class="line">b = <span class="string">"abc"</span>;</span><br><span class="line"><span class="comment">// ======相当于======</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"b = "</span> + b); <span class="comment">// UncaughtReferenceError: b is not defined</span></span><br><span class="line"><span class="built_in">window</span>.b = <span class="string">"abc"</span>;</span><br></pre></td></tr></tbody></table></figure>
<h3 id="1-2、函数的声明提前">1.2、函数的声明提前</h3>
<p>使用<strong>函数声明</strong>形式创建的函数<code>function</code></p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">函数(){</span><br><span class="line">	语句...</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p>它会在所有的代码执行之前就被创建，所以我们可以在函数声明前来调用函数</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">fun1(); <span class="comment">// fun1...</span></span><br><span class="line">fun2(); <span class="comment">// UncaughtTypeError: fun2 is not a function</span></span><br><span class="line"><span class="comment">// 函数声明，会被提前创建</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun1</span>(<span class="params"></span>)</span>{</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"fun1..."</span>);</span><br><span class="line">}</span><br><span class="line"><span class="comment">// 函数表达式，不会被提前创建（变量会被提前声明，但函数不会被提前创建）</span></span><br><span class="line"><span class="keyword">var</span> fun2 = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"fun2..."</span>);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h2 id="2、函数作用域">2、函数作用域</h2>
<p>调用函数时创建函数作用域，函数执行完毕以后，函数作用域销毁</p>
<p>每调用一次函数就会创建一个新的函数作用域，他们之间是互相独立的</p>
<ul>
<li>在函数作用域中可以访问到全局作用域的变量</li>
<li>在全局作用域中无法访问到函数作用域的变量</li>
</ul>
<p>当在函数作用域操作一个变量时，它会先在自身作用域中寻找，</p>
<ul>
<li>如果有就直接使用</li>
<li>如果没有则向上一级作用域中寻找，直到找到全局作用域</li>
<li>如果全局作用域中依然没有找到，则会报错</li>
</ul>
<p>在函数中要访问全局变量可以使用<code>window</code>对象</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">10</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun2</span>(<span class="params"></span>)</span>{</span><br><span class="line">    <span class="keyword">var</span> a = <span class="number">20</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">fun3</span>(<span class="params"></span>)</span>{</span><br><span class="line">        <span class="keyword">var</span> a = <span class="number">30</span>;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"fun3 ==&gt; a = "</span> + a);  <span class="comment">// fun3 ==&gt; a = 30</span></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    fun3();</span><br><span class="line"></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"fun2 ==&gt;a = "</span> + a); <span class="comment">// fun2 ==&gt;a = 20</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"a = "</span> + <span class="built_in">window</span>.a); <span class="comment">// a = 10</span></span><br><span class="line">}</span><br><span class="line">fun2(); </span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"a = "</span> + a); <span class="comment">// a = 10</span></span><br></pre></td></tr></tbody></table></figure>
<p>在函数作用域也有声明提前的特性，使用<code>var</code>关键字声明的变量，会在函数中所有的代码执行之前被声明</p>
<p>函数声明也会在函数中所有的代码执行之前执行</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 在函数作用域也有声明提前的特性，使用`var`关键字声明的变量，会在函数中所有的代码执行之前被声明</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">func1</span>(<span class="params"></span>)</span>{</span><br><span class="line">    <span class="built_in">console</span>.log(a);</span><br><span class="line">    <span class="keyword">var</span> a = <span class="string">"func1"</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 函数声明也会在函数中所有的代码执行之前执行</span></span><br><span class="line">    func2(); <span class="comment">// fun2...</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">func2</span>(<span class="params"></span>)</span>{</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"fun2..."</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line">func1(); <span class="comment">// undefined</span></span><br></pre></td></tr></tbody></table></figure>
<p>在函数中，不适用<code>var</code>声明的变量都会成为全局变量</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 函数声明且调用</span></span><br><span class="line">func3();</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">func3</span>(<span class="params"></span>) </span>{</span><br><span class="line">    a = <span class="number">4</span>;</span><br><span class="line">}</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"a = "</span> + <span class="built_in">window</span>.a);  <span class="comment">// a = 4</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"a = "</span> + <span class="built_in">window</span>[<span class="string">"a"</span>]);   <span class="comment">// a = 4</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"a = "</span> + a);    <span class="comment">// a = 4</span></span><br><span class="line"><span class="comment">// 函数声明不调用</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">func4</span>(<span class="params"></span>) </span>{</span><br><span class="line">    b = <span class="number">4</span>;</span><br><span class="line">}</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"b = "</span> + <span class="built_in">window</span>.b);  <span class="comment">// b = 4</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"b = "</span> + <span class="built_in">window</span>[<span class="string">"b"</span>]);   <span class="comment">// b = 4</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"b = "</span> + b);    <span class="comment">// UncaughtReferenceError: b is not defined</span></span><br></pre></td></tr></tbody></table></figure>
<p>定义形参就相当于在函数作用域中声明了变量</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> e = <span class="number">10</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun5</span>(<span class="params">e</span>)</span>{</span><br><span class="line">    <span class="built_in">console</span>.log(e);</span><br><span class="line">}</span><br><span class="line">fun5(); <span class="comment">// undefined</span></span><br><span class="line">fun5(<span class="number">55</span>);  <span class="comment">// 55</span></span><br></pre></td></tr></tbody></table></figure>
<p><strong>练习</strong></p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 说出以下代码的执行结果</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">123</span>; </span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun</span>(<span class="params"></span>)</span>{</span><br><span class="line">    <span class="built_in">console</span>.log(a);</span><br><span class="line">}</span><br><span class="line">fun(); 			<span class="comment">// 123</span></span><br><span class="line"><span class="comment">// =====================</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">123</span>; </span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun</span>(<span class="params"></span>)</span>{</span><br><span class="line">    <span class="built_in">console</span>.log(a);</span><br><span class="line">    <span class="keyword">var</span> a = <span class="number">456</span>;</span><br><span class="line">}</span><br><span class="line">fun(); 			<span class="comment">// undefined</span></span><br><span class="line"><span class="built_in">console</span>.log(a);  <span class="comment">// 123</span></span><br><span class="line"><span class="comment">// =====================</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">123</span>; </span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun</span>(<span class="params"></span>)</span>{</span><br><span class="line">    <span class="built_in">console</span>.log(a);</span><br><span class="line">    a = <span class="number">456</span>;</span><br><span class="line">}</span><br><span class="line">fun(); 			<span class="comment">// 123</span></span><br><span class="line"><span class="built_in">console</span>.log(a);  <span class="comment">// 456</span></span><br><span class="line"><span class="comment">// =====================</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">123</span>; </span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun</span>(<span class="params">a</span>)</span>{</span><br><span class="line">    <span class="built_in">console</span>.log(a);</span><br><span class="line">    a = <span class="number">456</span>;</span><br><span class="line">}</span><br><span class="line">fun();			<span class="comment">// undefined</span></span><br><span class="line"><span class="built_in">console</span>.log(a);  <span class="comment">// 123</span></span><br><span class="line"><span class="comment">// =====================</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">123</span>; </span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun</span>(<span class="params">a</span>)</span>{</span><br><span class="line">    <span class="built_in">console</span>.log(a);</span><br><span class="line">    a = <span class="number">456</span>;</span><br><span class="line">}</span><br><span class="line">fun(<span class="number">789</span>);		<span class="comment">// 789</span></span><br><span class="line"><span class="built_in">console</span>.log(a);  <span class="comment">// 123</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="3、this">3、this</h2>
<p>解析器在调用函数每次都会向函数内部传递进一个隐含的参数，这个隐含的参数就是<code>this</code></p>
<p><code>this</code>指向的是一个对象，这个对象我们称为函数执行的上下文对象</p>
<p>根据函数的调用方式的不同，<code>this</code>会指向不同的对象</p>
<ul>
<li>以函数的形式调用时，<code>this</code>永远都是<code>window</code></li>
<li>以方法的形式调用时，<code>this</code>就是调用方法的那个对象</li>
</ul>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// - 以函数的形式调用时，`this`永远都是`window`</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun</span>(<span class="params"></span>)</span>{</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.name);</span><br><span class="line">}</span><br><span class="line"><span class="keyword">var</span> name = <span class="string">"ddd"</span>; <span class="comment">// ddd</span></span><br><span class="line">fun();</span><br><span class="line"><span class="comment">// - 以方法的形式调用时，`this`就是调用方法的那个对象</span></span><br><span class="line"><span class="keyword">var</span> obj = {</span><br><span class="line">    name: <span class="string">"孙悟空"</span>,</span><br><span class="line">    sayName: fun</span><br><span class="line">}</span><br><span class="line">obj.sayName(); <span class="comment">// 孙悟空</span></span><br></pre></td></tr></tbody></table></figure>
<h1 id="构造函数与原型对象">构造函数与原型对象</h1>
<h2 id="1、使用工厂方法创建对象">1、使用工厂方法创建对象</h2>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createPerson</span>(<span class="params">name, age, gender</span>)</span>{</span><br><span class="line">    <span class="comment">// 创建一个新的对象</span></span><br><span class="line">    <span class="keyword">var</span> obj=<span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line">    <span class="comment">//向对象中添加属性</span></span><br><span class="line">    obj.name = name;</span><br><span class="line">    obj.age = age;</span><br><span class="line">    obj.gender = gender;</span><br><span class="line">    obj.sayName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">this</span>.name);</span><br><span class="line">    };</span><br><span class="line">    <span class="comment">//将新的对象返回</span></span><br><span class="line">    <span class="keyword">return</span> obj;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj1 = createPerson(<span class="string">"孙悟空"</span>, <span class="number">1000</span>, <span class="string">"男"</span>);</span><br><span class="line"><span class="keyword">var</span> obj2 = createPerson(<span class="string">"猪八戒"</span>, <span class="number">3600</span>, <span class="string">"男"</span>);</span><br><span class="line"><span class="keyword">var</span> obj3 = createPerson(<span class="string">"沙悟净"</span>, <span class="number">10000</span>, <span class="string">"男"</span>);</span><br><span class="line"></span><br><span class="line">obj1.sayName(); <span class="comment">// 孙悟空</span></span><br><span class="line">obj2.sayName(); <span class="comment">// 猪八戒</span></span><br><span class="line">obj3.sayName(); <span class="comment">// 猪八戒</span></span><br></pre></td></tr></tbody></table></figure>
<p>使用工厂方法创建的对象，使用的构造函数都是<code>Object</code></p>
<p>所以创建的对象都是<code>Object</code>这个类型，就导致我们无法区分出多种不同类型的对象</p>
<h2 id="2、构造函数">2、构造函数</h2>
<p>创建一个构造函数，专门用来创建Person对象的构造函数就是一个普通的函数</p>
<p>创建方式和普通函数没有区别，不同的是构造函数习惯上<strong>首字母大写</strong>构造函数</p>
<p>和普通函数的区别就是<strong>调用方式的不同</strong></p>
<ul>
<li>普通函数是直接调用</li>
<li>构造函数需要使用<code>new</code>关键字来调用</li>
</ul>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>)</span>{</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>); <span class="comment">// Person{}</span></span><br><span class="line">}</span><br><span class="line"><span class="comment">// 普通函数</span></span><br><span class="line"><span class="keyword">var</span> fun = Person();</span><br><span class="line"><span class="built_in">console</span>.log(fun); <span class="comment">// undefined</span></span><br><span class="line"><span class="comment">// 构造函数</span></span><br><span class="line"><span class="keyword">var</span> person = <span class="keyword">new</span> Person();</span><br><span class="line"><span class="built_in">console</span>.log(person); <span class="comment">// Person{}</span></span><br></pre></td></tr></tbody></table></figure>
<h3 id="构造函数的执行流程">构造函数的执行流程</h3>
<ol>
<li>立刻创建一个新的对象</li>
<li>将新建的对象设置为函数中<code>this</code>，在构造函数中可以使用<code>this</code>来引用新建的对象</li>
<li>逐行执行函数中的代码</li>
<li>将新建的对象作为返回值返回</li>
</ol>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Dog</span>(<span class="params"></span>)</span>{</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name, age, gender</span>)</span>{</span><br><span class="line">    <span class="comment">//向对象中添加属性</span></span><br><span class="line">    <span class="built_in">this</span>.name = name;</span><br><span class="line">    <span class="built_in">this</span>.age = age;</span><br><span class="line">    <span class="built_in">this</span>.gender = gender;</span><br><span class="line">    <span class="built_in">this</span>.sayHello = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"My'name is "</span> + <span class="built_in">this</span>.name + <span class="string">", "</span> +</span><br><span class="line">                    <span class="string">"I'm "</span> + <span class="built_in">this</span>.age + <span class="string">" years old, "</span> +</span><br><span class="line">                    <span class="string">"and I'm a "</span> + <span class="built_in">this</span>.gender + <span class="string">"."</span>);</span><br><span class="line">    };</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> person1 = <span class="keyword">new</span> Person(<span class="string">"孙悟空"</span>, <span class="number">1000</span>, <span class="string">"man"</span>);</span><br><span class="line"><span class="keyword">var</span> person2 = <span class="keyword">new</span> Person(<span class="string">"猪八戒"</span>, <span class="number">3600</span>, <span class="string">"man"</span>);</span><br><span class="line"><span class="keyword">var</span> person3 = <span class="keyword">new</span> Person(<span class="string">"沙悟净"</span>, <span class="number">10000</span>, <span class="string">"man"</span>);</span><br><span class="line"><span class="keyword">var</span> dog = <span class="keyword">new</span> Dog();</span><br><span class="line">person1.sayHello(); <span class="comment">// My'name is 孙悟空, I'm 1000 years old, and I'm a man.</span></span><br><span class="line">person2.sayHello(); <span class="comment">// My'name is 猪八戒, I'm 3600 years old, and I'm a man.</span></span><br><span class="line">person3.sayHello(); <span class="comment">// My'name is 沙悟净, I'm 10000 years old, and I'm a man.</span></span><br><span class="line"><span class="built_in">console</span>.log(person1); <span class="comment">// Person {name: "孙悟空", age: 1000, gender: "man", sayHello: ƒ}</span></span><br><span class="line"><span class="built_in">console</span>.log(person2); <span class="comment">// Person {name: "猪八戒", age: 3600, gender: "man", sayHello: ƒ}</span></span><br><span class="line"><span class="built_in">console</span>.log(person3); <span class="comment">// Person {name: "沙悟净", age: 10000, gender: "man", sayHello: ƒ}</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> person1); <span class="comment">// object</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> person2); <span class="comment">// object</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> person3); <span class="comment">// object</span></span><br></pre></td></tr></tbody></table></figure>
<p>使用同一个构造函数创建的对象，我们称为一类对象，也将一个构造函数称为一个类。</p>
<p>我们将通过一个构造函数创建的对象，称为是该类的实例</p>
<p>使用<code>instanceof</code>可以检查一个对象是否是一个类的实例语法：<code>对象 instanceof 构造函数</code></p>
<p>如果是则返回<code>true</code>，否则返回<code>false</code></p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(person1 <span class="keyword">instanceof</span> Person); <span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(person2 <span class="keyword">instanceof</span> Person); <span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(person3 <span class="keyword">instanceof</span> Person); <span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(dog <span class="keyword">instanceof</span> Person); 	<span class="comment">//false</span></span><br></pre></td></tr></tbody></table></figure>
<p>所有的对象都是<code>Object</code>的后代，所以任何对象和<code>Object</code>进行<code>instanceof</code>检查时都会返回<code>true</code></p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(person1 <span class="keyword">instanceof</span> <span class="built_in">Object</span>); <span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(person2 <span class="keyword">instanceof</span> <span class="built_in">Object</span>); <span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(person3 <span class="keyword">instanceof</span> <span class="built_in">Object</span>); <span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(dog <span class="keyword">instanceof</span> <span class="built_in">Object</span>); 	<span class="comment">//true</span></span><br></pre></td></tr></tbody></table></figure>
<p><code>this</code>的情况：</p>
<ul>
<li>当以函数的形式调用时，<code>this</code>是<code>window</code></li>
<li>当以方法的形式调用时，谁调用方法<code>this</code>就是谁</li>
<li>当以构造函数的形式调用时，<code>this</code>就是新创建的那个对象</li>
</ul>
<h3 id="构造函数修改">构造函数修改</h3>
<p>创建一个Person构造函数</p>
<p>在Person构造函数中，为每一个对象都添加了一个sayName方法，目前我们的方法是在构造函数内部创建的</p>
<p>也就是构造函数每执行一次就会创建一个新的sayName方法也是所有实例的sayName都是唯一的</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name, age, gender</span>)</span>{</span><br><span class="line">    <span class="built_in">this</span>.name = name;</span><br><span class="line">    <span class="built_in">this</span>.age = age;</span><br><span class="line">    <span class="built_in">this</span>.gender = gender;</span><br><span class="line">    <span class="built_in">this</span>.sayHello = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"My'name is "</span> + <span class="built_in">this</span>.name + <span class="string">", "</span> +</span><br><span class="line">                    <span class="string">"I'm "</span> + <span class="built_in">this</span>.age + <span class="string">" years old, "</span> +</span><br><span class="line">                    <span class="string">"and I'm a "</span> + <span class="built_in">this</span>.gender + <span class="string">"."</span>);</span><br><span class="line">    };</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p>这样就导致了构造函数执行一次就会创建一个新的方法，执行10000次就会创建10000个新的方法，而10000个方法都是一模一样的</p>
<p>这是完全没有必要，完全可以使所有的对象共享同一个方法</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name, age, gender</span>)</span>{</span><br><span class="line">    <span class="built_in">this</span>.name = name;</span><br><span class="line">    <span class="built_in">this</span>.age = age;</span><br><span class="line">    <span class="built_in">this</span>.gender = gender;</span><br><span class="line">    <span class="built_in">this</span>.sayHello = fun;</span><br><span class="line">}</span><br><span class="line"><span class="comment">// 将sayName方法在全局作用域中定义</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun</span>(<span class="params"></span>)</span>{</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"My'name is "</span> + <span class="built_in">this</span>.name + <span class="string">", "</span> +</span><br><span class="line">                <span class="string">"I'm "</span> + <span class="built_in">this</span>.age + <span class="string">" years old, "</span> +</span><br><span class="line">                <span class="string">"and I'm a "</span> + <span class="built_in">this</span>.gender + <span class="string">"."</span>);</span><br><span class="line">};</span><br></pre></td></tr></tbody></table></figure>
<p>将函数定义在全局作用域，虽然节省了空间，但却污染了全局作用域的命名空间</p>
<p>而且定义在全局作用域中也很不安全</p>
<h2 id="3、原型对象">3、原型对象</h2>
<h3 id="原型prototype">原型prototype</h3>
<p>我们所创建的每一个函数（不论是普通函数还是构造函数），解析器都会向函数中添加一个属性<code>prototype</code></p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>)</span>{</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">MyClass</span>(<span class="params"></span>)</span>{</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(Person.prototype);</span><br><span class="line"><span class="comment">// {constructor: ƒ}</span></span><br><span class="line"><span class="comment">// 		constructor: ƒ Person()</span></span><br><span class="line"><span class="comment">// 			arguments: null</span></span><br><span class="line"><span class="comment">// 			caller: null</span></span><br><span class="line"><span class="comment">// 			length: 0</span></span><br><span class="line"><span class="comment">// 			name: "Person"</span></span><br><span class="line"><span class="comment">// 			prototype: {constructor: ƒ}</span></span><br><span class="line"><span class="comment">// 			__proto__: ƒ ()</span></span><br><span class="line"><span class="comment">// 			[[FunctionLocation]]: 09-原型对象.html:8</span></span><br><span class="line"><span class="comment">// 			[[Scopes]]: Scopes[1]</span></span><br><span class="line"><span class="comment">// 		__proto__: Object</span></span><br><span class="line"><span class="built_in">console</span>.log(Person.prototype == MyClass.prototype); <span class="comment">// false</span></span><br></pre></td></tr></tbody></table></figure>
<p>当函数以普通函数的形式调用<code>prototype</code>时，没有任何作用</p>
<p>当函数以构造函数的形式调用<code>prototype</code>时，它所创建的对象中都会有一个隐含的属性，指向该构造函数的原型对象，我们可以通过<code>__proto__</code>来访问该属性</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> mc1 = <span class="keyword">new</span> MyClass();</span><br><span class="line"><span class="keyword">var</span> mc2 = <span class="keyword">new</span> MyClass();</span><br><span class="line"><span class="keyword">var</span> mc3 = <span class="keyword">new</span> MyClass();</span><br><span class="line"><span class="built_in">console</span>.log(mc1.__proto__ == MyClass.prototype); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(mc2.__proto__ == MyClass.prototype); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(mc3.__proto__ == MyClass.prototype); <span class="comment">// true</span></span><br></pre></td></tr></tbody></table></figure>
<p><img src="https://i.loli.net/2021/07/27/cOdFuN8bgXEPLTa.png" alt="image-20210727225124094"></p>
<p>原型对象就相当于一个<strong>公共区域</strong>，所有同一个类的实例都可以访问到这个原型对象</p>
<p>我们可以将对象中共有的内容，统一设置到原型对象中</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 向MyClass中添加属性a</span></span><br><span class="line">MyClass.prototype.a = <span class="string">"123"</span>;</span><br><span class="line"><span class="built_in">console</span>.log(mc1.a);  <span class="comment">// 123</span></span><br><span class="line"><span class="comment">// 向MyClass中添加方法sayHello</span></span><br><span class="line">MyClass.prototype.sayHello = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{</span><br><span class="line">alert(<span class="string">"hello"</span>);</span><br><span class="line">}</span><br><span class="line">mc3.sayHello();</span><br></pre></td></tr></tbody></table></figure>
<p>当我们访问对象的一个属性或方法时，它会先在对象自身中寻找，如果有则直接使用，如果没有则会去原型对象中寻找，如果找到则直接使用</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mc2.a = <span class="string">"456"</span>;</span><br><span class="line"><span class="built_in">console</span>.log(mc2.a);  <span class="comment">// 456</span></span><br></pre></td></tr></tbody></table></figure>
<p>以后我们创建构造函数时，可以将这些对象共有的属性和方法，统一添加到构造函数的原型对象中</p>
<p>这样不用分别为每一个对象添加，也不会影响到全局作用域，就可以使每个对象都具有这些属性和方法了</p>
<h3 id="hasOwnProperty">hasOwnProperty</h3>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">MyClass</span>(<span class="params"></span>)</span>{</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line">MyClass.prototype.name = <span class="string">"I'm prototype's name."</span>;</span><br><span class="line"><span class="keyword">var</span> mc = <span class="keyword">new</span> MyClass();</span><br><span class="line">mc.age = <span class="number">18</span>;</span><br><span class="line"><span class="comment">// 使用in检查对象中是否含有某个属性时，如果对象中没有但是原型中有，也会返回true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"name"</span> <span class="keyword">in</span> mc); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"age"</span> <span class="keyword">in</span> mc); <span class="comment">// true</span></span><br><span class="line"><span class="comment">// 可以使用对象的hasOwnProperty()来检查对象自身中是否含有该属性</span></span><br><span class="line"><span class="comment">// 使用该方法只有当对象自身中含有属性时，才会返回true</span></span><br><span class="line"><span class="built_in">console</span>.log(mc.hasOwnProperty(<span class="string">"name"</span>)); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(mc.hasOwnProperty(<span class="string">"age"</span>));  <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(mc.hasOwnProperty(<span class="string">"hasOwnProperty"</span>));  <span class="comment">// false</span></span><br></pre></td></tr></tbody></table></figure>
<p><strong>那么，<code>hasOwnProperty</code>是原型对象中定义的方法吗？</strong></p>
<p>因为对象中没有定义<code>hasOwnProperty</code>方法，那应该就是在原型对象中定义的了，果真如此吗？</p>
<p>我们用<code>hasOwnProperty</code>方法看下有没有<code>hasOwnProperty</code>它自己</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(mc.__proto__.hasOwnProperty(<span class="string">"hasOwnProperty"</span>));  <span class="comment">// false</span></span><br></pre></td></tr></tbody></table></figure>
<p>我们发现，原型对象中也没有<code>hasOwnProperty</code>方法，那<code>hasOwnProperty</code>究竟是哪里来的呢？</p>
<h3 id="原型的原型">原型的原型</h3>
<p>原型对象也是对象，所以它也有原型，当我们使用一个对象的属性或方法时</p>
<ul>
<li>
<p>会先在自身中寻找，自身中如果有则直接使用</p>
</li>
<li>
<p>如果没有则去原型对象中寻找，有则使用</p>
</li>
<li>
<p>如果没有则去原型的原型中寻找，直到找到<code>Object</code>对象的原型</p>
</li>
<li>
<p><code>Object</code>对象的原型没有原型，如果在<code>Object</code>中依然没有找到，则返回<code>undefined</code></p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(mc.helloWorld);  <span class="comment">// undefined</span></span><br></pre></td></tr></tbody></table></figure>
</li>
</ul>
<p><img src="https://i.loli.net/2021/07/27/TrGWR83XvCAVzdY.png" alt="image-20210727231924585"></p>
<p>那么，按照这个原理，我们在原型的原型中使用<code>hasOwnProperty</code>方法看看</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(mc.__proto__.__proto__.hasOwnProperty(<span class="string">"hasOwnProperty"</span>));  <span class="comment">// true</span></span><br></pre></td></tr></tbody></table></figure>
<p><strong>那既然原型对象有原型，那原型的原型还有原型吗？</strong></p>
<p>话不多说，直接打印看下</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(mc.__proto__.__proto__.__proto__);  <span class="comment">// null</span></span><br></pre></td></tr></tbody></table></figure>
<p>根据上述原理，<code>mc.__proto__.__proto__</code>就是<code>Object</code>对象了</p>
<p><code>Object</code>对象虽然没有原型，但也有<code>__proto__</code>，只是为<code>null</code>而已</p>
<h3 id="toString">toString</h3>
<p>当我们直接在页面中打印一个对象时，事件上是输出的对象的<code>toString()</code>方法的返回值（<em>这里并非视频中所说的那样，有待确认</em>）</p>
<p>如果我们希望在输出对象时不输出<code>[object Object]</code>，可以为对象添加一个<code>toString()</code>方法</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name, age, gender</span>)</span>{</span><br><span class="line">    <span class="built_in">this</span>.name = name;</span><br><span class="line">    <span class="built_in">this</span>.age = age;</span><br><span class="line">    <span class="built_in">this</span>.gender = gender;</span><br><span class="line">}</span><br><span class="line"><span class="keyword">var</span> per1 = <span class="keyword">new</span> Person(<span class="string">"孙悟空"</span>, <span class="number">1000</span>, <span class="string">"man"</span>);</span><br><span class="line"><span class="keyword">var</span> per2 = <span class="keyword">new</span> Person(<span class="string">"猪八戒"</span>, <span class="number">3600</span>, <span class="string">"man"</span>);</span><br><span class="line"><span class="comment">// 当我们直接在页面中打印一个对象时，事件上是输出的对象的`toString()`方法的返回值</span></span><br><span class="line"><span class="built_in">console</span>.log(per1); <span class="comment">// Person&nbsp;{name: "孙悟空", age: 1000, gender: "man"}</span></span><br><span class="line"><span class="built_in">console</span>.log(per1.toString()); <span class="comment">// [object Object]</span></span><br><span class="line"><span class="comment">// 如果我们希望在输出对象时不输出`[object Object]`，可以为对象添加一个`toString()`方法</span></span><br><span class="line">per1.toString = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"Person[name="</span> + <span class="built_in">this</span>.name + <span class="string">", age="</span> + <span class="built_in">this</span>.age + <span class="string">", gender="</span> + <span class="built_in">this</span>.gender + <span class="string">"]"</span>;</span><br><span class="line">}</span><br><span class="line"><span class="built_in">console</span>.log(per1); <span class="comment">// Person&nbsp;{name: "孙悟空", age: 1000, gender: "man", toString: ƒ}</span></span><br><span class="line"><span class="built_in">console</span>.log(per1.toString()); <span class="comment">// Person[name=孙悟空, age=1000, gender=man]</span></span><br></pre></td></tr></tbody></table></figure>
<p>上述只是修改per1对象的<code>toString</code>方法，不会对其他对象产生影响</p>
<p>如果想要所有对象都执行该方法，可以修改Person原型的<code>toString</code></p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(per2.toString()); <span class="comment">// [object Object]</span></span><br><span class="line"><span class="comment">// 修改Person原型的toString</span></span><br><span class="line">Person.prototype.toString = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"Person[name="</span> + <span class="built_in">this</span>.name + <span class="string">", age="</span> + <span class="built_in">this</span>.age + <span class="string">", gender="</span> + <span class="built_in">this</span>.gender + <span class="string">"]"</span>;</span><br><span class="line">}</span><br><span class="line"><span class="built_in">console</span>.log(per2.toString()); <span class="comment">// Person[name=猪八戒, age=3600, gender=man] </span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="4、垃圾回收（GC）">4、垃圾回收（ＧＣ）</h2>
<p>就像人生活的时间长了会产生垃圾一样，程序运行过程中也会产生垃圾这些垃圾积攒过多以后，会导致程序运行的速度过慢</p>
<p>所以我们需要一个垃圾回收的机制，来处理程序运行过程中产生垃圾</p>
<p><img src="https://i.loli.net/2021/07/28/bON2SjLn1Cq9wa8.png" alt="image-20210728191835732"></p>
<p>当一个对象没有任何的变量或属性对它进行引用，我们将永远无法操作该对象</p>
<p>此时这种对象就是一个垃圾，这种对算过多会占用大量的内存空间，导致程序运行变慢</p>
<p><img src="https://i.loli.net/2021/07/28/hYS8TOybCBMx9Ud.png" alt="image-20210728192324257"></p>
<p>在JS中拥有自动的垃圾回收机制，会自动将这些垃圾对象从内存中销毁，我们不需要也不能进行垃圾回收的操作</p>
<p>我们需要做的只是要将不再使用的对象设置<code>null</code>即可</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line">obj = <span class="literal">null</span></span><br></pre></td></tr></tbody></table></figure>
<h1 id="数组">数组</h1>
<h2 id="1、数组简介">1、数组简介</h2>
<p>数组也是一个对象</p>
<p>它和我们普通对象功能类似，也是用来存储一些值的</p>
<p>不同的是普通对象是使用字符串作为属性名的，而数组时使用数字来作为索引操作元素</p>
<p><strong>索引：从0开始的整数就是索引</strong></p>
<p><img src="https://i.loli.net/2021/07/28/K7nQ9IRsvxZ6UTA.png" alt="image-20210728193018085"></p>
<p>数组的存储性能比普通对象要好，在开发中我们经常使用数组来存储一些数据</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建数组对象</span></span><br><span class="line"><span class="keyword">var</span> arr=<span class="keyword">new</span> <span class="built_in">Array</span>();</span><br><span class="line"><span class="comment">// 使用typeof检查一个数组时，会返回object</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> arr); <span class="comment">// object</span></span><br></pre></td></tr></tbody></table></figure>
<h3 id="向数组中添加元素">向数组中添加元素</h3>
<p>语法：<code>数组[索引] = 值</code></p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">arr[<span class="number">0</span>] = <span class="number">10</span>;</span><br><span class="line">arr[<span class="number">1</span>] = <span class="number">33</span>;</span><br><span class="line">arr[<span class="number">2</span>] = <span class="number">22</span>;</span><br></pre></td></tr></tbody></table></figure>
<h3 id="读取数组中的元素">读取数组中的元素</h3>
<p>语法：<code>数组[索引]</code></p>
<p>如果读取不存在的索引，不会报错而是返回<code>undefined</code></p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(arr[<span class="number">2</span>]); <span class="comment">// 22</span></span><br><span class="line"><span class="built_in">console</span>.log(arr[<span class="number">3</span>]); <span class="comment">// undefined</span></span><br></pre></td></tr></tbody></table></figure>
<h3 id="获取数组的长度">获取数组的长度</h3>
<p>可以使用<code>length</code>属性来获取数组的长度（元素的个数）语法：<code>数组.length</code></p>
<ul>
<li>对于连续的数组，使用<code>length</code>可以获取到数组的长度（元素的个数）</li>
<li>对于非连续的数组，使用<code>length</code>会获取到数组的最大的索引 + 1</li>
</ul>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(arr.length); <span class="comment">// 3</span></span><br><span class="line"><span class="built_in">console</span>.log(arr); <span class="comment">// {"0":10,"1":33,"2":22,"length":3}</span></span><br><span class="line">arr[<span class="number">10</span>] = <span class="number">33</span>;</span><br><span class="line"><span class="built_in">console</span>.log(arr.length); <span class="comment">// 11</span></span><br><span class="line"><span class="built_in">console</span>.log(arr); <span class="comment">// {"0":10,"1":33,"10":33,"2":22,"length":11}</span></span><br></pre></td></tr></tbody></table></figure>
<p>尽量不要创建非连续的数组</p>
<h3 id="修改数组的长度">修改数组的长度</h3>
<ul>
<li>如果修改的<code>length</code>大于原长度，则多出部分会空出来</li>
<li>如果修改的<code>length</code>小于原长度，则多出的元素会被删除</li>
</ul>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">arr.length = <span class="number">100</span>;</span><br><span class="line"><span class="built_in">console</span>.log(arr.length); <span class="comment">// 100</span></span><br><span class="line"><span class="built_in">console</span>.log(arr); <span class="comment">// {"0":10,"1":33,"10":33,"2":22,"length":100}</span></span><br><span class="line">arr.length = <span class="number">2</span>;</span><br><span class="line"><span class="built_in">console</span>.log(arr.length); <span class="comment">// 2</span></span><br><span class="line"><span class="built_in">console</span>.log(arr); <span class="comment">// {"0":10,"1":33,"length":2}</span></span><br></pre></td></tr></tbody></table></figure>
<h3 id="向数组最后一位添加元素">向数组最后一位添加元素</h3>
<p>语法：<code>数组[数组.length] = 值;</code></p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">arr[arr.length] = <span class="number">22</span>;</span><br><span class="line"><span class="built_in">console</span>.log(arr.length); <span class="comment">// 3</span></span><br><span class="line"><span class="built_in">console</span>.log(arr); <span class="comment">// {"0":10,"1":33,"2":22,"length":3}</span></span><br><span class="line">arr[arr.length] = <span class="number">33</span>;</span><br><span class="line"><span class="built_in">console</span>.log(arr.length); <span class="comment">// 4</span></span><br><span class="line"><span class="built_in">console</span>.log(arr); <span class="comment">// {"0":10,"1":33,"2":22,"3":33,"length":4}</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="2、创建数组的方式">2、创建数组的方式</h2>
<h3 id="使用字面量创建数组">使用字面量创建数组</h3>
<p>语法：<code>[]</code></p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr1 = [];</span><br><span class="line"><span class="built_in">console</span>.log(arr1); <span class="comment">// {"length":0}</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> arr1); <span class="comment">// object</span></span><br><span class="line"><span class="built_in">console</span>.log(arr1.length); <span class="comment">// 0</span></span><br></pre></td></tr></tbody></table></figure>
<p>使用字面量创建数组时，可以在创建时就指定数组中的元素</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr2 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">10</span>];</span><br><span class="line"><span class="built_in">console</span>.log(arr2);  <span class="comment">// {"0":1,"1":2,"2":3,"3":4,"4":5,"5":10,"length":6} </span></span><br><span class="line"><span class="built_in">console</span>.log(arr2.length); <span class="comment">// 6	</span></span><br></pre></td></tr></tbody></table></figure>
<h3 id="使用构造函数创建数组">使用构造函数创建数组</h3>
<p>使用构造函数创建数组时，也可以同时添加元素，将要添加的元素作为构造函数的参数传递</p>
<p>元素之间使用<code>,</code>隔开</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr3 = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>);</span><br><span class="line"><span class="built_in">console</span>.log(arr3);  <span class="comment">// {"0":1,"1":2,"2":3,"3":4,"4":5,"length":5} </span></span><br><span class="line"><span class="built_in">console</span>.log(arr3.length); <span class="comment">// 5</span></span><br></pre></td></tr></tbody></table></figure>
<p><strong>字面量和构造函数只有一个数字时的区别</strong></p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建一个数组数组中只有一个元素10</span></span><br><span class="line"><span class="keyword">var</span> arr4 = [<span class="number">10</span>];</span><br><span class="line"><span class="comment">// 创建一个长度为10的数</span></span><br><span class="line"><span class="keyword">var</span> arr5 = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">10</span>);</span><br><span class="line"><span class="built_in">console</span>.log(arr4.length);  <span class="comment">// 1</span></span><br><span class="line"><span class="built_in">console</span>.log(arr5.length);  <span class="comment">// 10</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="3、数组元素类型">3、数组元素类型</h2>
<h3 id="任意的数据类型">任意的数据类型</h3>
<p>数字、字符串、布尔值、<code>null</code>、<code>undefined</code></p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr6 = [<span class="number">2</span>, <span class="string">"13"</span>, <span class="literal">true</span>, <span class="literal">null</span>, <span class="literal">undefined</span>];</span><br><span class="line"><span class="built_in">console</span>.log(arr6); </span><br><span class="line"><span class="comment">// Array(5)</span></span><br><span class="line"><span class="comment">// 	0: 2</span></span><br><span class="line"><span class="comment">// 	1: "13"</span></span><br><span class="line"><span class="comment">// 	2: true</span></span><br><span class="line"><span class="comment">// 	3: null</span></span><br><span class="line"><span class="comment">// 	4: undefined</span></span><br><span class="line"><span class="comment">// 	length: 5</span></span><br></pre></td></tr></tbody></table></figure>
<h3 id="对象-2">对象</h3>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// **也可以是对象**</span></span><br><span class="line"><span class="keyword">var</span> obj = {<span class="attr">name</span>:<span class="string">"孙悟空"</span>};</span><br><span class="line"><span class="keyword">var</span> arr7 = [];</span><br><span class="line">arr7[arr7.length] = obj;</span><br><span class="line"><span class="built_in">console</span>.log(arr7); <span class="comment">// {"0":{"name":"孙悟空"},"length":1} </span></span><br><span class="line">arr7 = [{<span class="attr">name</span>:<span class="string">"孙悟空"</span>}, {<span class="attr">name</span>:<span class="string">"沙和尚"</span>}, {<span class="attr">name</span>:<span class="string">"猪八戒"</span>}];</span><br><span class="line"><span class="built_in">console</span>.log(arr7); <span class="comment">// {"0":{"name":"孙悟空"},"1":{"name":"沙和尚"},"2":{"name":"猪八戒"},"length":3}</span></span><br></pre></td></tr></tbody></table></figure>
<h3 id="函数-2">函数</h3>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">arr7 = [<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{alert(<span class="number">1</span>)},<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{alert(<span class="number">2</span>)}]; </span><br><span class="line"><span class="built_in">console</span>.log(arr7); <span class="comment">// {"0":"function (){alert(1)}","1":"function (){alert(2)}","length":2}</span></span><br></pre></td></tr></tbody></table></figure>
<h3 id="数组-2">数组</h3>
<p>数组中也可以放数组，如下这种数组我们称为<strong>二维数组</strong></p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">arr7 = [[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>],[<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>]];</span><br><span class="line"><span class="built_in">console</span>.log(arr7); <span class="comment">// {"0":{"0":1,"1":2,"2":3,"length":3},"1":{"0":4,"1":5,"2":6,"length":3},"2":{"0":7,"1":8,"2":9,"length":3},"length":3}</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="4、数组的方法">4、数组的方法</h2>
<p>数组的方法有很多，这里兹介绍常用的几个方法</p>
<p><img src="https://i.loli.net/2021/07/28/QdKCH1hIcq5AxXZ.png" alt="image-20210728203916328"></p>
<h3 id="push">push()</h3>
<p>该方法可以向数组的末尾添加一个或多个元素，并返回数组的新的长度</p>
<p>可以将要添加的元素作为方法的参数传递，这样这些元素将会自动添加到数组的末尾</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> result = arr.push(<span class="string">"唐三藏"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(arr); <span class="comment">// ["孙悟空", "猪八戒", "沙悟净", "唐三藏"]</span></span><br><span class="line">arr.push(<span class="string">"菩提老祖"</span>, <span class="string">"地藏菩萨"</span>, <span class="string">"弥勒佛"</span>); </span><br><span class="line"><span class="built_in">console</span>.log(arr); <span class="comment">// ["孙悟空", "猪八戒", "沙悟净", "唐三藏", "菩提老祖", "地藏菩萨", "弥勒佛"]</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"result = "</span> + result); <span class="comment">// result = 4</span></span><br></pre></td></tr></tbody></table></figure>
<h3 id="pop">pop()</h3>
<p>该方法可以删除数组的最后一个元素，并将被删除的元素作为返回值返回</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(arr); <span class="comment">// ["孙悟空", "猪八戒", "沙悟净", "唐三藏", "菩提老祖", "地藏菩萨", "弥勒佛"]</span></span><br><span class="line"><span class="keyword">var</span> result = arr.pop();</span><br><span class="line"><span class="built_in">console</span>.log(arr); <span class="comment">// ["孙悟空", "猪八戒", "沙悟净", "唐三藏", "菩提老祖", "地藏菩萨"]</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"result = "</span> + result); <span class="comment">// result = 弥勒佛</span></span><br></pre></td></tr></tbody></table></figure>
<h3 id="unshift">unshift()</h3>
<p>向数组开头添加一个或多个元素，并返回新的数组长度</p>
<p>向前边插入元素以后，其他的元素索引会依次调整</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(arr); <span class="comment">// ["孙悟空", "猪八戒", "沙悟净", "唐三藏", "菩提老祖", "地藏菩萨"]</span></span><br><span class="line">result = arr.unshift(<span class="string">"牛魔王"</span>, <span class="string">"二郎神"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(arr); <span class="comment">// ["牛魔王", "二郎神", "孙悟空", "猪八戒", "沙悟净", "唐三藏", "菩提老祖", "地藏菩萨"]</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"result = "</span> + result); <span class="comment">// result = 8</span></span><br></pre></td></tr></tbody></table></figure>
<h3 id="shift">shift()</h3>
<p>可以删除数组的第一个元素，并将被删除的元素作为返回值返回</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(arr); <span class="comment">// ["牛魔王", "二郎神", "孙悟空", "猪八戒", "沙悟净", "唐三藏", "菩提老祖", "地藏菩萨"]</span></span><br><span class="line">result = arr.shift();</span><br><span class="line"><span class="built_in">console</span>.log(arr); <span class="comment">// ["二郎神", "孙悟空", "猪八戒", "沙悟净", "唐三藏", "菩提老祖", "地藏菩萨"]</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"result = "</span> + result); <span class="comment">// result = 7</span></span><br></pre></td></tr></tbody></table></figure>
<p><strong>小结</strong></p>
<table>
<thead>
<tr>
<th style="text-align:left">操作</th>
<th style="text-align:left">添加</th>
<th style="text-align:left">删除</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">末尾操作</td>
<td style="text-align:left"><code>push</code>：末尾添加</td>
<td style="text-align:left"><code>pop</code>：末尾删除</td>
</tr>
<tr>
<td style="text-align:left">开头操作</td>
<td style="text-align:left"><code>unshift</code>：开头添加</td>
<td style="text-align:left"><code>shift</code>：开头删除</td>
</tr>
</tbody>
</table>
<h3 id="slice">slice()</h3>
<p>从某个已有的数组返回选定的元素，可以用来从数组提取指定元素</p>
<p>该方法不会改变元素数组，而是将截取到的元素封装到一个新数组中返回参数：</p>
<ul>
<li>截取开始的位置的索引，包含开始索引</li>
<li>截取结束的位置的索引，不包含结束索引</li>
</ul>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">result = arr.slice(<span class="number">0</span>,<span class="number">3</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// ["二郎神", "孙悟空", "猪八戒"]</span></span><br></pre></td></tr></tbody></table></figure>
<p>第二个参数可以省略不写，此时会截取从开始索引往后的所有元素</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">result = arr.slice(<span class="number">3</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// ["沙悟净", "唐三藏", "菩提老祖", "地藏菩萨"]</span></span><br></pre></td></tr></tbody></table></figure>
<p>索引可以传递一个负值，如果传递一个负值，则从后往前计算</p>
<ul>
<li>-1 倒数第一个</li>
<li>-2 倒数第二个</li>
</ul>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">result = arr.slice(<span class="number">4</span>, -<span class="number">1</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// ["唐三藏", "菩提老祖"]</span></span><br></pre></td></tr></tbody></table></figure>
<h3 id="splice">splice()</h3>
<p>删除元素，并向数组添加新元素。可以用于删除数组中的指定元素</p>
<p>使用<code>splice()</code>会影响到原数组，会将指定元素从原数组中删除，并将被删除的元素作为返回值返回</p>
<p>参数：</p>
<ul>
<li>
<p>第一个，表示开始位置的索引</p>
</li>
<li>
<p>第二个，表示删除的数量</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">arr = [<span class="string">"牛魔王"</span>, <span class="string">"二郎神"</span>, <span class="string">"孙悟空"</span>, <span class="string">"猪八戒"</span>, <span class="string">"沙悟净"</span>, <span class="string">"唐三藏"</span>, <span class="string">"菩提老祖"</span>, <span class="string">"地藏菩萨"</span>];</span><br><span class="line">result = arr.splice(<span class="number">0</span>, <span class="number">2</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// ["牛魔王", "二郎神"]</span></span><br><span class="line"><span class="built_in">console</span>.log(arr); <span class="comment">// ["孙悟空", "猪八戒", "沙悟净", "唐三藏", "菩提老祖", "地藏菩萨"]</span></span><br><span class="line"></span><br><span class="line">arr = [<span class="string">"牛魔王"</span>, <span class="string">"二郎神"</span>, <span class="string">"孙悟空"</span>, <span class="string">"猪八戒"</span>, <span class="string">"沙悟净"</span>, <span class="string">"唐三藏"</span>, <span class="string">"菩提老祖"</span>, <span class="string">"地藏菩萨"</span>];</span><br><span class="line">result = arr.splice(<span class="number">1</span>, <span class="number">2</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// ["二郎神", "孙悟空"]</span></span><br><span class="line"><span class="built_in">console</span>.log(arr); <span class="comment">// ["牛魔王", "猪八戒", "沙悟净", "唐三藏", "菩提老祖", "地藏菩萨"]</span></span><br></pre></td></tr></tbody></table></figure>
</li>
<li>
<p>第三个及以后，可以传递一些新的元素，这些元素将会自动插入到开始位置索引前边</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 替换元素</span></span><br><span class="line">arr = [<span class="string">"孙悟空"</span>, <span class="string">"猪八戒"</span>, <span class="string">"沙悟净"</span>, <span class="string">"唐三藏"</span>];</span><br><span class="line">result = arr.splice(<span class="number">0</span>, <span class="number">1</span>, <span class="string">"牛魔王"</span>, <span class="string">"铁扇公主"</span>, <span class="string">"红孩儿"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// ["孙悟空"]</span></span><br><span class="line"><span class="built_in">console</span>.log(arr); <span class="comment">// ["牛魔王", "铁扇公主", "红孩儿", "猪八戒", "沙悟净", "唐三藏"]</span></span><br><span class="line"><span class="comment">// 插入元素</span></span><br><span class="line">arr = [<span class="string">"孙悟空"</span>, <span class="string">"猪八戒"</span>, <span class="string">"沙悟净"</span>, <span class="string">"唐三藏"</span>];</span><br><span class="line">result = arr.splice(<span class="number">0</span>, <span class="number">0</span>, <span class="string">"牛魔王"</span>, <span class="string">"铁扇公主"</span>, <span class="string">"红孩儿"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// []</span></span><br><span class="line"><span class="built_in">console</span>.log(arr); <span class="comment">// ["牛魔王", "铁扇公主", "红孩儿", "孙悟空", "猪八戒", "沙悟净", "唐三藏"]</span></span><br></pre></td></tr></tbody></table></figure>
</li>
</ul>
<p><strong>小结</strong></p>
<ul>
<li><code>slice</code>可以提取数组中指定元素</li>
<li><code>splice</code>可以删除元素、替换元素、插入元素（功能更强大）</li>
</ul>
<h3 id="concat">concat()</h3>
<p><code>concat()</code>可以连接两个或多个数组，并将新的数组返回</p>
<p>该方法不会对原数组产生影响</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr1 = [<span class="string">"孙悟空"</span>, <span class="string">"猪八戒"</span>, <span class="string">"沙悟净"</span>];</span><br><span class="line"><span class="keyword">var</span> arr2 = [<span class="string">"青毛狮子怪"</span>, <span class="string">"黄牙老象"</span>, <span class="string">"大鹏金翅雕"</span>];</span><br><span class="line"><span class="keyword">var</span> arr3 = [<span class="string">"虎力大仙"</span>, <span class="string">"鹿力大仙"</span>, <span class="string">"羊力大仙"</span>];</span><br><span class="line"><span class="keyword">var</span> arr4 = arr1.concat(arr2,arr3,<span class="string">"牛魔王"</span>,<span class="string">"铁扇公主"</span>,<span class="string">"红孩儿"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(arr1); <span class="comment">// ["孙悟空", "猪八戒", "沙悟净"]</span></span><br><span class="line"><span class="built_in">console</span>.log(arr2); <span class="comment">// ["青毛狮子怪", "黄牙老象", "大鹏金翅雕"]</span></span><br><span class="line"><span class="built_in">console</span>.log(arr3); <span class="comment">// ["虎力大仙", "鹿力大仙", "羊力大仙"]</span></span><br><span class="line"><span class="built_in">console</span>.log(arr4); <span class="comment">// ["孙悟空", "猪八戒", "沙悟净", "青毛狮子怪", "黄牙老象", "大鹏金翅雕", "虎力大仙", "鹿力大仙", "羊力大仙", "牛魔王", "铁扇公主", "红孩儿"]</span></span><br></pre></td></tr></tbody></table></figure>
<h3 id="join">join()</h3>
<p>该方法可以将数组转换为一个字符串</p>
<p>该方法不会对原数组产生影响，而是将转换后的字符串作为结果返回</p>
<p>在<code>join()</code>中可以指定一个字符串作为参数，这个字符串将会成为数组中元素的连接符</p>
<p>如果不指定连接符，则默认使用<code>,</code>作为连接符</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="string">"孙悟空"</span>, <span class="string">"猪八戒"</span>, <span class="string">"沙悟净"</span>];</span><br><span class="line"><span class="keyword">var</span> result = arr.join();</span><br><span class="line"><span class="built_in">console</span>.log(arr); <span class="comment">// ["孙悟空", "猪八戒", "沙悟净"]</span></span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// 孙悟空,猪八戒,沙悟净</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> result); <span class="comment">// string</span></span><br><span class="line"></span><br><span class="line">result = arr.join(<span class="string">""</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// 孙悟空猪八戒沙悟净</span></span><br><span class="line"></span><br><span class="line">result = arr.join(<span class="string">"@"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// 孙悟空@猪八戒@沙悟净</span></span><br></pre></td></tr></tbody></table></figure>
<h3 id="reverse">reverse()</h3>
<p>该方法用来反转数组（前边的去后边，后边的去前边）</p>
<p>该方法会直接修改原数组</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="string">"孙悟空"</span>, <span class="string">"猪八戒"</span>, <span class="string">"沙悟净"</span>];</span><br><span class="line">arr.reverse();</span><br><span class="line"><span class="built_in">console</span>.log(arr); <span class="comment">// ["沙悟净", "猪八戒", "孙悟空"]</span></span><br></pre></td></tr></tbody></table></figure>
<h3 id="sort">sort()</h3>
<p>可以用来对数组中的元素进行排序</p>
<p>也会影响原数组，默认会按照Unicode编码进行排序</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="string">'f'</span>, <span class="string">'b'</span>, <span class="string">'a'</span>, <span class="string">'h'</span>, <span class="string">'e'</span>, <span class="string">'d'</span>];</span><br><span class="line">arr.sort();</span><br><span class="line"><span class="built_in">console</span>.log(arr); <span class="comment">// ["a", "b", "d", "e", "f", "h"]</span></span><br></pre></td></tr></tbody></table></figure>
<p>即使对于纯数字的数组，使用<code>sort()</code>排序时，也会按照Unicode编码来排序</p>
<p>所以对数字进行排序时，可能会得到错误的结果</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">arr = [<span class="string">'2'</span>, <span class="string">'44'</span>, <span class="string">'9'</span>, <span class="string">'8'</span>, <span class="string">'2'</span>, <span class="string">'0'</span>];</span><br><span class="line">arr.sort();</span><br><span class="line"><span class="built_in">console</span>.log(arr); <span class="comment">// ["0", "2", "2", "44", "8", "9"]</span></span><br></pre></td></tr></tbody></table></figure>
<p>我们可以目己采指正排序的现则我们可以在<code>sort()</code>添加一个回调函数，来指定排序规则</p>
<p>回调函数中需要定义两个形参，浏览器将会分别使用数组中的元素作为实参去调用回调函数</p>
<p>使用哪个元素调用不确定，但是肯定的是在数组中a一定在b前边</p>
<p>浏览器会根据回调函数的返回值来决定元素的顺序，</p>
<ul>
<li>如果返回一个大于0的值，则元素会交换位置</li>
<li>如果返回一个小于等于0的值，则元素位置不变</li>
</ul>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">arr = [<span class="number">2</span>, <span class="number">44</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">2</span>, <span class="number">0</span>, <span class="number">6</span>];</span><br><span class="line">arr.sort(<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>{</span><br><span class="line">    <span class="keyword">if</span>(a &gt; b){</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    } <span class="keyword">else</span> {</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    }</span><br><span class="line">});</span><br><span class="line"><span class="built_in">console</span>.log(arr); <span class="comment">// [0, 2, 2, 6, 8, 9, 44]</span></span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>如果需要升序排列，则返回<code>a - b</code></li>
<li>如果需要降序排列，则返回<code>b - a</code></li>
</ul>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">arr.sort(<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>{</span><br><span class="line">    <span class="comment">// 升序排列</span></span><br><span class="line">    <span class="keyword">return</span> a - b;</span><br><span class="line">});</span><br><span class="line"><span class="built_in">console</span>.log(arr); <span class="comment">// [0, 2, 2, 6, 8, 9, 44]</span></span><br><span class="line">arr.sort(<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>{</span><br><span class="line">    <span class="comment">// 降序排列</span></span><br><span class="line">    <span class="keyword">return</span> b - a;</span><br><span class="line">});</span><br><span class="line"><span class="built_in">console</span>.log(arr); <span class="comment">// [44, 9, 8, 6, 2, 2, 0]</span></span><br></pre></td></tr></tbody></table></figure>
<p><strong>小结</strong></p>
<ul>
<li>会对原数组产生影响的方法：<code>push</code>、<code>pop</code>、<code>shift</code>、<code>unshift</code>、<code>splice</code>、<code>reverse</code>、<code>sort</code></li>
<li>不会对原数组产生影响的方法：<code>slice</code>、<code>concat</code>、<code>join</code></li>
<li>添加元素的方法：<code>push</code>、<code>unshift</code>、<code>splice</code></li>
<li>删除元素的方法：<code>pop</code>、<code>shift</code>、<code>splice</code></li>
<li>替换元素的方法：<code>splice</code></li>
<li>连接元素的方法：<code>concat</code>、<code>join</code></li>
<li>排序方法：<code>reverse</code>、<code>sort</code></li>
</ul>
<h2 id="5、数组遍历">5、数组遍历</h2>
<h3 id="普通for循环">普通for循环</h3>
<p>所谓的遍历数组，就是将数组中所有的元素都取出来</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="string">"孙悟空"</span>, <span class="string">"猪八戒"</span>, <span class="string">"沙悟净"</span>, <span class="string">"白龙马"</span>];</span><br><span class="line"><span class="comment">// 所谓的遍历数组，就是将数组中所有的元素都取出来</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;arr.length;i++){</span><br><span class="line">    <span class="built_in">console</span>.log(arr[i]);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong>练习</strong></p>
<p>1、准备工作</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义Person构造函数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name, age</span>)</span>{</span><br><span class="line">    <span class="built_in">this</span>.name = name;</span><br><span class="line">    <span class="built_in">this</span>.age = age;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建Person对象</span></span><br><span class="line"><span class="keyword">var</span> per1 = <span class="keyword">new</span> Person(<span class="string">"孙悟空"</span>, <span class="number">18</span>);</span><br><span class="line"><span class="keyword">var</span> per2 = <span class="keyword">new</span> Person(<span class="string">"猪八戒"</span>, <span class="number">28</span>);</span><br><span class="line"><span class="keyword">var</span> per3 = <span class="keyword">new</span> Person(<span class="string">"红孩儿"</span>, <span class="number">8</span>);</span><br><span class="line"><span class="keyword">var</span> per4 = <span class="keyword">new</span> Person(<span class="string">"蜘蛛精"</span>, <span class="number">16</span>);</span><br><span class="line"><span class="keyword">var</span> per5 = <span class="keyword">new</span> Person(<span class="string">"二郎神"</span>, <span class="number">38</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 将这些person对象放入到一个数组中</span></span><br><span class="line"><span class="keyword">var</span> perArr = [per1, per2, per3, per4, per5];</span><br><span class="line"><span class="built_in">console</span>.log(perArr);</span><br><span class="line"><span class="comment">// 0: Person {name: "孙悟空", age: 18}</span></span><br><span class="line"><span class="comment">// 1: Person {name: "猪八戒", age: 28}</span></span><br><span class="line"><span class="comment">// 2: Person {name: "红孩儿", age: 8}</span></span><br><span class="line"><span class="comment">// 3: Person {name: "蜘蛛精", age: 16}</span></span><br><span class="line"><span class="comment">// 4: Person {name: "二郎神", age: 38}</span></span><br></pre></td></tr></tbody></table></figure>
<p>2、创建一个函数，可以将perArr中的满18岁的Person提取出来，然后封装到一个新的数组中并返回</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getAdult</span>(<span class="params">perArr</span>)</span>{</span><br><span class="line">    <span class="comment">// 创建一个新的数组</span></span><br><span class="line">    <span class="keyword">var</span> resultArr = [];</span><br><span class="line">    <span class="keyword">var</span> person;</span><br><span class="line">    <span class="comment">// 遍历arr，获取arr中Person对象</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;perArr.length;i++){</span><br><span class="line">        person = perArr[i];</span><br><span class="line">        <span class="comment">// 判断Person对象的age是否大于等于18</span></span><br><span class="line">        <span class="keyword">if</span>(person.age &gt;= <span class="number">18</span>){</span><br><span class="line">            <span class="comment">// 如果大于等于18，则将这个对象添加到newArr中</span></span><br><span class="line">            resultArr.push(person);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="comment">// 将数组返回</span></span><br><span class="line">    <span class="keyword">return</span> resultArr;</span><br><span class="line">}</span><br><span class="line"><span class="keyword">var</span> adult = getAdult(perArr);</span><br><span class="line"><span class="built_in">console</span>.log(adult);</span><br><span class="line"><span class="comment">// 0: Person {name: "孙悟空", age: 18}</span></span><br><span class="line"><span class="comment">// 1: Person {name: "猪八戒", age: 28}</span></span><br><span class="line"><span class="comment">// 2: Person {name: "二郎神", age: 38}</span></span><br></pre></td></tr></tbody></table></figure>
<h3 id="forEach方法">forEach方法</h3>
<p>一般我们都是使用<code>for</code>循环去遍历数组，JS中还为我们提供了一个方法，用来遍历数组<code>forEach()</code></p>
<p><strong>兼容性</strong></p>
<p>这个方法只支持IE8以上的浏览器，IE8及以下的浏览器均不支持该方法</p>
<p>所以如果需要兼容IE8，则不要使用<code>forEach</code>，还是使用<code>for</code>循环来遍历</p>
<p><strong>使用</strong></p>
<p>forEach() 方法需要一个函数作为参数</p>
<p>像这种函数，由我们创建但是不由我们调用的，我们称为<strong>回调函数</strong></p>
<p>数组中有几个元素，函数就会执行几次，每次执行时，浏览器会将遍历到的元素</p>
<p>以实参的形式传递进来，我们可以来定义形参，来读取这些内容</p>
<p><strong>参数</strong></p>
<p>浏览器会在回调函数中传递三个参数：</p>
<ul>
<li>第一个参数，就是当前正在遍历的元素</li>
<li>第二个参数，就是当前正在遍历的元素的索引</li>
<li>第三个参数，就是正在遍历的数组</li>
</ul>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">arr.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">value, index, obj</span>)</span>{</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"value = "</span> + value);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"index = "</span> + index);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"obj = "</span> + obj);</span><br><span class="line">});</span><br></pre></td></tr></tbody></table></figure>
<h2 id="练习">练习</h2>
<h3 id="数组去重">数组去重</h3>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建一个数组</span></span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">2</span>,<span class="number">5</span>];</span><br><span class="line"><span class="comment">// 去除数组中重复的数字</span></span><br><span class="line"><span class="comment">// 获取数组中的每一个元素</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;arr.length;i++){</span><br><span class="line">    <span class="comment">// 获取当前元素后的所有元素</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> j=i+<span class="number">1</span>;j&lt;arr.length;j++){</span><br><span class="line">        <span class="comment">// 判断两个元素的值是否相等</span></span><br><span class="line">        <span class="keyword">if</span>(arr[i] == arr[j]){</span><br><span class="line">            <span class="comment">// 如果相等则证明出现了重复的元素，则删除j对应的元素</span></span><br><span class="line">            <span class="comment">// arr.splice(j, 1);</span></span><br><span class="line">            <span class="comment">// 当删除了当前j所在的元素以后，后边的元素会自动补位</span></span><br><span class="line">            <span class="comment">// 此时将不会再比较这个元素，需要再比较一次j所在位置的元素</span></span><br><span class="line">            <span class="comment">// j--;</span></span><br><span class="line">            arr.splice(j--, <span class="number">1</span>);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"><span class="built_in">console</span>.log(arr);</span><br></pre></td></tr></tbody></table></figure>
<h1 id="call、apply和argument">call、apply和argument</h1>
<h2 id="call-和apply">call()和apply()</h2>
<p>这两个方法都是函数对象的方法，需要通过函数对象来调用</p>
<p>当对函数调用<code> call()</code>和<code>apply()</code>都会调用函数执行</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = {</span><br><span class="line">    name: <span class="string">"obj"</span></span><br><span class="line">};</span><br><span class="line"><span class="keyword">var</span> obj2 = {</span><br><span class="line">    name:<span class="string">"obj2"</span></span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun</span>(<span class="params"></span>)</span>{</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.name);</span><br><span class="line">}</span><br><span class="line">fun.call(obj); <span class="comment">// obj</span></span><br><span class="line">fun.call(obj2); <span class="comment">// obj2</span></span><br></pre></td></tr></tbody></table></figure>
<p>在调用<code>call()</code>和<code>apply()</code>可以将一个对象指定为第一个参数此时这个对象将会成为函数执行时的<code>this</code></p>
<ul>
<li><code>call()</code>方法可以将实参在对象之后依次传递</li>
<li><code>apply()</code>方法需要将实参封装到一个数组中统一传递</li>
</ul>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun</span>(<span class="params">a, b</span>)</span>{</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"a = "</span> + a + <span class="string">", b = "</span> + b);</span><br><span class="line">}</span><br><span class="line">fun.call(obj, <span class="number">2</span>, <span class="number">3</span>); <span class="comment">// a = 2, b = 3</span></span><br><span class="line">fun.apply(obj, [<span class="number">2</span>, <span class="number">3</span>]); <span class="comment">// a = 2, b = 3</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="this的情况">this的情况</h2>
<ol>
<li>以函数的形式调用时，<code>this</code>永远都是<code>window</code></li>
<li>以方法的形式调用时，<code>this</code>是调用方法的对象</li>
<li>以构造函数的形式调用时，<code>this</code>是新创建的那个对象</li>
<li>使用<code>call</code>和<code>apply</code>调用时，<code>this</code>是指定的那个对象</li>
</ol>
<h2 id="argument">argument</h2>
<p>在调用函数时，浏览器每次都会传递进两个隐含的参数：</p>
<ul>
<li>函数的上下文对象<code>this</code></li>
<li>封装实参的对象<code>arguments</code></li>
</ul>
<p><code>arguments</code>是一个<strong>类数组对象</strong>（并非数组），可以通过索引来操作数据，也可以获取长度</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun1</span>(<span class="params"></span>)</span>{</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">arguments</span> <span class="keyword">instanceof</span> <span class="built_in">Array</span>); <span class="comment">// false</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">Array</span>.isArray(<span class="built_in">arguments</span>));   <span class="comment">// false</span></span><br><span class="line">}</span><br><span class="line">fun1();</span><br></pre></td></tr></tbody></table></figure>
<p>在调用函数时，我们所传递的实参都会在<code>arguments</code>中保存</p>
<p>我们即使不定义形参，也可以通过<code>arguments</code>来使用实参，只不过比较麻烦</p>
<ul>
<li><code>arguments[0]</code>表示第一个实参</li>
<li><code>arguments[1]</code>表示第二个实参</li>
</ul>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun2</span>(<span class="params">a,b,c</span>)</span>{</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"arguments.length = "</span> + <span class="built_in">arguments</span>.length + <span class="string">", arguments[0] = "</span> + <span class="built_in">arguments</span>[<span class="number">0</span>]); </span><br><span class="line">}</span><br><span class="line">fun2(<span class="string">"hello"</span>); <span class="comment">// arguments.length = 1, arguments[0] = hello</span></span><br><span class="line">fun2(<span class="literal">true</span>, <span class="string">"hello"</span>); <span class="comment">// arguments.length = 2, arguments[0] = true</span></span><br></pre></td></tr></tbody></table></figure>
<p>它里边有一个属性叫做<code>callee</code>，这个属性对应一个函数对象，就是当前正在执行的函数对象</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun3</span>(<span class="params"></span>)</span>{</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">arguments</span>.callee);</span><br><span class="line">    <span class="comment">// function fun3(){</span></span><br><span class="line">    <span class="comment">//     console.log(arguments.callee);</span></span><br><span class="line">    <span class="comment">// }</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">arguments</span>.callee == fun3); <span class="comment">// true</span></span><br><span class="line">}</span><br><span class="line">fun3();</span><br></pre></td></tr></tbody></table></figure>
<h1 id="Date和Math">Date和Math</h1>
<h2 id="1、Date">1、Date</h2>
<p>在JS中使用<code>Date</code>对象来表示一个时间</p>
<h3 id="创建一个时间对象">创建一个时间对象</h3>
<p>如果直接使用构造函数创建一个<code>Date</code>对象，则会封装为当前代码执行的时间</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建一个Date对象</span></span><br><span class="line"><span class="comment">// 如果直接使用构造函数创建一个Date对象，则会封装为当前代码执行的时间</span></span><br><span class="line"><span class="keyword">var</span> d = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line"><span class="built_in">console</span>.log(d); <span class="comment">// Fri Jul 30 2021 21:51:37 GMT+0800 (中国标准时间)</span></span><br></pre></td></tr></tbody></table></figure>
<h3 id="创建一个指定的时间对象">创建一个指定的时间对象</h3>
<p>需要在构造函数中传递一个表示时间的字符串作为参数</p>
<p>日期的格式：<code>月/日/年 时:分:秒</code></p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">d = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">"08/01/2021 12:34:56"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(d); <span class="comment">// Sun Aug 01 2021 12:34:56 GMT+0800 (中国标准时间)</span></span><br><span class="line">d = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">"08/01/21 12:34:56"</span>); <span class="comment">// 为了避免在不同浏览器中产生歧义，尽量指定完整年份</span></span><br><span class="line"><span class="built_in">console</span>.log(d); <span class="comment">// IE：Mon Aug 01 1921 12:34:56 GMT+0800 (中国标准时间)</span></span><br></pre></td></tr></tbody></table></figure>
<h3 id="Date方法">Date方法</h3>
<p><img src="https://i.loli.net/2021/07/30/zKbtL3HJSXDjqmW.png" alt="image-20210730220407701"></p>
<h4 id="getDate">getDate()</h4>
<p>获取当前日期对象是几日</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> date = d.getDate();</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"date = "</span> + date); <span class="comment">// date = 30</span></span><br></pre></td></tr></tbody></table></figure>
<h4 id="getDay">getDay()</h4>
<p>获取当前日期对象时周几，会返回一个<strong>0-6</strong>的值</p>
<ul>
<li>0 表示 周日</li>
<li>1 表示 周一</li>
<li>…</li>
<li>6 表示 周六</li>
</ul>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> day = d.getDay();</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"day = "</span> + day); <span class="comment">// day = 5</span></span><br></pre></td></tr></tbody></table></figure>
<h4 id="getMonth">getMonth()</h4>
<p>获取当前时间对象的月份-会返回一个<strong>0-11</strong>的值</p>
<ul>
<li>0 表示 1月</li>
<li>1 表示 2月</li>
<li>…</li>
<li>11 表示 12月</li>
</ul>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> month = d.getMonth();</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"month = "</span> + month); <span class="comment">// month = 6</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"month = "</span> + (month + <span class="number">1</span>)); <span class="comment">// month = 7</span></span><br></pre></td></tr></tbody></table></figure>
<h4 id="getFullYear">getFullYear()</h4>
<p>获取当前日期对象的年份</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> year = d.getFullYear();</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"year = "</span> + year); <span class="comment">// year = 2021</span></span><br></pre></td></tr></tbody></table></figure>
<h4 id="getTime">getTime()</h4>
<p>获取当前日期对象的<strong>时间戳</strong></p>
<p>时间戳，指的是从格林威治标准时间的<strong>1970年1月1日0时0分0秒</strong>到当前日期所花费的毫秒数</p>
<p>计算机底层在保存时间时使用都是时间戳</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 示例：表示从1970年1月1日0时0分0秒到2021年22时25分26秒所花费的毫秒数</span></span><br><span class="line"><span class="keyword">var</span> time = d.getTime();</span><br><span class="line"><span class="built_in">console</span>.log(d); <span class="comment">// Fri Jul 30 2021 22:25:26 GMT+0800 (中国标准时间)</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"time = "</span> + time); <span class="comment">// time = 1627655017435</span></span><br></pre></td></tr></tbody></table></figure>
<p>既然时间是从格林威治标准时间开始计算的，是不是就意味着<strong>1970年1月1日0时0分0秒</strong>的时间戳就是0呢？</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> d2 = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">"01/01/1970 00:00:00"</span>);</span><br><span class="line"><span class="keyword">var</span> time = d2.getTime();</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"time = "</span> + time); <span class="comment">// time = -28800000</span></span><br></pre></td></tr></tbody></table></figure>
<p>我们发现事实并非如此，为什么呢？</p>
<p>这是因为我们的系统是中文系统，采用的是东八区时间，如何验证呢？</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">"距离格林威治时间还有"</span> + -time/<span class="number">1000</span>/<span class="number">60</span>/<span class="number">60</span> + <span class="string">"小时"</span>); <span class="comment">// 距离格林威治时间还有8小时</span></span><br></pre></td></tr></tbody></table></figure>
<p><strong>获取当前的时间戳</strong></p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> currentTime = <span class="built_in">Date</span>.now();</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"currentTime = "</span> + currentTime); <span class="comment">// currentTime = 1627655852125</span></span><br></pre></td></tr></tbody></table></figure>
<h4 id="其他">其他</h4>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> hour = d.getHours();</span><br><span class="line"><span class="keyword">var</span> minute = d.getMinutes();</span><br><span class="line"><span class="keyword">var</span> second = d.getSeconds();</span><br><span class="line"><span class="keyword">var</span> mmilliSecond = d.getMilliseconds();</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"hour = "</span> + hour); <span class="comment">// hour = 22</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"minute = "</span> + minute); <span class="comment">// minute = 21</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"second = "</span> + second); <span class="comment">// second = 11</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"mmilliSecond = "</span> + mmilliSecond); <span class="comment">// mmilliSecond = 149</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="2、Math">2、Math</h2>
<p><code>Math</code>和其他的对象不同，不是一个构造函数</p>
<p>属于一个工具类，不用创建对象，里边封装了数学运算相关的属性和方法</p>
<h3 id="Math对象属性">Math对象属性</h3>
<p><img src="https://i.loli.net/2021/07/30/MZFsPXyDCRNdtfo.png" alt="image-20210730224441680"></p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.E); <span class="comment">// 2.718281828459045</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.PI); <span class="comment">// 3.141592653589793</span></span><br></pre></td></tr></tbody></table></figure>
<h3 id="Math对象方法">Math对象方法</h3>
<p><img src="https://i.loli.net/2021/07/30/vBxrAkmeQ2tGzKf.png" alt="image-20210730224743982"></p>
<h4 id="Math-abs">Math.abs()</h4>
<p>可以用来计算一个数的绝对值</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.abs(-<span class="number">1</span>)); <span class="comment">// 1</span></span><br></pre></td></tr></tbody></table></figure>
<h4 id="Math-ceil">Math.ceil()</h4>
<p>可以对一个数进行向上取整，小数位只有有值就自动进1</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.ceil(<span class="number">1.001</span>)); <span class="comment">// 2</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.ceil(<span class="number">1.0</span>));   <span class="comment">// 1</span></span><br></pre></td></tr></tbody></table></figure>
<h4 id="Math-floor">Math.floor()</h4>
<p>可以对一个数进行向下取整，小数部分会被舍掉</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.floor(<span class="number">1.999999</span>)); <span class="comment">// 1</span></span><br></pre></td></tr></tbody></table></figure>
<h4 id="Math-round">Math.round()</h4>
<p>可以对一个数进行四舍五入取整</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.round(<span class="number">1.4</span>)); <span class="comment">// 1</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.round(<span class="number">1.5</span>)); <span class="comment">// 2</span></span><br></pre></td></tr></tbody></table></figure>
<h4 id="Math-random">Math.random()</h4>
<p>可以用来生成一个<strong>0-1</strong>之间的随机数（开区间范围：<code>(0, 1)</code>）</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.random()); <span class="comment">// 0.9192011449766921</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.random()); <span class="comment">// 0.736135736878959</span></span><br></pre></td></tr></tbody></table></figure>
<p>生成一个<strong>0-10</strong>之间的随机数：<code>Math.round(Math.random() * 10)</code></p>
<p>生成一个<strong>0-X</strong>之间的随机数：<code>Math.round(Math.random() * X)</code></p>
<p>生成一个<strong>1-10</strong>之间的随机数：<code>Math.round(Math.random() * 9 + 1)</code></p>
<p>生成一个<strong>X-Y</strong>之间的随机数：<code>Math.round(Math.random() * (Y - X) + X)</code></p>
<h4 id="Math-max">Math.max()</h4>
<p>可以获取多个数中的最大值</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.max(<span class="number">3</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">33</span>)); <span class="comment">// 33</span></span><br></pre></td></tr></tbody></table></figure>
<h4 id="Math-min">Math.min()</h4>
<p>可以获取多个数中的最小值</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.min(<span class="number">3</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">33</span>)); <span class="comment">// 3</span></span><br></pre></td></tr></tbody></table></figure>
<h4 id="Math-pow">Math.pow()</h4>
<p><code>Math.pow(x, y)</code>返回x的y次幂</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.pow(<span class="number">2</span>,<span class="number">10</span>)); <span class="comment">// 1024</span></span><br></pre></td></tr></tbody></table></figure>
<h4 id="Math-sqrt">Math.sqrt()</h4>
<p>用于对一个数进行开方运算</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.sqrt(<span class="number">81</span>)); <span class="comment">// 9</span></span><br></pre></td></tr></tbody></table></figure>
<h1 id="包装类和字符串">包装类和字符串</h1>
<h2 id="1、三大包装类">1、三大包装类</h2>
<p>基本数据类型：<code>String</code>、<code>Number</code>、<code>Boolean</code>、<code>Null</code>、<code>Undefined</code></p>
<p>引用数据类型：<code>Object</code></p>
<p>在JS中为我们提供了三大包装类，通过这三个包装类可以将基本数据类型的数据转换为对象</p>
<ul>
<li><code>String()</code>可以将基本数据类型字符串转换为<code>String</code>对象</li>
<li><code>Number()</code>可以将基本数据类型的数字转换为<code>Number</code>对象</li>
<li><code>Boolean()</code>可以将基本数据类型的布尔值转换为<code>Boolean</code>对象</li>
</ul>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str1 = <span class="string">"hello"</span>;</span><br><span class="line"><span class="keyword">var</span> str2 = <span class="keyword">new</span> <span class="built_in">String</span>();</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> str1); <span class="comment">// string</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> str2); <span class="comment">// object</span></span><br><span class="line"><span class="keyword">var</span> num1 = <span class="number">3</span>;</span><br><span class="line"><span class="keyword">var</span> num2 = <span class="keyword">new</span> <span class="built_in">Number</span>(<span class="number">3</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> num1); <span class="comment">// string</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> num2); <span class="comment">// object</span></span><br><span class="line"><span class="keyword">var</span> bol1 = <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">var</span> bol2 = <span class="keyword">new</span> <span class="built_in">Boolean</span>(<span class="literal">true</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> bol1); <span class="comment">// string</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> bol2); <span class="comment">// object</span></span><br></pre></td></tr></tbody></table></figure>
<p>但是注意：我们在实际应用中不会使用基本数据类型的对象，如果使用基本数据类型的对象，在做一些比较时可能会带来一些不可预期的结果</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> n1 = <span class="keyword">new</span> <span class="built_in">Number</span>(<span class="number">1</span>);</span><br><span class="line"><span class="keyword">var</span> n2 = <span class="keyword">new</span> <span class="built_in">Number</span>(<span class="number">1</span>);</span><br><span class="line"><span class="built_in">console</span>.log(n1 == n2); <span class="comment">// false</span></span><br><span class="line"><span class="keyword">var</span> b = <span class="keyword">new</span> <span class="built_in">Boolean</span>(<span class="literal">false</span>);</span><br><span class="line"><span class="keyword">if</span>(b){</span><br><span class="line">    <span class="built_in">console</span>.log(b); <span class="comment">// Boolean&nbsp;{false}</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p>方法和属性之能添加给对象，不能添加给基本数据类型（按照视频中的解释，是先将data临时转换为了一个包装类对象，进行了属性赋值操作；打印时又临时转换为了一个新的包装类对象，因为两次不是同一个对象，而且该对象刚刚创建，还没有任何属性和方法，所以是获取不到任何值的）</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> data = <span class="number">4</span>;</span><br><span class="line">data.hello = <span class="string">"hello"</span>;</span><br><span class="line"><span class="built_in">console</span>.log(data.hello); <span class="comment">// undefined</span></span><br></pre></td></tr></tbody></table></figure>
<p>当我们对一些基本数据类型的值去调用属性和方法时，浏览器会临时使用包装类将其转换为对象，然后在调用对象的属性和方法时，浏览器会临时使用包装类将其转换为对象，然后在调用对象的属性和方法调用完以后，在将其转换为基本数据类型</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> s = <span class="number">123</span>;</span><br><span class="line">s = s.toString();</span><br><span class="line"><span class="built_in">console</span>.log(s); <span class="comment">// 123</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> s); <span class="comment">// string</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="2、字符串方法">2、字符串方法</h2>
<p>字符串在底层是以字符数组的形式保存的：<code>["H","e","l","l","o"," ","W","o","r","l","d","."]</code></p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">"Hello World."</span>;</span><br><span class="line"><span class="built_in">console</span>.log(str[<span class="number">0</span>]); <span class="comment">// H</span></span><br><span class="line"><span class="built_in">console</span>.log(str[<span class="number">5</span>]); <span class="comment">//  </span></span><br><span class="line"><span class="built_in">console</span>.log(str[<span class="number">12</span>]); <span class="comment">// undefined</span></span><br></pre></td></tr></tbody></table></figure>
<h3 id="length属性">length属性</h3>
<p>可以用来获取字符串的长度</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(str.length); <span class="comment">// 12</span></span><br></pre></td></tr></tbody></table></figure>
<h3 id="charAt">charAt()</h3>
<p>可以返回字符串中指定位置的字符，不会对原字符串产生影响</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> result = str.charAt(<span class="number">0</span>);</span><br><span class="line"><span class="built_in">console</span>.log(str); <span class="comment">// Hello World.</span></span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// H</span></span><br></pre></td></tr></tbody></table></figure>
<h3 id="charCodeAt">charCodeAt()</h3>
<p>获取指定位置字符的字符编码（Unicode编码），不会对原字符串产生影响</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">result = str.charCodeAt(<span class="number">0</span>);</span><br><span class="line"><span class="built_in">console</span>.log(str); <span class="comment">// Hello World.</span></span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// 72</span></span><br><span class="line"><span class="keyword">var</span> str2 = <span class="string">"您好，世界。"</span>;</span><br><span class="line">result = str2.charCodeAt(<span class="number">0</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// 24744</span></span><br></pre></td></tr></tbody></table></figure>
<h3 id="String-formCharCode">String.formCharCode()</h3>
<p>可以根据字符编码去获取字符</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">result = <span class="built_in">String</span>.fromCharCode(<span class="number">72</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// H</span></span><br><span class="line">result = <span class="built_in">String</span>.fromCharCode(<span class="number">24744</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// 您</span></span><br><span class="line">result = <span class="built_in">String</span>.fromCharCode(<span class="number">0x2682</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// ⚂</span></span><br></pre></td></tr></tbody></table></figure>
<h3 id="concat-2">concat()</h3>
<p>可以用来连接两个或多个字符串，作用和<code>+</code>一样，不会对原字符串产生影响</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">result = str.concat(<span class="string">"您好"</span>,<span class="string">"世界"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(str); <span class="comment">// Hello World.</span></span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// Hello World.您好世界</span></span><br></pre></td></tr></tbody></table></figure>
<h3 id="indexof">indexof()</h3>
<p>该方法可以检索一个字符串中是否含有指定内容，不会对原字符串产生影响</p>
<ul>
<li>如果字符串中含有该内容，则返回其第一次出现的索引</li>
<li>如果没有找到指定的内容，则返回<code>-1</code></li>
</ul>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">result = str.indexOf(<span class="string">"o"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(str); <span class="comment">// Hello World.</span></span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// 4</span></span><br><span class="line">result = str.indexOf(<span class="string">"y"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// -1</span></span><br></pre></td></tr></tbody></table></figure>
<p>可以指定一个第二个参数，指定开始查找的位置</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">result = str.indexOf(<span class="string">"l"</span>,<span class="number">3</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// 3</span></span><br><span class="line">result = str.indexOf(<span class="string">"l"</span>,<span class="number">4</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// 9</span></span><br></pre></td></tr></tbody></table></figure>
<h3 id="lastIndexof">lastIndexof()</h3>
<p>该方法的用法和<code>indexOf()</code>一样，不同的是<code>indexOf</code>是从前往后找，而<code>lastIndexOf</code>是从后往前找</p>
<p>但返回的索引是按照从前往后计数的</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">result = str.lastIndexOf(<span class="string">"o"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// 7</span></span><br><span class="line">result = str.lastIndexOf(<span class="string">"l"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// 9</span></span><br></pre></td></tr></tbody></table></figure>
<p>可以指定一个第二个参数，指定开始查找的位置（不过开始位置也是从后往前数的）</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">result = str.lastIndexOf(<span class="string">"l"</span>, <span class="number">6</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// 3</span></span><br></pre></td></tr></tbody></table></figure>
<h3 id="slice-2">slice()</h3>
<p>可以从字符串中截取指定的内容，不会影响原字符串</p>
<ul>
<li>第一个参数，开始位置的索引（包括开始位置）</li>
<li>第二个参数，结束位置的索引（不包括结束位置）</li>
</ul>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">result = str.slice(<span class="number">0</span>,<span class="number">2</span>);</span><br><span class="line"><span class="built_in">console</span>.log(str); <span class="comment">// Hello World.</span></span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// He</span></span><br></pre></td></tr></tbody></table></figure>
<p>如果省略第二个参数，则会截取到后边所有的</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">result = str.slice(<span class="number">6</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// World.</span></span><br></pre></td></tr></tbody></table></figure>
<p>也可以传递一个负数作为参数，负数的话将会从后边计算</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">result = str.slice(<span class="number">6</span>,-<span class="number">1</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// World</span></span><br></pre></td></tr></tbody></table></figure>
<h3 id="substring">substring()</h3>
<p>可以用来截取一个字符串，不会影响原字符串，和<code>slice()</code>类似</p>
<ul>
<li>第一个参数，开始位置的索引（包括开始位置）</li>
<li>第二个参数，结束位置的索引（不包括结束位置）</li>
</ul>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">result = str.substring(<span class="number">0</span>,<span class="number">2</span>);</span><br><span class="line"><span class="built_in">console</span>.log(str); <span class="comment">// Hello World.</span></span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// He</span></span><br></pre></td></tr></tbody></table></figure>
<p>不同的是这个方法不能接受负值作为参数，如果传递了一个负值，则默认使用0</p>
<p>而且会自动调整参数的位置，如果第二个参数小于第一个，则自动交换</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">result = str.substring(<span class="number">1</span>,-<span class="number">1</span>); <span class="comment">// 自动调整为str.substring(0,1);</span></span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// H</span></span><br><span class="line">result = str.substring(<span class="number">1</span>,<span class="number">0</span>); <span class="comment">// 自动调整为str.substring(0,1);</span></span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// H</span></span><br></pre></td></tr></tbody></table></figure>
<h3 id="substr">substr()</h3>
<p>用来截取字符串，不会影响原字符串，不过不建议使用</p>
<p><img src="https://i.loli.net/2021/07/31/qSxbRr2dkcD7nFv.png" alt="image-20210731192139982"></p>
<ul>
<li>第一个参数，截取开始位置的索引</li>
<li>第二个参数，截取的长度</li>
</ul>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">result = str.substr(<span class="number">1</span>,<span class="number">3</span>);</span><br><span class="line"><span class="built_in">console</span>.log(str); <span class="comment">// Hello World.</span></span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// ell</span></span><br></pre></td></tr></tbody></table></figure>
<h3 id="split">split()</h3>
<p>可以将一个字符串拆分为一个数组，不会影响原字符串</p>
<p>需要一个字符串作为参数，将会根据该字符串去拆分数组</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">result = str.split(<span class="string">"o"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(str); <span class="comment">// Hello World.</span></span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// ["Hell", " W", "rld."]</span></span><br><span class="line"><span class="built_in">console</span>.log(result[<span class="number">0</span>]); <span class="comment">// Hell</span></span><br><span class="line"><span class="built_in">console</span>.log(result[<span class="number">1</span>]); <span class="comment">//  W</span></span><br><span class="line"><span class="built_in">console</span>.log(result[<span class="number">2</span>]); <span class="comment">// rld.</span></span><br></pre></td></tr></tbody></table></figure>
<p>如果传递一个空串作为参数，则会将每个字符都拆分为数组中的一个元素</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">result = str.split(<span class="string">""</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// ["H", "e", "l", "l", "o", " ", "W", "o", "r", "l", "d", "."]</span></span><br></pre></td></tr></tbody></table></figure>
<h3 id="toUpperCase">toUpperCase()</h3>
<p>将一个字符串转换为大写并返回，不会影响原字符串</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">result = str.toUpperCase();</span><br><span class="line"><span class="built_in">console</span>.log(str); <span class="comment">// Hello World.</span></span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// HELLO WORLD.</span></span><br></pre></td></tr></tbody></table></figure>
<h3 id="toLowerCase">toLowerCase()</h3>
<p>将一个字符串转换为小写并返回，不会影响原字符串</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">result = str.toLowerCase();</span><br><span class="line"><span class="built_in">console</span>.log(str); <span class="comment">// Hello World.</span></span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// hello world.</span></span><br></pre></td></tr></tbody></table></figure>
<h1 id="正则表达式">正则表达式</h1>
<p>正则表达式用于定义一些字符串的规则，计算机可以根据正则表达式，来检查一个字符串是否符合规则，获取将字符串中符合规则的内容提取出来</p>
<h2 id="1、正则对象">1、正则对象</h2>
<p>语法：<code>var 变量 = new RegExp("正则表达式", "匹配模式");</code></p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 这个正则表达式可以来检查一个字符串中是否含有a</span></span><br><span class="line"><span class="keyword">var</span> reg = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">"a"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(reg); <span class="comment">// /a/</span></span><br></pre></td></tr></tbody></table></figure>
<p>使用<code>typeof</code>检查正则对象，会返回<code>object</code></p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> reg); <span class="comment">// object</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="2、正则方法">2、正则方法</h2>
<p>正则表达式的方法：<code>test()</code></p>
<p>使用这个方法可以用来检查一个字符串是否符合正则表达式的规则，如果符合则返回<code>true</code>，否则返回<code>false</code></p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> result = reg.test(<span class="string">"abd"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// true</span></span><br><span class="line">result = reg.test(<span class="string">"hgf"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// false</span></span><br><span class="line">result = reg.test(<span class="string">"Abd"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// false</span></span><br></pre></td></tr></tbody></table></figure>
<p>在构造函数中可以传递一个匹配模式作为第二个参数，可以是</p>
<ul>
<li><code>i</code> ignoreCase，忽略大小写</li>
<li><code>g</code> global，全局匹配模式</li>
</ul>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">reg = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">"a"</span>,<span class="string">"i"</span>);</span><br><span class="line">result = reg.test(<span class="string">"Abd"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// true</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="3、正则语法">3、正则语法</h2>
<p>使用字面量来创建正则表达式，语法：<code>var 变量 = /正则表达式/匹配模式;</code></p>
<p>使用字面量的方式创建更加简单；使用构造函数创建更加灵活</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">reg = <span class="regexp">/a/i</span>;</span><br><span class="line">result = reg.test(<span class="string">"Abd"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// true</span></span><br></pre></td></tr></tbody></table></figure>
<p>使用<code>|</code>表示或者的意思</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建一个正则表达式，检查一个字符串中是否有a或b或c</span></span><br><span class="line">reg = <span class="regexp">/a|b|c/i</span>;</span><br><span class="line">result = reg.test(<span class="string">"Abcd"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// true</span></span><br><span class="line">result = reg.test(<span class="string">"bcd"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// true</span></span><br><span class="line">result = reg.test(<span class="string">"cd"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// true</span></span><br><span class="line">result = reg.test(<span class="string">"d"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// false</span></span><br></pre></td></tr></tbody></table></figure>
<p><code>[]</code>里的内容也是或的关系：<code>[abc] == a|b|c</code></p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">reg = <span class="regexp">/[abc]/i</span>;</span><br><span class="line">result = reg.test(<span class="string">"bcd"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// true</span></span><br></pre></td></tr></tbody></table></figure>
<p><code>[a-z]</code>任意小写字母</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">reg = <span class="regexp">/[a-z]/</span>;</span><br><span class="line">result = reg.test(<span class="string">"Abc"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// true</span></span><br><span class="line">result = reg.test(<span class="string">"ABC"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// false</span></span><br></pre></td></tr></tbody></table></figure>
<p><code>[A-Z]</code>任意大写字母</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">reg = <span class="regexp">/[A-Z]/</span>;</span><br><span class="line">result = reg.test(<span class="string">"abc"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// false</span></span><br><span class="line">result = reg.test(<span class="string">"ABC"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// true</span></span><br></pre></td></tr></tbody></table></figure>
<p><code>[A-z]</code>任意字母</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">reg = <span class="regexp">/[A-z]/</span>;</span><br><span class="line">result = reg.test(<span class="string">"abc"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// true</span></span><br><span class="line">result = reg.test(<span class="string">"ABC"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// true</span></span><br></pre></td></tr></tbody></table></figure>
<p><code>[0-9]</code>任意数字</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">reg = <span class="regexp">/[0-9]/</span>;</span><br><span class="line">result = reg.test(<span class="string">"123"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// true</span></span><br><span class="line">result = reg.test(<span class="string">"abc"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// false</span></span><br></pre></td></tr></tbody></table></figure>
<p>**练习：**检查一个字符串中是否含有abc或adc或aec</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">reg = <span class="regexp">/a[bde]c/</span>;</span><br><span class="line">result = reg.test(<span class="string">"adc"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// true</span></span><br><span class="line">result = reg.test(<span class="string">"addc"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// false</span></span><br></pre></td></tr></tbody></table></figure>
<p><code>[^ ]</code>除了</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">reg = <span class="regexp">/[^a]/</span>; <span class="comment">// 除了a以外的字符</span></span><br><span class="line">result = reg.test(<span class="string">"a"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// false</span></span><br><span class="line">result = reg.test(<span class="string">"b"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// true</span></span><br></pre></td></tr></tbody></table></figure>
<p><code>[^0-9]</code>除了数字</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">reg = <span class="regexp">/[^0-9]/</span>;</span><br><span class="line">result = reg.test(<span class="string">"123"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// false</span></span><br><span class="line">result = reg.test(<span class="string">"abc"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// true</span></span><br></pre></td></tr></tbody></table></figure>
<p><strong>小结</strong></p>
<table>
<thead>
<tr>
<th style="text-align:left">表达式</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>[abc]</code></td>
<td style="text-align:left">查找方括号之间的任何字符</td>
</tr>
<tr>
<td style="text-align:left"><code>[^abc]</code></td>
<td style="text-align:left">查找任何不在方括号之间的字符</td>
</tr>
<tr>
<td style="text-align:left"><code>[0-9]</code></td>
<td style="text-align:left">查找任何从0至9的数字</td>
</tr>
<tr>
<td style="text-align:left"><code>[a-z]</code></td>
<td style="text-align:left">查找任何从小写a到小写z的字符</td>
</tr>
<tr>
<td style="text-align:left"><code>[A-Z]</code></td>
<td style="text-align:left">查找任何从大写A到大写Z的字符</td>
</tr>
<tr>
<td style="text-align:left"><code>[A-z]</code></td>
<td style="text-align:left">查找任何从大写A到小写z的字符</td>
</tr>
<tr>
<td style="text-align:left"><code>[ojbk]</code></td>
<td style="text-align:left">查找给定集合内的任何字符</td>
</tr>
<tr>
<td style="text-align:left"><code>[^ojbk]</code></td>
<td style="text-align:left">查找给定集合外的任何字符</td>
</tr>
<tr>
<td style="text-align:left"><code>(ed|blue|green)</code></td>
<td style="text-align:left">查找任何指定的选项</td>
</tr>
</tbody>
</table>
<h3 id="量词">量词</h3>
<p><img src="https://i.loli.net/2021/08/01/NHQP4FVk1ATS3vC.png" alt="image-20210801094306628"></p>
<p>通过量词可以设置一个内容出现的次数</p>
<p>量词只对它前边的一个内容起作用</p>
<ul>
<li>
<p><code>{n}</code>正好出现n次</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建一个正则表达式检查一个字符串中是否含有aaa</span></span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/a{3}/</span>;</span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"aaabc"</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="comment">// 创建一个正则表达式检查一个字符串中是否含有ababab</span></span><br><span class="line">reg = <span class="regexp">/ab{3}/</span>;</span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"ababab"</span>)); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"aaabbb"</span>)); <span class="comment">// true</span></span><br><span class="line">reg = <span class="regexp">/(ab){3}/</span>;</span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"ababab"</span>)); <span class="comment">// true</span></span><br></pre></td></tr></tbody></table></figure>
</li>
<li>
<p><code>{m,n}</code>出现m-n次</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">reg = <span class="regexp">/ab{3,4}c/</span>;</span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"abbc"</span>)); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"abbbc"</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"abbbbc"</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"abbbbbc"</span>)); <span class="comment">// false</span></span><br></pre></td></tr></tbody></table></figure>
</li>
<li>
<p><code>{m,}</code> 出现m次以上</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">reg = <span class="regexp">/ab{3,}c/</span>;</span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"abbbc"</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"abbbbbc"</span>)); <span class="comment">// true</span></span><br></pre></td></tr></tbody></table></figure>
</li>
<li>
<p><code>+</code>至少一个，相当于<code>{1,}</code></p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">reg = <span class="regexp">/ab+c/</span>;</span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"ac"</span>)); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"abc"</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"abbbc"</span>)); <span class="comment">// true</span></span><br></pre></td></tr></tbody></table></figure>
</li>
<li>
<p><code>*</code>0个或多个，相当于<code>{0,}</code></p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">reg = <span class="regexp">/ab*c/</span>;</span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"ac"</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"abbc"</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"abbbc"</span>)); <span class="comment">// true</span></span><br></pre></td></tr></tbody></table></figure>
</li>
<li>
<p><code>?</code>0个或1个，相当于<code>{0,1}</code></p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">reg = <span class="regexp">/ab?c/</span>;</span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"ac"</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"abc"</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"abbc"</span>)); <span class="comment">// false</span></span><br></pre></td></tr></tbody></table></figure>
</li>
<li>
<p><code>^</code>表示开头</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 检查一个字符串中是否以a开头</span></span><br><span class="line">reg = <span class="regexp">/^a/</span>;</span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"ac"</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"bac"</span>)); <span class="comment">// false</span></span><br></pre></td></tr></tbody></table></figure>
</li>
<li>
<p><code>$</code>表示结尾</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 检查一个字符串中是否以a结尾</span></span><br><span class="line">reg = <span class="regexp">/a$/</span>;</span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"abac"</span>)); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"abaca"</span>)); <span class="comment">// true</span></span><br></pre></td></tr></tbody></table></figure>
</li>
<li>
<p>如果在正则表达式中同时使用<code>^</code>、<code>$</code>，要求字符串必须完全符合正则表达式</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 以a开头，并立即以a结尾</span></span><br><span class="line">reg = <span class="regexp">/^a$/</span>;</span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"aba"</span>)); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"a"</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="comment">// 以a开头，或者以a结尾</span></span><br><span class="line">reg = <span class="regexp">/^a|a$/</span>;</span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"aba"</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"a"</span>)); <span class="comment">// true</span></span><br></pre></td></tr></tbody></table></figure>
</li>
</ul>
<p>**练习：**创建一个正则表达式，用来检查一个字符串是否是一个合法的手机号</p>
<ul>
<li>第二位：以1开头</li>
<li>第二位：3-9任意数字</li>
<li>三位以后：任意数字9个</li>
</ul>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">reg = <span class="regexp">/^1[3-9][0-9]{9}$/</span>;</span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"a14567876543"</span>)); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="number">1456787</span>)); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="number">12567876543</span>)); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="number">13567876543</span>)); <span class="comment">// true</span></span><br></pre></td></tr></tbody></table></figure>
<p><strong>小结</strong></p>
<table>
<thead>
<tr>
<th style="text-align:left">量词</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>n+</code></td>
<td style="text-align:left">匹配任何包含至少一个n的字符串</td>
</tr>
<tr>
<td style="text-align:left"><code>n*</code></td>
<td style="text-align:left">匹配任何包含零个或多个n的字符串</td>
</tr>
<tr>
<td style="text-align:left"><code>n?</code></td>
<td style="text-align:left">匹配任何包含零个或一个n的字符串</td>
</tr>
<tr>
<td style="text-align:left"><code>n{X}</code></td>
<td style="text-align:left">匹配包含X个n的序列的字符串</td>
</tr>
<tr>
<td style="text-align:left"><code>n{X,Y}</code></td>
<td style="text-align:left">匹配包含X或Y个n的序列的字符串</td>
</tr>
<tr>
<td style="text-align:left"><code>n{X,}</code></td>
<td style="text-align:left">匹配包含至少X个n的序列的字符串</td>
</tr>
<tr>
<td style="text-align:left"><code>n$</code></td>
<td style="text-align:left">匹配任何结尾为n的字符串</td>
</tr>
<tr>
<td style="text-align:left"><code>^n</code></td>
<td style="text-align:left">匹配任何开头为n的字符串</td>
</tr>
</tbody>
</table>
<h3 id="元字符">元字符</h3>
<p><img src="https://i.loli.net/2021/08/01/buwlvEJMs42pdCa.png" alt="image-20210801104551084"></p>
<p>检查一个字符串中是否含有<code>.</code></p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/./</span>;</span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"ab"</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"a.b"</span>)); <span class="comment">// true</span></span><br></pre></td></tr></tbody></table></figure>
<p><code>.</code>表示任意字符</p>
<p>在正则表达式中使用<code>\</code>作为转义字符</p>
<ul>
<li>
<p><code>\.</code>来表示<code>.</code></p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">reg = <span class="regexp">/\./</span>;</span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"ab"</span>)); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"a.b"</span>)); <span class="comment">// true</span></span><br></pre></td></tr></tbody></table></figure>
</li>
<li>
<p><code>\\</code>表示<code>\</code></p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">reg = <span class="regexp">/\\/</span>;</span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"ab"</span>)); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"a\")); // Uncaught SyntaxError: Invalid or unexpected token</span></span><br><span class="line"><span class="string">console.log(reg.test("</span>a\b<span class="string">")); // false</span></span><br><span class="line"><span class="string">console.log(reg.test("</span>a\\b<span class="string">")); // true</span></span><br></pre></td></tr></tbody></table></figure>
</li>
</ul>
<p>**注意：**使用构造函数时，由于它的参数是一个字符串，而<code>\</code>是字符串中转义字符</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">reg = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">"\."</span>); <span class="comment">// 相当于 reg = /./，即包含任意字符</span></span><br><span class="line"><span class="built_in">console</span>.log(reg); <span class="comment">//  /./</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"ab"</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"a\b"</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"a\\b"</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"a.b"</span>)); <span class="comment">// true</span></span><br></pre></td></tr></tbody></table></figure>
<p>如果要使用<code>\</code>，则需要使用<code>\\</code>来代替</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">reg = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">"\\."</span>); <span class="comment">// 相当于 reg = /\./，即包含`.`</span></span><br><span class="line"><span class="built_in">console</span>.log(reg); <span class="comment">//  /\./</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"ab"</span>)); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"a\b"</span>)); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"a\\b"</span>)); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"a.b"</span>)); <span class="comment">// true</span></span><br></pre></td></tr></tbody></table></figure>
<p>如果要使用<code>\\</code>，则需要使用<code>\\\\</code>来代替</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">reg = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">"\\\\."</span>); <span class="comment">// 相当于 reg = /\\./，即包含`\任意字符`</span></span><br><span class="line"><span class="built_in">console</span>.log(reg); <span class="comment">//  /\\./</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"ab"</span>)); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"a\b"</span>)); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"a\\b"</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"a.b"</span>)); <span class="comment">// false</span></span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>
<p><code>\w	</code>任意字母、数字、<code>_</code>，相当于<code>[A-z0-9_]</code></p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">reg = <span class="regexp">/\w/</span>;</span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"abc"</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="number">123</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"_"</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"!@#$%^&amp;*()"</span>)); <span class="comment">// false</span></span><br></pre></td></tr></tbody></table></figure>
</li>
<li>
<p><code>\W	</code>除了字母、数字、<code>_</code>，相当于<code>[^A-z0-9_]</code></p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">reg = <span class="regexp">/\W/</span>;</span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"abc"</span>)); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="number">123</span>)); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"_"</span>)); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"!@#$%^&amp;*()"</span>)); <span class="comment">// true</span></span><br></pre></td></tr></tbody></table></figure>
</li>
<li>
<p><code>\d	</code>任意数字，相当于<code>[0-9]</code></p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">reg = <span class="regexp">/\d/</span>;</span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"abc"</span>)); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="number">123</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"_"</span>)); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"!@#$%^&amp;*()"</span>)); <span class="comment">// false</span></span><br></pre></td></tr></tbody></table></figure>
</li>
<li>
<p><code>\D	</code>除了数字，相当于<code>[^0-9]</code></p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">reg = <span class="regexp">/\D/</span>;</span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"abc"</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="number">123</span>)); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"_"</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"!@#$%^&amp;*()"</span>)); <span class="comment">// true</span></span><br></pre></td></tr></tbody></table></figure>
</li>
<li>
<p><code>\s	</code>空格</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">reg = <span class="regexp">/\s/</span>;</span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"abc"</span>)); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="number">123</span>)); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"_"</span>)); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"!@#$%^&amp;*()"</span>)); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"d35@ d"</span>)); <span class="comment">// true</span></span><br></pre></td></tr></tbody></table></figure>
</li>
<li>
<p><code>\S	</code>除了空格</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">reg = <span class="regexp">/\S/</span>;</span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"abc"</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="number">123</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"_"</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"!@#$%^&amp;*()"</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">" "</span>)); <span class="comment">// false</span></span><br></pre></td></tr></tbody></table></figure>
</li>
<li>
<p><code>\b	</code>单词边界</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">reg = <span class="regexp">/child/</span>;</span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"child"</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"hello children"</span>)); <span class="comment">// true</span></span><br><span class="line">reg = <span class="regexp">/\bchild\b/</span>;</span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"child"</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"hello children"</span>)); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"hello child ren"</span>)); <span class="comment">// true</span></span><br></pre></td></tr></tbody></table></figure>
</li>
<li>
<p><code>\B	</code>除了单词边界</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">reg = <span class="regexp">/\Bchild\b/</span>;</span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"child"</span>)); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"hello children"</span>)); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"hello child ren"</span>)); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"hellochild ren"</span>)); <span class="comment">// true</span></span><br></pre></td></tr></tbody></table></figure>
</li>
</ul>
<h2 id="4、字符串和正则相关的方法">4、字符串和正则相关的方法</h2>
<p><img src="https://i.loli.net/2021/07/31/tMZjXSe8UwbEJxa.png" alt="image-20210731202642886"></p>
<h3 id="split-2">split()</h3>
<p>可以将一个字符串拆分为一个数组，不会影响原字符串</p>
<p>方法中可以传递一个正则表达式作为参数，这样方法将会根据正则表达式去拆分字符串</p>
<p><code>split()</code>方法即使不指定全局匹配，也会全都拆分</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 根据任意字母来将字符串拆分</span></span><br><span class="line"><span class="keyword">var</span> str = <span class="string">"1a2b3c4d5e6f7g8h9i0"</span>;</span><br><span class="line"><span class="keyword">var</span> result = str.split(<span class="regexp">/[A-z]/</span>);</span><br><span class="line"><span class="built_in">console</span>.log(str); <span class="comment">// 1a2b3c4d5e6A7B8C9D0</span></span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// ["1", "2", "3", "4", "5", "6", "7", "8", "9", "0"]</span></span><br></pre></td></tr></tbody></table></figure>
<h3 id="search">search()</h3>
<p>可以搜索字符串中是否含有指定内容，不会影响原字符串</p>
<p>如果搜索到指定内容，则会返回第一次出现的索引，如果没有搜索到返回-1</p>
<p>它可以接受一个正则表达式作为参数，然后会根据正则表达式去检索字符串</p>
<p><code>search()</code>只会查找第一个，即使设置全局匹配也没用</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">str = <span class="string">"Hello abc Hello afc agc"</span>;</span><br><span class="line">result = str.search(<span class="regexp">/a[A-z]c/</span>);</span><br><span class="line"><span class="built_in">console</span>.log(str); <span class="comment">// 1a2b3c4d5e6A7B8C9D0</span></span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// 6</span></span><br></pre></td></tr></tbody></table></figure>
<h3 id="match">match()</h3>
<p>可以根据正则表达式，从一个字符串中将符合条件的内容提取出来，不会影响原字符串</p>
<p>默认情况下我们的match只会找到第一个符合要求的内容，找到以后就停止检索</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">str = <span class="string">"1a2b3c4d5e6A7B8C9D0"</span>;</span><br><span class="line">result = str.match(<span class="regexp">/[a-z]/</span>);</span><br><span class="line"><span class="built_in">console</span>.log(str); <span class="comment">// 1a2b3c4d5e6A7B8C9D0</span></span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// ["a", index: 1, input: "1a2b3c4d5e6A7B8C9D0", groups: undefined]</span></span><br></pre></td></tr></tbody></table></figure>
<p>可以设置正则表达式为全局匹配模式，这样就会匹配到所有的内容</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">result = str.match(<span class="regexp">/[a-z]/g</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// ["a", "b", "c", "d", "e"]</span></span><br></pre></td></tr></tbody></table></figure>
<p>可以为一个正则表达式设置多个匹配模式，且顺序无所谓</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">result = str.split(<span class="regexp">/[a-z]/ig</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// ["1", "2", "3", "4", "5", "6", "7", "8", "9", "0"]</span></span><br></pre></td></tr></tbody></table></figure>
<p><code>match()</code>会将匹配到的内容封装到一个数组中返回，即使只查询到一个结果</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Array</span>.isArray(result)); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(result[<span class="number">0</span>]); <span class="comment">// a</span></span><br><span class="line"><span class="built_in">console</span>.log(result[<span class="number">5</span>]); <span class="comment">// A</span></span><br></pre></td></tr></tbody></table></figure>
<h3 id="replace">replace()</h3>
<p>可以将字符串中指定内容替换为新的内容，不会影响原字符串</p>
<p>参数：</p>
<ol>
<li>被替换的内容，可以接受一个正则表达式作为参数</li>
<li>新的内容</li>
</ol>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">result = str.replace(<span class="string">"a"</span>,<span class="string">"@_@"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(str); <span class="comment">// 1a2b3c4d5e6A7B8C9D0</span></span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// 1@_@2b3c4d5e6A7B8C9D0</span></span><br></pre></td></tr></tbody></table></figure>
<p>默认只会替换第一个，可以使用正则表达式的全局匹配模式</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">str = <span class="string">"1a2a3a4a5a6A7B8C9D0"</span>;</span><br><span class="line">result = str.replace(<span class="string">"a"</span>,<span class="string">"@_@"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// 1@_@2a3a4a5a6A7B8C9D0</span></span><br><span class="line">result = str.replace(<span class="regexp">/a/g</span>,<span class="string">"@_@"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// 1@_@2@_@3@_@4@_@5@_@6A7B8C9D0</span></span><br><span class="line">result = str.replace(<span class="regexp">/a/gi</span>,<span class="string">"@_@"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// 1@_@2@_@3@_@4@_@5@_@6@_@7B8C9D0</span></span><br><span class="line">result = str.replace(<span class="regexp">/[a-z]/gi</span>,<span class="string">"@_@"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// 1@_@2@_@3@_@4@_@5@_@6@_@7@_@8@_@9@_@0</span></span><br><span class="line">result = str.replace(<span class="regexp">/[a-z]/gi</span>,<span class="string">""</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// 1234567890</span></span><br></pre></td></tr></tbody></table></figure>
<p><strong>小结</strong></p>
<ul>
<li><code>split()</code>方法用于拆分，即使不指定全局匹配，也会全都拆分</li>
<li><code>search</code>方法用于搜索，只会查找第一个，即使设置全局匹配也没用</li>
<li><code>match</code>方法用于提取</li>
<li><code>replace</code>方法用于替换</li>
</ul>
<p>**练习：**去除用户输入中的前后空格</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 接收一个用户的输入</span></span><br><span class="line"><span class="keyword">var</span> str = <span class="string">"    hello world  "</span>;</span><br><span class="line"><span class="built_in">console</span>.log(str); <span class="comment">//     hello world  </span></span><br><span class="line"><span class="comment">// 去除掉字符串中的空格</span></span><br><span class="line"><span class="comment">// 去除空格就是使用""来替换空格</span></span><br><span class="line"><span class="keyword">var</span> result = str.replace(<span class="regexp">/\s/g</span>,<span class="string">""</span>); </span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// helloworld  </span></span><br><span class="line"><span class="comment">// 去除前面的空格</span></span><br><span class="line">result = str.replace(<span class="regexp">/^\s+/</span>,<span class="string">""</span>); </span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// hello world  </span></span><br><span class="line"><span class="comment">// 去除后面的空格</span></span><br><span class="line">result = str.replace(<span class="regexp">/\s+$/</span>,<span class="string">""</span>); </span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">//     hello world</span></span><br><span class="line"><span class="comment">// 去除前面和后面的空格</span></span><br><span class="line">result = str.replace(<span class="regexp">/^\s+|\s$/g</span>,<span class="string">""</span>); </span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// hello world</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="5、邮件正则">5、邮件正则</h2>
<p><code>任意字母数字下划线(.任意字母数字下划线){0个或多个}@任意字母数字.任意字母（2-5位）(.任意字母（2-5位）){0个或多个}</code></p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/^\w+(\.\w+)*@[A-z0-9]+(\.[A-z]{2,5})+$/</span>;</span><br><span class="line">str = <span class="string">"Vector123_.xxx.163@outLOOK123.Com.cn"</span>;</span><br><span class="line"><span class="built_in">console</span>.log(reg.test(str)); <span class="comment">// true</span></span><br><span class="line">str = <span class="string">"Vector123_.xxx.163@outLOOK123.com123.cn"</span>;</span><br><span class="line"><span class="built_in">console</span>.log(reg.test(str)); <span class="comment">// false</span></span><br><span class="line">str = <span class="string">"#$%^&amp;*()Vector123_.xxx.163@outLOOK123.com123.cn"</span>;</span><br><span class="line"><span class="built_in">console</span>.log(reg.test(str)); <span class="comment">// false</span></span><br></pre></td></tr></tbody></table></figure>
<hr>
<h2 id="附录：常用正则表达式-1">附录：常用正则表达式[^1]</h2>
<h3 id="校验数字的表达式">校验数字的表达式</h3>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">数字：^[<span class="number">0</span>-<span class="number">9</span>]*$</span><br><span class="line">n位的数字：^\d{n}$</span><br><span class="line">至少n位的数字：^\d{n,}$</span><br><span class="line">m-n位的数字：^\d{m,n}$</span><br><span class="line">零和非零开头的数字：^(<span class="number">0</span>|[<span class="number">1</span>-<span class="number">9</span>][<span class="number">0</span>-<span class="number">9</span>]*)$</span><br><span class="line">非零开头的最多带两位小数的数字：^([<span class="number">1</span>-<span class="number">9</span>][<span class="number">0</span>-<span class="number">9</span>]*)+(.[<span class="number">0</span>-<span class="number">9</span>]{<span class="number">1</span>,<span class="number">2</span>})?$</span><br><span class="line">带<span class="number">1</span>-<span class="number">2</span>位小数的正数或负数：^(\-)?\d+(\.\d{<span class="number">1</span>,<span class="number">2</span>})?$</span><br><span class="line">正数、负数、和小数：^(\-|\+)?\d+(\.\d+)?$</span><br><span class="line">有两位小数的正实数：^[<span class="number">0</span>-<span class="number">9</span>]+(.[<span class="number">0</span>-<span class="number">9</span>]{<span class="number">2</span>})?$</span><br><span class="line">有<span class="number">1</span>~<span class="number">3</span>位小数的正实数：^[<span class="number">0</span>-<span class="number">9</span>]+(.[<span class="number">0</span>-<span class="number">9</span>]{<span class="number">1</span>,<span class="number">3</span>})?$</span><br><span class="line">非零的正整数：^[<span class="number">1</span>-<span class="number">9</span>]\d*$ 或 ^([<span class="number">1</span>-<span class="number">9</span>][<span class="number">0</span>-<span class="number">9</span>]*){<span class="number">1</span>,<span class="number">3</span>}$ 或 ^\+?[<span class="number">1</span>-<span class="number">9</span>][<span class="number">0</span>-<span class="number">9</span>]*$</span><br><span class="line">非零的负整数：^\-[<span class="number">1</span>-<span class="number">9</span>][]<span class="number">0</span>-<span class="number">9</span><span class="string">"*$ 或 ^-[1-9]\d*$</span></span><br><span class="line"><span class="string">非负整数：^\d+$ 或 ^[1-9]\d*|0$</span></span><br><span class="line"><span class="string">非正整数：^-[1-9]\d*|0$ 或 ^((-\d+)|(0+))$</span></span><br><span class="line"><span class="string">非负浮点数：^\d+(\.\d+)?$ 或 ^[1-9]\d*\.\d*|0\.\d*[1-9]\d*|0?\.0+|0$</span></span><br><span class="line"><span class="string">非正浮点数：^((-\d+(\.\d+)?)|(0+(\.0+)?))$ 或 ^(-([1-9]\d*\.\d*|0\.\d*[1-9]\d*))|0?\.0+|0$</span></span><br><span class="line"><span class="string">正浮点数：^[1-9]\d*\.\d*|0\.\d*[1-9]\d*$ 或 ^(([0-9]+\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\.[0-9]+)|([0-9]*[1-9][0-9]*))$</span></span><br><span class="line"><span class="string">负浮点数：^-([1-9]\d*\.\d*|0\.\d*[1-9]\d*)$ 或 ^(-(([0-9]+\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\.[0-9]+)|([0-9]*[1-9][0-9]*)))$</span></span><br><span class="line"><span class="string">浮点数：^(-?\d+)(\.\d+)?$ 或 ^-?([1-9]\d*\.\d*|0\.\d*[1-9]\d*|0?\.0+|0)$</span></span><br></pre></td></tr></tbody></table></figure>
<h3 id="校验字符的表达式">校验字符的表达式</h3>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">汉字：^[\u4e00-\u9fa5]{<span class="number">0</span>,}$</span><br><span class="line">英文和数字：^[A-Za-z0-<span class="number">9</span>]+$ 或 ^[A-Za-z0-<span class="number">9</span>]{<span class="number">4</span>,<span class="number">40</span>}$</span><br><span class="line">长度为<span class="number">3</span>-<span class="number">20</span>的所有字符：^.{<span class="number">3</span>,<span class="number">20</span>}$</span><br><span class="line">由<span class="number">26</span>个英文字母组成的字符串：^[A-Za-z]+$</span><br><span class="line">由<span class="number">26</span>个大写英文字母组成的字符串：^[A-Z]+$</span><br><span class="line">由<span class="number">26</span>个小写英文字母组成的字符串：^[a-z]+$</span><br><span class="line">由数字和<span class="number">26</span>个英文字母组成的字符串：^[A-Za-z0-<span class="number">9</span>]+$</span><br><span class="line">由数字、<span class="number">26</span>个英文字母或者下划线组成的字符串：^\w+$ 或 ^\w{<span class="number">3</span>,<span class="number">20</span>}$</span><br><span class="line">中文、英文、数字包括下划线：^[\u4E00-\u9FA5A-Za-z0-9_]+$</span><br><span class="line">中文、英文、数字但不包括下划线等符号：^[\u4E00-\u9FA5A-Za-z0-<span class="number">9</span>]+$ 或 ^[\u4E00-\u9FA5A-Za-z0-<span class="number">9</span>]{<span class="number">2</span>,<span class="number">20</span>}$</span><br><span class="line">可以输入含有^%&amp;<span class="string">',;=?$\"等字符：[^%&amp;'</span>,;=?$\x22]+</span><br><span class="line">禁止输入含有~的字符：[^~\x22]+</span><br></pre></td></tr></tbody></table></figure>
<h3 id="特殊需求表达式">特殊需求表达式</h3>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">Email地址：^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$</span><br><span class="line">域名：[a-zA-Z0-<span class="number">9</span>][-a-zA-Z0-<span class="number">9</span>]{<span class="number">0</span>,<span class="number">62</span>}(<span class="regexp">/.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+/</span>.?</span><br><span class="line">InternetURL：[a-zA-z]+:<span class="comment">//[^\s]* 或 ^http://([\w-]+\.)+[\w-]+(/[\w-./?%&amp;=]*)?$</span></span><br><span class="line">手机号码：^(<span class="number">13</span>[<span class="number">0</span>-<span class="number">9</span>]|<span class="number">14</span>[<span class="number">0</span>-<span class="number">9</span>]|<span class="number">15</span>[<span class="number">0</span>-<span class="number">9</span>]|<span class="number">16</span>[<span class="number">0</span>-<span class="number">9</span>]|<span class="number">17</span>[<span class="number">0</span>-<span class="number">9</span>]|<span class="number">18</span>[<span class="number">0</span>-<span class="number">9</span>]|<span class="number">19</span>[<span class="number">0</span>-<span class="number">9</span>])\d{<span class="number">8</span>}$ (由于工信部放号段不定时，所以建议使用泛解析 ^([<span class="number">1</span>][<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>])\d{<span class="number">9</span>}$)</span><br><span class="line">电话号码(<span class="string">"XXX-XXXXXXX"</span>、<span class="string">"XXXX-XXXXXXXX"</span>、<span class="string">"XXX-XXXXXXX"</span>、<span class="string">"XXX-XXXXXXXX"</span>、<span class="string">"XXXXXXX"</span>和<span class="string">"XXXXXXXX)：^(\(\d{3,4}-)|\d{3.4}-)?\d{7,8}$ </span></span><br><span class="line"><span class="string">国内电话号码(0511-4405222、021-87888822)：\d{3}-\d{8}|\d{4}-\d{7} </span></span><br><span class="line"><span class="string">18位身份证号码(数字、字母x结尾)：^((\d{18})|([0-9x]{18})|([0-9X]{18}))$</span></span><br><span class="line"><span class="string">帐号是否合法(字母开头，允许5-16字节，允许字母数字下划线)：^[a-zA-Z][a-zA-Z0-9_]{4,15}$</span></span><br><span class="line"><span class="string">密码(以字母开头，长度在6~18之间，只能包含字母、数字和下划线)：^[a-zA-Z]\w{5,17}$</span></span><br><span class="line"><span class="string">强密码(必须包含大小写字母和数字的组合，不能使用特殊字符，长度在8-10之间)：^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,10}$  </span></span><br><span class="line"><span class="string">日期格式：^\d{4}-\d{1,2}-\d{1,2}</span></span><br><span class="line"><span class="string">一年的12个月(01～09和1～12)：^(0?[1-9]|1[0-2])$</span></span><br><span class="line"><span class="string">一个月的31天(01～09和1～31)：^((0?[1-9])|((1|2)[0-9])|30|31)$ </span></span><br><span class="line"><span class="string">钱的输入格式：</span></span><br><span class="line"><span class="string">    1.有四种钱的表示形式我们可以接受:"</span><span class="number">10000.00</span><span class="string">" 和 "</span><span class="number">10</span>,<span class="number">000</span><span class="number">.00</span><span class="string">", 和没有 "</span>分<span class="string">" 的 "</span><span class="number">10000</span><span class="string">" 和 "</span><span class="number">10</span>,<span class="number">000</span><span class="string">"：^[1-9][0-9]*$ </span></span><br><span class="line"><span class="string">    2.这表示任意一个不以0开头的数字,但是,这也意味着一个字符"</span><span class="number">0</span><span class="string">"不通过,所以我们采用下面的形式：^(0|[1-9][0-9]*)$ </span></span><br><span class="line"><span class="string">    3.一个0或者一个不以0开头的数字.我们还可以允许开头有一个负号：^(0|-?[1-9][0-9]*)$ </span></span><br><span class="line"><span class="string">    4.这表示一个0或者一个可能为负的开头不为0的数字.让用户以0开头好了.把负号的也去掉,因为钱总不能是负的吧.下面我们要加的是说明可能的小数部分：^[0-9]+(.[0-9]+)?$ </span></span><br><span class="line"><span class="string">    5.必须说明的是,小数点后面至少应该有1位数,所以"</span><span class="number">10.</span><span class="string">"是不通过的,但是 "</span><span class="number">10</span><span class="string">" 和 "</span><span class="number">10.2</span><span class="string">" 是通过的：^[0-9]+(.[0-9]{2})?$ </span></span><br><span class="line"><span class="string">    6.这样我们规定小数点后面必须有两位,如果你认为太苛刻了,可以这样：^[0-9]+(.[0-9]{1,2})?$ </span></span><br><span class="line"><span class="string">    7.这样就允许用户只写一位小数.下面我们该考虑数字中的逗号了,我们可以这样：^[0-9]{1,3}(,[0-9]{3})*(.[0-9]{1,2})?$ </span></span><br><span class="line"><span class="string">    8.1到3个数字,后面跟着任意个 逗号+3个数字,逗号成为可选,而不是必须：^([0-9]+|[0-9]{1,3}(,[0-9]{3})*)(.[0-9]{1,2})?$ </span></span><br><span class="line"><span class="string">    备注：这就是最终结果了,别忘了"</span>+<span class="string">"可以用"</span>*<span class="string">"替代如果你觉得空字符串也可以接受的话(奇怪,为什么?)最后,别忘了在用函数时去掉去掉那个反斜杠,一般的错误都在这里</span></span><br><span class="line"><span class="string">xml文件：^([a-zA-Z]+-?)+[a-zA-Z0-9]+\\.[x|X][m|M][l|L]$</span></span><br><span class="line"><span class="string">中文字符的正则表达式：[\u4e00-\u9fa5]</span></span><br><span class="line"><span class="string">双字节字符：[^\x00-\xff]    (包括汉字在内，可以用来计算字符串的长度(一个双字节字符长度计2，ASCII字符计1))</span></span><br><span class="line"><span class="string">空白行的正则表达式：\n\s*\r    (可以用来删除空白行)</span></span><br><span class="line"><span class="string">HTML标记的正则表达式：&lt;(\S*?)[^&gt;]*&gt;.*?&lt;/\1&gt;|&lt;.*? /&gt;    (网上流传的版本太糟糕，上面这个也仅仅能部分，对于复杂的嵌套标记依旧无能为力)</span></span><br><span class="line"><span class="string">首尾空白字符的正则表达式：^\s*|\s*$或(^\s*)|(\s*$)    (可以用来删除行首行尾的空白字符(包括空格、制表符、换页符等等)，非常有用的表达式)</span></span><br><span class="line"><span class="string">腾讯QQ号：[1-9][0-9]{4,}    (腾讯QQ号从10000开始)</span></span><br><span class="line"><span class="string">中国邮政编码：[1-9]\d{5}(?!\d)    (中国邮政编码为6位数字)</span></span><br><span class="line"><span class="string">IP地址：\d+\.\d+\.\d+\.\d+    (提取IP地址时有用)</span></span><br><span class="line"><span class="string">IP地址：((?:(?:25[0-5]|2[0-4]\\d|[01]?\\d?\\d)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d?\\d))    (由@飞龙三少 提供,感谢共享)</span></span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<p>作者：<a target="_blank" rel="noopener external nofollow noreferrer" href="http://www.cnblogs.com/zxin/">zxin</a></p>
<p>出处：<a target="_blank" rel="noopener external nofollow noreferrer" href="http://www.cnblogs.com/zxin/">http://zxin.cnblogs.com/</a></p>
<p>本文版权归作者和博客园共有，欢迎转载，但未经作者同意必须保留此段声明，且在文章页面明显位置给出原文连接，否则保留追究法律责任的权利。</p>
</blockquote>
<hr>
<p><strong>参考资料</strong></p>
<p>[^1]: 最全的常用正则表达式大全——包括校验数字、字符、一些特殊的需求等等 <a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.cnblogs.com/zxin/archive/2013/01/26/2877765.html">https://www.cnblogs.com/zxin/archive/2013/01/26/2877765.html</a></p>
<h1 id="DOM">DOM</h1>
<h2 id="1、DOM简介">1、DOM简介</h2>
<p>DOM，全称Document Object Model <strong>文档对象模型</strong>。</p>
<p>JS中通过DOM来对HTML文档进行操作。只要理解了DOM就可以随心所欲的操作WEB页面。</p>
<h3 id="文档">文档</h3>
<p>文档表示的就是整个的HTML网页文档</p>
<h3 id="对象-3">对象</h3>
<p>对象表示将网页中的每一个部分都转换为了一个对象</p>
<h3 id="模型">模型</h3>
<p>使用模型来表示对象之间的关系，这样方便我们获取对象</p>
<p><img src="https://i.loli.net/2021/08/01/7o8bmgeQHFXhly9.png" alt="image-20210801152925307"></p>
<p>DOM树体现了节点与节点之间的关系</p>
<p><img src="https://i.loli.net/2021/08/01/soiEQhjyu3AzNJ1.png" alt="image-20210801153018626"></p>
<h2 id="2、节点">2、节点</h2>
<p>节点Node，是构成我们网页的最基本的组成部分，网页中的每一个部分都可以称为是一个节点</p>
<p>比如：html标签、属性、文本、注释、整个文档等都是一个节点</p>
<p>虽然都是节点，但是实际上他们的具体类型是不同的。比如：</p>
<ul>
<li>标签称为元素节点</li>
<li>属性称为属性节点</li>
<li>文本称为文本节点</li>
<li>文档称为文档节点</li>
</ul>
<p>节点的类型不同，属性和方法也都不尽相同</p>
<h3 id="节点类型">节点类型</h3>
<p>节点：Node——构成HTML文档最基本的单元</p>
<p>常用节点分为四类</p>
<ul>
<li>文档节点：整个HTML文档</li>
<li>元素节点：HTML文档中的HTL标签</li>
<li>属性节点：元素的属性</li>
<li>文本节点：HTML标签中的文本内容</li>
</ul>
<p><img src="https://i.loli.net/2021/08/01/R1AOaxYnNyDi2mH.png" alt="image-20210801153554420"></p>
<h3 id="节点属性">节点属性</h3>
<p><img src="https://i.loli.net/2021/08/01/wfuSynGj5DVaKbt.png" alt="image-20210801153633118"></p>
<h3 id="文档节点（Document）">文档节点（Document）</h3>
<p>文档节点<code>document</code>，代表的是整个HTML文档，网页中的所有节点都是它的子节点</p>
<p><code>document</code>对象作为<code>window</code>对象的属性存在的，我们不用获取可以直接使用</p>
<p>通过该对象我们可以在整个文档访问内查找节点对象，并可以通过该对象创建各种节点对象</p>
<h3 id="元素节点（Element）">元素节点（Element）</h3>
<p>HTML中的各种标签都是元素节点，这也是我们最常用的一个节点</p>
<p>浏览器会将页面中所有的标签都转换为一个元素节点，我们可以通过<code>document</code>的方法来获取元素节点</p>
<p>比如：<code>document.getElementById()</code> 根据id属性值获取一个元素节点对象。</p>
<h3 id="文本节点（Text）">文本节点（Text）</h3>
<p>文本节点表示的是HTML标签以外的文本内容，任意非HTML的文本都是文本节点</p>
<p>它包括可以字面解释的纯文本内容</p>
<p>文本节点一般是作为元素节点的子节点存在的</p>
<p>获取文本节点时，一般先要获取元素节点，再通过元素节点获取文本节点。例如：<code>元素节点.firstChild;</code></p>
<p>获取元素节点的第一个子节点，一般为文本节点</p>
<h3 id="属性节点（Attr）">属性节点（Attr）</h3>
<p>属性节点表示的是标签中的一个一个的属性，这里要注意的是属性节点并非是元素节点的子节点，而是元素节点的一部分</p>
<p>可以通过元素节点来获取指定的属性节点。例如：<code>元素节点.getAttributeNode("属性名");</code></p>
<p><strong>注意：我们一般不使用属性节点</strong></p>
<p>浏览器已经为我们提供文档节点对象，这个对象是<code>window</code></p>
<p>属性可以在页面中直接使用，文档节点代表的是整个网页</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 获取button对象</span></span><br><span class="line"><span class="keyword">var</span> btn = <span class="built_in">document</span>.getElementById(<span class="string">"btn"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(btn); <span class="comment">// &lt;button type="button" id="btn"&gt;我是一个按钮&lt;/button&gt;</span></span><br><span class="line"><span class="comment">// 修改btn的文本节点内容</span></span><br><span class="line">btn.innerHTML = <span class="string">"I'm a button."</span>;</span><br></pre></td></tr></tbody></table></figure>
<h2 id="3、事件">3、事件</h2>
<p>事件，就是文档或浏览器窗口中发生的一些特定的交互瞬间</p>
<p>JavaScript与HTML之间的交互是通过事件实现的</p>
<p>对于Web应用来说，有下面这些代表性的事件：点击某个元素、将鼠标移动至某个元素上方、按下键盘上某个键，等等</p>
<p><img src="https://i.loli.net/2021/08/01/61nwvAuQcM7lDUb.png" alt="image-20210801155425259"></p>
<p>我们可以在事件对应的属性中设置一些js代码，这样当事件被触发时，这些代码将会执行</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;button type=<span class="string">"button"</span> id=<span class="string">"btn"</span> onclick=<span class="string">"alert('Fuck');"</span>&gt;我是一个按钮&lt;/button&gt;</span><br></pre></td></tr></tbody></table></figure>
<p>这种写法我们称为结构和行为耦合，不方便维护，不推荐使用</p>
<p>可以为按钮的对应事件绑定处理函数的形式来响应事件，这样当事件被触发时，其对应的函数将会被调用</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 绑定一个单击事件</span></span><br><span class="line">btn.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{</span><br><span class="line">    alert(<span class="string">"Don't touch me."</span>);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p>像这种为单击事件绑定的函数，我们称为单击响应函数</p>
<h2 id="4、文档的加载">4、文档的加载</h2>
<p>当我们把<code>script</code>标签放到<code>head</code>中时，会报错<code>UncaughtTypeError: Cannot set property 'innerHTML' of null</code>，这是为什么呢？</p>
<p>浏览器在加载一个页面时，是按照自上向下的顺序加载的，读取到一行就运行一行，如果将<code>script</code>标签写到页面的上边，在代码执行时，页面还没有加载，DOM对象也没有加载，会导致无法获取到DOM对象</p>
<p><img src="https://i.loli.net/2021/08/01/iKbxesXkY5BVTIc.png" alt="image-20210801160850690"></p>
<p>如果非要这么干，也不是没有办法</p>
<p><code>onload</code>事件会在整个页面加载完成之后才触发，可以为<code>window</code>对象绑定一个<code>onload</code>事件</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{</span><br><span class="line">    <span class="comment">// 获取button对象</span></span><br><span class="line">    <span class="keyword">var</span> btn = <span class="built_in">document</span>.getElementById(<span class="string">"btn"</span>);</span><br><span class="line">    <span class="comment">// 绑定一个单击事件</span></span><br><span class="line">    btn.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{</span><br><span class="line">        alert(<span class="string">"Don't touch me."</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p>该事件对应的响应函数将会在页面加载完成之后执行，这样可以确保我们的代码执行时所有的DOM对象已经加载完毕了</p>
<h2 id="5、DOM查询">5、DOM查询</h2>
<h3 id="获取元素节点">获取元素节点</h3>
<p><img src="https://i.loli.net/2021/08/03/tuBpZTmWkhsE6nV.png" alt="image-20210803222352914"></p>
<p>通过document对象调用</p>
<p>为了方便，定义一个通用的函数，专门用来为指定元素绑定单击响应函数</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 参数：</span></span><br><span class="line"><span class="comment">// 	idstr	要绑定单击响应函数的对象的id属性值</span></span><br><span class="line"><span class="comment">// 	fun		事件的回调函数，当单击元素时，该函数将会被触发</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myClick</span>(<span class="params">idStr, fun</span>)</span>{</span><br><span class="line">    <span class="keyword">var</span> btn = <span class="built_in">document</span>.getElementById(idStr);</span><br><span class="line">    btn.onclick = fun;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>
<p><code>getElementById()</code> 通过id属性获取<strong>一个</strong>元素节点对象</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">myClick(<span class="string">"btn01"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">    <span class="comment">// innerHTML 通过这个属性可以获取到元素内部的html代码</span></span><br><span class="line">    alert(<span class="built_in">document</span>.getElementById(<span class="string">"bj"</span>).innerHTML); <span class="comment">// 北京</span></span><br><span class="line">});</span><br></pre></td></tr></tbody></table></figure>
</li>
<li>
<p><code>getElementsByTagName()</code> 通过标签名获取<strong>一组</strong>元素节点对象</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">myClick(<span class="string">"btn02"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">    <span class="comment">// getElementsByTagName()可以根据标签名来获取一组元素节点对象</span></span><br><span class="line">    <span class="comment">// 这个方法会给我们返回一个类数组对象，所有查询到的元素都会封装到对象中</span></span><br><span class="line">    <span class="comment">// 即使查询到的元素只有一个，也会封装到数组中返回</span></span><br><span class="line">    <span class="keyword">var</span> li_list = <span class="built_in">document</span>.getElementsByTagName(<span class="string">"li"</span>);</span><br><span class="line">    alert(li_list.length); <span class="comment">// 14</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">var</span> arr = [];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;li_list.length;i++){</span><br><span class="line">        arr.push(li_list[i].innerHTML);</span><br><span class="line">    }</span><br><span class="line">    alert(arr); <span class="comment">// 北京,上海,东京,首尔,红警,实况,极品飞车,魔兽,IOS,Android,Windows Phone,IOS,Android,Windows Phone</span></span><br><span class="line">});</span><br></pre></td></tr></tbody></table></figure>
</li>
<li>
<p><code>getElementsByName()</code> 通过name属性获取<strong>一组</strong>元素节点对象</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">myClick(<span class="string">"btn03"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">    <span class="keyword">var</span> inputs = <span class="built_in">document</span>.getElementsByName(<span class="string">"gender"</span>);</span><br><span class="line">    alert(inputs.length); <span class="comment">// 2</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">var</span> arr = [];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;inputs.length;i++){</span><br><span class="line">        <span class="comment">// innerHTML用于获取元素内战的HTML代码的</span></span><br><span class="line">        <span class="comment">// 如果需要读取元素节点属性，直接使用`元素.属性名`</span></span><br><span class="line">        <span class="comment">// 例子：`元素.id`  `元素.name`  `元素.value`</span></span><br><span class="line">        arr.push(inputs[i].value); </span><br><span class="line">        <span class="comment">// 注意：class属性不能采用这种方式，读取class属性时需要使用`元素.className`</span></span><br><span class="line">        arr.push(inputs[i].className);</span><br><span class="line">    }</span><br><span class="line">    alert(arr); <span class="comment">// male,hello,female,hello</span></span><br><span class="line">});</span><br></pre></td></tr></tbody></table></figure>
</li>
</ul>
<p><strong>练习：图片切换</strong></p>
<p>HTML代码</p>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"outer"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">"info"</span>&gt;</span>共5张图片，当前第1张<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"img/1.jpg"</span> <span class="attr">alt</span>=<span class="string">"冰棍"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">id</span>=<span class="string">"prev"</span>&gt;</span>上一张<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">id</span>=<span class="string">"next"</span>&gt;</span>下一张<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>
<p>CSS代码</p>
<figure class="highlight css"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">*{</span><br><span class="line">    <span class="attribute">margin</span>:<span class="number">0</span>;</span><br><span class="line">    <span class="attribute">padding</span>:<span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.outer</span>{</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">500px</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">50px</span> auto;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: greenyellow;</span><br><span class="line">    <span class="comment">/* 文本居中：内联样式当成是文本 */</span></span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p>JS代码</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 上一张</span></span><br><span class="line"><span class="keyword">var</span> prev = <span class="built_in">document</span>.getElementById(<span class="string">"prev"</span>);</span><br><span class="line"><span class="comment">// 下一张</span></span><br><span class="line"><span class="keyword">var</span> next = <span class="built_in">document</span>.getElementById(<span class="string">"next"</span>);</span><br><span class="line"><span class="comment">// 图片</span></span><br><span class="line"><span class="keyword">var</span> img = <span class="built_in">document</span>.getElementsByTagName(<span class="string">"img"</span>)[<span class="number">0</span>];</span><br><span class="line"><span class="comment">// 信息</span></span><br><span class="line"><span class="keyword">var</span> info = <span class="built_in">document</span>.getElementById(<span class="string">"info"</span>);</span><br><span class="line"><span class="comment">// 图片集合</span></span><br><span class="line"><span class="keyword">var</span> imgArr = [<span class="string">"img/1.jpg"</span>, <span class="string">"img/2.jpg"</span>, <span class="string">"img/3.jpg"</span>, <span class="string">"img/4.jpg"</span>, <span class="string">"img/5.jpg"</span>];</span><br><span class="line"><span class="comment">// 记录第几张</span></span><br><span class="line"><span class="keyword">var</span> index = <span class="number">0</span>;</span><br><span class="line"><span class="comment">// 上一张绑定单击相应事件</span></span><br><span class="line">prev.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{</span><br><span class="line">    <span class="comment">// 循环切换</span></span><br><span class="line">    index = (index &lt; <span class="number">0</span>) ? imgArr.length - <span class="number">1</span> : index;</span><br><span class="line">    <span class="comment">// 修改img的src属性，以切换图片</span></span><br><span class="line">    img.src = imgArr[index];</span><br><span class="line">    <span class="comment">// 修改文字提示</span></span><br><span class="line">    info.innerHTML = <span class="string">"共"</span> + imgArr.length + <span class="string">"张图片，当前第"</span> + (index + <span class="number">1</span>) + <span class="string">"张"</span>;</span><br><span class="line">    <span class="comment">// 切换上一张</span></span><br><span class="line">    index--;</span><br><span class="line">};</span><br><span class="line"><span class="comment">// 下一张绑定单击相应事件</span></span><br><span class="line">next.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{</span><br><span class="line">    <span class="comment">// 循环切换			</span></span><br><span class="line">    index = (index &gt; imgArr.length - <span class="number">1</span>) ? <span class="number">0</span> :index;</span><br><span class="line">    <span class="comment">// 修改img的src属性，以切换图片</span></span><br><span class="line">    img.src = imgArr[index];</span><br><span class="line">    <span class="comment">// 修改文字提示</span></span><br><span class="line">    info.innerHTML = <span class="string">"共"</span> + imgArr.length + <span class="string">"张图片，当前第"</span> + (index + <span class="number">1</span>) + <span class="string">"张"</span>;</span><br><span class="line">    <span class="comment">// 切换下一张</span></span><br><span class="line">    index++;</span><br><span class="line">};</span><br></pre></td></tr></tbody></table></figure>
<p>效果</p>
<p><img src="https://i.loli.net/2021/08/02/iMh6CoVk4rq7jzO.gif" alt="图片切换"></p>
<h3 id="获取元素节点的子节点">获取元素节点的子节点</h3>
<p><img src="https://i.loli.net/2021/08/03/wRicLYSWEshzxBX.png" alt="image-20210803222419830"></p>
<p>通过具体的元素节点调用</p>
<ul>
<li>
<p><code>getElementsByTagName()</code>方法，返回当前节点的指定标签名后代节点</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">myClick(<span class="string">"btn04"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">    <span class="keyword">var</span> city = <span class="built_in">document</span>.getElementById(<span class="string">"city"</span>);</span><br><span class="line">    <span class="comment">// 获取city下1i节点</span></span><br><span class="line">    <span class="keyword">var</span> list = city.getElementsByTagName(<span class="string">"li"</span>);</span><br><span class="line">    alert(list.length); <span class="comment">// 4</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">var</span> arr = [];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;list.length;i++){</span><br><span class="line">        arr.push(list[i].innerHTML);</span><br><span class="line">    }</span><br><span class="line">    alert(arr); <span class="comment">// 北京,上海,东京,首尔</span></span><br><span class="line">});</span><br></pre></td></tr></tbody></table></figure>
</li>
<li>
<p><code>childNodes</code>属性，表示当前节点的所有子节点</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">myClick(<span class="string">"btn05"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">    <span class="keyword">var</span> city = <span class="built_in">document</span>.getElementById(<span class="string">"city"</span>);</span><br><span class="line">    <span class="comment">// childNodes属性会获取包括文本节点在内的所有节点</span></span><br><span class="line">    <span class="comment">// 根据DOM标签标签间空白也会当成文本节点</span></span><br><span class="line">    <span class="comment">// 注意：在IE8及以下的浏览器中，不会将空白文本当成子节点</span></span><br><span class="line">    <span class="comment">// 所以该属性在IE8中会返回4个子元素，而其他浏览器是9个</span></span><br><span class="line">    <span class="keyword">var</span> list = city.childNodes;</span><br><span class="line">    alert(list.length); <span class="comment">// 9</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">var</span> arr = [];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;list.length;i++){</span><br><span class="line">        arr.push(list[i]);</span><br><span class="line">    }</span><br><span class="line">    alert(arr); <span class="comment">// [object Text],[object HTMLLIElement],[object Text],[object HTMLLIElement],[object Text],[object HTMLLIElement],[object Text],[object HTMLLIElement],[object Text]</span></span><br><span class="line">});</span><br><span class="line">myClick(<span class="string">"btn05"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">    <span class="keyword">var</span> city = <span class="built_in">document</span>.getElementById(<span class="string">"city"</span>);</span><br><span class="line">    <span class="comment">// children属性可以获取当前元素的所有子元素</span></span><br><span class="line">    <span class="keyword">var</span> list = city.children;</span><br><span class="line">    alert(list.length); <span class="comment">// 4</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">var</span> arr = [];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;list.length;i++){</span><br><span class="line">        arr.push(list[i].innerHTML);</span><br><span class="line">    }</span><br><span class="line">    alert(arr); <span class="comment">// 北京,上海,东京,首尔</span></span><br><span class="line">});</span><br></pre></td></tr></tbody></table></figure>
</li>
<li>
<p><code>firstChild</code>属性，表示当前节点的第一个子节点</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">myClick(<span class="string">"btn06"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">    <span class="keyword">var</span> phone = <span class="built_in">document</span>.getElementById(<span class="string">"phone"</span>);</span><br><span class="line">    <span class="comment">// firstChild可以获取到当前元素的第一个子节点（包括空白文本节点）</span></span><br><span class="line">    <span class="keyword">var</span> firstChild = phone.firstChild;				</span><br><span class="line">    alert(firstChild); <span class="comment">// [object HTMLLIElement]</span></span><br><span class="line">    alert(firstChild.innerHTML); <span class="comment">// IOS</span></span><br><span class="line">});</span><br><span class="line">myClick(<span class="string">"btn06"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">    <span class="keyword">var</span> phone2 = <span class="built_in">document</span>.getElementById(<span class="string">"phone2"</span>);</span><br><span class="line">    <span class="comment">// firstChild可以获取到当前元素的第一个子节点（包括空白文本节点）</span></span><br><span class="line">    <span class="keyword">var</span> firstChild = phone2.firstChild;				</span><br><span class="line">    alert(firstChild); <span class="comment">// [object Text]</span></span><br><span class="line">    alert(firstChild.innerHTML); <span class="comment">// undefined</span></span><br><span class="line">});</span><br><span class="line">myClick(<span class="string">"btn06"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">    <span class="keyword">var</span> phone2 = <span class="built_in">document</span>.getElementById(<span class="string">"phone2"</span>);</span><br><span class="line">    <span class="comment">// firstElementchild不支持IE8及以下的浏览器，如果需要兼容他们尽量不要使用</span></span><br><span class="line">    <span class="keyword">var</span> firstElementChild = phone2.firstElementChild;				</span><br><span class="line">    alert(firstElementChild); <span class="comment">// [object HTMLLIElement]</span></span><br><span class="line">    alert(firstElementChild.innerHTML); <span class="comment">// IOS</span></span><br><span class="line">});</span><br></pre></td></tr></tbody></table></figure>
</li>
<li>
<p><code>lastChild</code>属性，表示当前节点的最后一个子节点</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">"btn062"</span>).onclick = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">    <span class="keyword">var</span> phone = <span class="built_in">document</span>.getElementById(<span class="string">"phone"</span>);</span><br><span class="line">    <span class="comment">// children属性可以获取当前元素的所有子元素</span></span><br><span class="line">    <span class="keyword">var</span> lastChild = phone.lastChild;				</span><br><span class="line">    alert(lastChild); <span class="comment">// [object HTMLLIElement]</span></span><br><span class="line">    alert(lastChild.innerHTML); <span class="comment">// Windows Phone</span></span><br><span class="line">});</span><br></pre></td></tr></tbody></table></figure>
</li>
</ul>
<h3 id="获取父节点和兄弟节点">获取父节点和兄弟节点</h3>
<p><img src="https://i.loli.net/2021/08/03/go8P6iSVcHqYzLU.png" alt="image-20210803222448362"></p>
<p>通过具体的节点调用</p>
<ul>
<li>
<p><code>parentNode</code>属性，表示当前节点的父节点</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">myClick(<span class="string">"btn07"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">    <span class="keyword">var</span> bj = <span class="built_in">document</span>.getElementById(<span class="string">"bj"</span>);</span><br><span class="line">    <span class="keyword">var</span> parentNode = bj.parentNode;				</span><br><span class="line">    alert(parentNode); <span class="comment">// [object HTMLUListElement]</span></span><br><span class="line">    alert(parentNode.innerHTML);</span><br><span class="line">    <span class="comment">// &lt;li id="bj"&gt;北京&lt;/li&gt;</span></span><br><span class="line">    <span class="comment">// &lt;li&gt;上海&lt;/li&gt;</span></span><br><span class="line">    <span class="comment">// &lt;li&gt;东京&lt;/li&gt;</span></span><br><span class="line">    <span class="comment">// &lt;li&gt;首尔&lt;/li&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// innerText</span></span><br><span class="line">    <span class="comment">// -该属性可以获取到元素内部的文本内容</span></span><br><span class="line">    <span class="comment">// -它和innerHTML类似，不同的是它会自动将htm1去除</span></span><br><span class="line">    alert(parentNode.innerText);</span><br><span class="line">    <span class="comment">// 北京</span></span><br><span class="line">    <span class="comment">// 上海</span></span><br><span class="line">    <span class="comment">// 东京</span></span><br><span class="line">    <span class="comment">// 首尔</span></span><br><span class="line">});</span><br></pre></td></tr></tbody></table></figure>
</li>
<li>
<p><code>previousSibling</code>属性，表示当前节点的前一个兄弟节点</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">myClick(<span class="string">"btn08"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">    <span class="keyword">var</span> android = <span class="built_in">document</span>.getElementById(<span class="string">"android"</span>);</span><br><span class="line">    <span class="comment">// 返回#android的前一个兄弟节点（也可能获取到空白的文本）</span></span><br><span class="line">    <span class="keyword">var</span> previousSibling = android.previousSibling;				</span><br><span class="line">    alert(previousSibling); <span class="comment">// [object HTMLLIElement]</span></span><br><span class="line">    alert(previousSibling.innerHTML); <span class="comment">// IOS</span></span><br><span class="line">});</span><br><span class="line">myClick(<span class="string">"btn08"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">    <span class="keyword">var</span> android2 = <span class="built_in">document</span>.getElementById(<span class="string">"android2"</span>);</span><br><span class="line">    <span class="comment">// 返回#android的前一个兄弟节点（也可能获取到空白的文本）</span></span><br><span class="line">    <span class="keyword">var</span> previousSibling = android2.previousSibling;				</span><br><span class="line">    alert(previousSibling); <span class="comment">// [object Text]</span></span><br><span class="line">    alert(previousSibling.innerHTML); <span class="comment">// undefined</span></span><br><span class="line">});</span><br><span class="line">myClick(<span class="string">"btn08"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">    <span class="keyword">var</span> android2 = <span class="built_in">document</span>.getElementById(<span class="string">"android2"</span>);</span><br><span class="line">    <span class="comment">// previousElementSibling获取前一个兄弟元素，IE8及以下不支持</span></span><br><span class="line">    <span class="keyword">var</span> previousElementSibling = android2.previousElementSibling;				</span><br><span class="line">    alert(previousElementSibling); <span class="comment">// [object HTMLLIElement]</span></span><br><span class="line">    alert(previousElementSibling.innerHTML); <span class="comment">// IOS</span></span><br><span class="line">});</span><br></pre></td></tr></tbody></table></figure>
</li>
<li>
<p><code>nextSibling</code>属性，表示当前节点的后一个兄弟节点</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">myClick(<span class="string">"btn082"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">    <span class="keyword">var</span> android = <span class="built_in">document</span>.getElementById(<span class="string">"android"</span>);</span><br><span class="line">    <span class="comment">// 返回#android的前一个兄弟节点（也可能获取到空白的文本）</span></span><br><span class="line">    <span class="keyword">var</span> nextSibling = android.nextSibling;				</span><br><span class="line">    alert(nextSibling); <span class="comment">// [object HTMLLIElement]</span></span><br><span class="line">    alert(nextSibling.innerHTML); <span class="comment">// Windows Phone</span></span><br><span class="line">});</span><br></pre></td></tr></tbody></table></figure>
</li>
</ul>
<h2 id="6、全选练习">6、全选练习</h2>
<p><strong>HTML代码</strong></p>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">method</span>=<span class="string">"post"</span> <span class="attr">action</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">    你爱好的运动是？<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">id</span>=<span class="string">"checkedAllBox"</span> /&gt;</span>全选/全不选 </span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">name</span>=<span class="string">"items"</span> <span class="attr">value</span>=<span class="string">"足球"</span> /&gt;</span>足球</span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">name</span>=<span class="string">"items"</span> <span class="attr">value</span>=<span class="string">"篮球"</span> /&gt;</span>篮球</span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">name</span>=<span class="string">"items"</span> <span class="attr">value</span>=<span class="string">"羽毛球"</span> /&gt;</span>羽毛球</span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">name</span>=<span class="string">"items"</span> <span class="attr">value</span>=<span class="string">"乒乓球"</span> /&gt;</span>乒乓球</span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">id</span>=<span class="string">"checkedAllBtn"</span> <span class="attr">value</span>=<span class="string">"全　选"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">id</span>=<span class="string">"checkedNoBtn"</span> <span class="attr">value</span>=<span class="string">"全不选"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">id</span>=<span class="string">"checkedRevBtn"</span> <span class="attr">value</span>=<span class="string">"反　选"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">id</span>=<span class="string">"sendBtn"</span> <span class="attr">value</span>=<span class="string">"提　交"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>
<h3 id="全选">全选</h3>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">"checkedAllBtn"</span>).onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{</span><br><span class="line">    <span class="keyword">var</span> items = <span class="built_in">document</span>.getElementsByName(<span class="string">"items"</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;items.length;i++){</span><br><span class="line">        <span class="comment">// 通过多选框的checked属性可以来获取或设置多选框的选中状态</span></span><br><span class="line">        items[i].checked = <span class="literal">true</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="comment">// 全选按钮也要同步选中</span></span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">"checkedAllBox"</span>).checked = <span class="literal">true</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h3 id="全不选">全不选</h3>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">"checkedNoBtn"</span>).onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{</span><br><span class="line">    <span class="keyword">var</span> items = <span class="built_in">document</span>.getElementsByName(<span class="string">"items"</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;items.length;i++){</span><br><span class="line">        items[i].checked = <span class="literal">false</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="comment">// 全选按钮也要同步不选中</span></span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">"checkedAllBox"</span>).checked = <span class="literal">false</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h3 id="反选">反选</h3>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">"checkedRevBtn"</span>).onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{</span><br><span class="line">    <span class="keyword">var</span> items = <span class="built_in">document</span>.getElementsByName(<span class="string">"items"</span>);</span><br><span class="line">    <span class="keyword">var</span> flag = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;items.length;i++){</span><br><span class="line">        items[i].checked = !items[i].checked;</span><br><span class="line">        <span class="keyword">if</span>(!items[i].checked){</span><br><span class="line">            flag = <span class="literal">false</span>;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="comment">// 全选按钮也要同步选中或不选中</span></span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">"checkedAllBox"</span>).checked = flag;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h3 id="提交">提交</h3>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">"sendBtn"</span>).onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{</span><br><span class="line">    <span class="keyword">var</span> items = <span class="built_in">document</span>.getElementsByName(<span class="string">"items"</span>);</span><br><span class="line">    <span class="keyword">var</span> arr = [];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;items.length;i++){</span><br><span class="line">        <span class="keyword">if</span>(items[i].checked){</span><br><span class="line">            arr.push(items[i].value);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    alert(arr);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h3 id="全选-全不选">全选/全不选</h3>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">"checkedAllBox"</span>).onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{</span><br><span class="line">    <span class="keyword">var</span> items = <span class="built_in">document</span>.getElementsByName(<span class="string">"items"</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;items.length;i++){</span><br><span class="line">        <span class="comment">// 在事件的响应函数中，响应函数是给谁绑定的this就是谁</span></span><br><span class="line">        items[i].checked = <span class="built_in">this</span>.checked; </span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h3 id="items">items</h3>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> flag;</span><br><span class="line"><span class="keyword">var</span> items = <span class="built_in">document</span>.getElementsByName(<span class="string">"items"</span>);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;items.length;i++){</span><br><span class="line">    items[i].onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{</span><br><span class="line">        flag = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> j=<span class="number">0</span>;j&lt;items.length;j++){</span><br><span class="line">            <span class="keyword">if</span>(!items[j].checked){</span><br><span class="line">                flag = <span class="literal">false</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="built_in">document</span>.getElementById(<span class="string">"checkedAllBox"</span>).checked = flag;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong>效果</strong></p>
<p><img src="https://i.loli.net/2021/08/04/bGFQ2ZXTJDBwCAo.png" alt="image-20210804215409752"></p>
<p><img src="https://i.loli.net/2021/08/04/iHnB9SytKUFWw6V.png" alt="image-20210804215455471"></p>
<p><img src="https://i.loli.net/2021/08/04/HCpfRazkY3sEAcS.png" alt="image-20210804215513918"></p>
<h2 id="7、DOM查询的剩余方法">7、DOM查询的剩余方法</h2>
<h3 id="document-body">document.body</h3>
<p>在<code>document</code>中有一个属性<code>body</code>，它保存的是<code>body</code>的引用</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 注意：如果script标签是定义在head中的，则这里需要window.onload = function(){}包裹，否则会出现null的情况</span></span><br><span class="line"><span class="keyword">var</span> body = <span class="built_in">document</span>.getElementsByTagName(<span class="string">"body"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(body); <span class="comment">// HTMLCollection&nbsp;[body]</span></span><br><span class="line">body = <span class="built_in">document</span>.body;</span><br><span class="line"><span class="built_in">console</span>.log(body); <span class="comment">// &lt;body&gt;&lt;/body&gt;</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> body); <span class="comment">// object</span></span><br></pre></td></tr></tbody></table></figure>
<h3 id="document-documentElement">document.documentElement</h3>
<p><code>document.documentElement</code>保存的是<code>html</code>根标签</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> html = <span class="built_in">document</span>.documentElement;</span><br><span class="line"><span class="built_in">console</span>.log(html);</span><br></pre></td></tr></tbody></table></figure>
<h3 id="document-all">document.all</h3>
<p><code>document.all</code>代表页面中所有的元素</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> all = <span class="built_in">document</span>.all;</span><br><span class="line"><span class="built_in">console</span>.log(all); <span class="comment">// HTMLAllCollection(11)&nbsp;[html, head, meta, title, script, script, script, body, script, script, script]</span></span><br><span class="line"><span class="built_in">console</span>.log(all.length); <span class="comment">// 11</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> all); <span class="comment">// undefined</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;all.length;i++){</span><br><span class="line">    <span class="built_in">console</span>.log(all[i]);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> el = <span class="built_in">document</span>.getElementsByTagName(<span class="string">"*"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(el); <span class="comment">// HTMLCollection(11)&nbsp;[html, head, meta, title, script, script, script, body, script, script, script]</span></span><br><span class="line"><span class="built_in">console</span>.log(all.length); <span class="comment">// 11</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> all); <span class="comment">// undefined</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;el.length;i++){</span><br><span class="line">    <span class="built_in">console</span>.log(el[i]);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h3 id="document-getElementsByClassName">document.getElementsByClassName()</h3>
<p>根据元素的<code>class</code>属性值查询一组元素节点对象</p>
<p><code>getElementsByClassName()</code>可以根据<code>class</code>属性值获取一组元素节点对象，但是该方法不支持IE8及以下的浏览器</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> boxs = <span class="built_in">document</span>.getElementsByClassName(<span class="string">"box"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(boxs); <span class="comment">// HTMLCollection(3)&nbsp;[div.box, div.box, div.box]</span></span><br><span class="line"><span class="built_in">console</span>.log(boxs.length); <span class="comment">// 3</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> boxs); <span class="comment">// object</span></span><br></pre></td></tr></tbody></table></figure>
<h3 id="document-querySelector">document.querySelector()</h3>
<p>需要一个选择器的字符串作为参数，可以根据一个CSS选择器来查询一个元素节点对象</p>
<p>虽然IE8中没有<code>getElementsByClassName()</code>但是可以使用<code>querySelector()</code>代替</p>
<p>使用该方法总会返回唯一的一个元素，如果满足条件的元素有多个，那么它只会返回第一个</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> div = <span class="built_in">document</span>.querySelector(<span class="string">".box div"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(div.innerHTML); <span class="comment">// I'm first div.</span></span><br><span class="line">boxs = <span class="built_in">document</span>.querySelector(<span class="string">".box"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(boxs); </span><br><span class="line"><span class="comment">// &lt;div class="box"&gt;</span></span><br><span class="line"><span class="comment">// 		&lt;div&gt;I'm first div.&lt;/div&gt;</span></span><br><span class="line"><span class="comment">// &lt;/div&gt;</span></span><br></pre></td></tr></tbody></table></figure>
<h3 id="document-querySelectorAll">document.querySelectorAll()</h3>
<p>该方法和<code>querySelector()</code>用法类似，不的是它会将符合条件的元素封装到一个数组中返回</p>
<p>即使符合条件的元素只有一个，它也会返回数组</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">boxs = <span class="built_in">document</span>.querySelectorAll(<span class="string">".box"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(boxs); <span class="comment">// NodeList(3)&nbsp;[div.box, div.box, div.box]</span></span><br><span class="line"><span class="built_in">console</span>.log(boxs.length); <span class="comment">//3</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="8、DOM增删改">8、DOM增删改</h2>
<p><img src="https://i.loli.net/2021/08/04/Y4M79fLcsUFOHv1.png" alt="image-20210804215312180"></p>
<h3 id="document-createElement">document.createElement()</h3>
<p>可以用于创建一个元素节点对象，它需要一个标签名作为参数，将会根据该标签名创建元素节点对象，并将创建好的对象作为返回值返回</p>
<h3 id="document-createTextNode">document.createTextNode()</h3>
<p>可以用来创建一个文本节点对象，它需要一个文本内容作为参数，将会根据该内容创建文本节点，并将新的节点返回</p>
<h3 id="appendChild">appendChild()</h3>
<p>向一个父节点中添加一个新的子节点，用法：<code>父节点.appendChild(子节点);</code></p>
<h3 id="insertBefore">insertBefore()</h3>
<p>可以在指定的子节点前插入新的子节点，语法：<code>父节点.insertBefore(新节点, 旧节点);</code></p>
<h3 id="replaceChild">replaceChild()</h3>
<p>可以使用指定的子节点替换已有的子节点，语法：<code>父节点.replaceChild(新节点, 旧节点);</code></p>
<h3 id="removeChild">removeChild()</h3>
<p>可以删除一个子节点，语法：<code>父节点.removeChild(子节点);</code>、<code>子节点.parentNode.removeChild(子节点);</code></p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建一个"广州"节点,添加到#city下</span></span><br><span class="line"><span class="keyword">var</span> city = <span class="built_in">document</span>.getElementById(<span class="string">"city"</span>);</span><br><span class="line">myClick(<span class="string">"btn01"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{</span><br><span class="line">    <span class="comment">// 创建元素节点</span></span><br><span class="line">    <span class="keyword">var</span> li = <span class="built_in">document</span>.createElement(<span class="string">"li"</span>);</span><br><span class="line">    <span class="comment">// 创建文本节点</span></span><br><span class="line">    <span class="keyword">var</span> gz = <span class="built_in">document</span>.createTextNode(<span class="string">"广州"</span>);</span><br><span class="line">    <span class="comment">// 将文本节点添加到元素节点中</span></span><br><span class="line">    li.appendChild(gz);</span><br><span class="line">    <span class="comment">// 将元素节点添加至#city下</span></span><br><span class="line">    city.appendChild(li);</span><br><span class="line">});</span><br><span class="line"><span class="comment">// 将"广州"节点插入到#bj前面	</span></span><br><span class="line"><span class="keyword">var</span> bj = <span class="built_in">document</span>.getElementById(<span class="string">"bj"</span>);</span><br><span class="line">myClick(<span class="string">"btn02"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{</span><br><span class="line">    <span class="keyword">var</span> li = <span class="built_in">document</span>.createElement(<span class="string">"li"</span>);</span><br><span class="line">    <span class="keyword">var</span> gz = <span class="built_in">document</span>.createTextNode(<span class="string">"广州"</span>);</span><br><span class="line">    li.appendChild(gz);</span><br><span class="line">    <span class="comment">// 将元素节点插入到#bj前面</span></span><br><span class="line">    city.insertBefore(li,bj);</span><br><span class="line">});</span><br><span class="line"><span class="comment">// 使用"广州"节点替换#bj节点</span></span><br><span class="line">myClick(<span class="string">"btn03"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{</span><br><span class="line">    <span class="keyword">var</span> li = <span class="built_in">document</span>.createElement(<span class="string">"li"</span>);</span><br><span class="line">    <span class="keyword">var</span> gz = <span class="built_in">document</span>.createTextNode(<span class="string">"广州"</span>);</span><br><span class="line">    li.appendChild(gz);</span><br><span class="line">    <span class="comment">// 将元素节点替换#bj节点</span></span><br><span class="line">    city.replaceChild(li,bj);</span><br><span class="line">});</span><br><span class="line"><span class="comment">// 删除#bj节点</span></span><br><span class="line">myClick(<span class="string">"btn04"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{</span><br><span class="line">    <span class="comment">// 将元素节点替换#bj节点</span></span><br><span class="line">    <span class="comment">// city.removeChild(bj);</span></span><br><span class="line">    <span class="comment">// 更常用，不需要知道父节点是什么	</span></span><br><span class="line">    bj.parentNode.removeChild(bj);</span><br><span class="line">});</span><br><span class="line"><span class="comment">// 使用innerHTML将"广州"节点添加到#city下</span></span><br><span class="line">myClick(<span class="string">"btn07"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{</span><br><span class="line">    <span class="comment">// 使用innerHTML也可以完成DOM的增删改的相关操作</span></span><br><span class="line">    <span class="comment">// city.innerHTML += "&lt;li&gt;广州&lt;/li&gt;";</span></span><br><span class="line">    <span class="comment">// 不过这种方式会先删除再替换，耗费性能，所以一般我们会两种方式结合使用</span></span><br><span class="line">    <span class="keyword">var</span> li = <span class="built_in">document</span>.createElement(<span class="string">"li"</span>);</span><br><span class="line">    li.innerHTML = <span class="string">"广州"</span>;</span><br><span class="line">    city.appendChild(li);</span><br><span class="line">});</span><br></pre></td></tr></tbody></table></figure>
<h2 id="9、增删练习">9、增删练习</h2>
<p>准备</p>
<p><img src="https://i.loli.net/2021/08/05/8OeaRbZcf9YHAnG.png" alt="image-20210805221937924"></p>
<p>HTML代码</p>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">table</span> <span class="attr">id</span>=<span class="string">"employeeTable"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>Name<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>Email<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>Salary<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span><span class="symbol">&amp;nbsp;</span><span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>Tom<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>tom@tom.com<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>5000<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"deleteEmp?id=001"</span>&gt;</span>Delete<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>Jerry<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>jerry@sohu.com<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>8000<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"deleteEmp?id=002"</span>&gt;</span>Delete<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>Bob<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>bob@tom.com<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>10000<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"deleteEmp?id=003"</span>&gt;</span>Delete<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"formDiv"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h4</span>&gt;</span>添加新员工<span class="tag">&lt;/<span class="name">h4</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span> <span class="attr">class</span>=<span class="string">"word"</span>&gt;</span>name: <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span> <span class="attr">class</span>=<span class="string">"inp"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"empName"</span> <span class="attr">id</span>=<span class="string">"empName"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span> <span class="attr">class</span>=<span class="string">"word"</span>&gt;</span>email: <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span> <span class="attr">class</span>=<span class="string">"inp"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"email"</span> <span class="attr">id</span>=<span class="string">"email"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span> <span class="attr">class</span>=<span class="string">"word"</span>&gt;</span>salary: <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span> <span class="attr">class</span>=<span class="string">"inp"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"salary"</span> <span class="attr">id</span>=<span class="string">"salary"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span> <span class="attr">colspan</span>=<span class="string">"2"</span> <span class="attr">align</span>=<span class="string">"center"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"addEmpButton"</span> <span class="attr">value</span>=<span class="string">"abc"</span>&gt;</span></span><br><span class="line">                    Submit</span><br><span class="line">                <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>
<p>JS代码</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// a的单击相应函数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">delRow</span>(<span class="params"></span>) </span>{</span><br><span class="line">    <span class="comment">// 添加提示信息</span></span><br><span class="line">    grandPrentNode = <span class="built_in">this</span>.parentNode.parentNode;</span><br><span class="line">    <span class="keyword">var</span> name = grandPrentNode.children[<span class="number">0</span>].innerHTML;</span><br><span class="line">    <span class="keyword">if</span> (confirm(<span class="string">"确认删除"</span> + name + <span class="string">"吗？"</span>)) {</span><br><span class="line">        <span class="comment">// 删除祖先节点</span></span><br><span class="line">        grandPrentNode.parentNode.removeChild(grandPrentNode);</span><br><span class="line">    }</span><br><span class="line">    <span class="comment">// 点击超链接以后，超链接会跳转页面，这个是超链接的默认行为，</span></span><br><span class="line">    <span class="comment">// 但是此时我们不希望出现默认行为，可以通过在响应函数的最后return false来取消默认行为</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{</span><br><span class="line">    <span class="comment">// 1、删除</span></span><br><span class="line">    <span class="comment">// 为delete绑定单击相应函数</span></span><br><span class="line">    <span class="keyword">var</span> a;</span><br><span class="line">    <span class="keyword">var</span> grandPrentNode;</span><br><span class="line">    <span class="keyword">var</span> aList = <span class="built_in">document</span>.getElementsByTagName(<span class="string">"a"</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; aList.length; i++) {</span><br><span class="line">        aList[i].onclick = delRow;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2、添加</span></span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">"addEmpButton"</span>).onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{</span><br><span class="line">        <span class="comment">// 获取name/email/salary</span></span><br><span class="line">        <span class="keyword">var</span> empName = <span class="built_in">document</span>.getElementById(<span class="string">"empName"</span>).value;</span><br><span class="line">        <span class="keyword">var</span> email = <span class="built_in">document</span>.getElementById(<span class="string">"email"</span>).value;</span><br><span class="line">        <span class="keyword">var</span> salary = <span class="built_in">document</span>.getElementById(<span class="string">"salary"</span>).value;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 校验数据是否为空</span></span><br><span class="line">        <span class="keyword">if</span> (!empName || !email || !salary) {</span><br><span class="line">            alert(<span class="string">"有数据为空，无法添加！"</span>);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 创建文本节点</span></span><br><span class="line">        <span class="keyword">var</span> empName_text = <span class="built_in">document</span>.createTextNode(empName);</span><br><span class="line">        <span class="keyword">var</span> email_text = <span class="built_in">document</span>.createTextNode(email);</span><br><span class="line">        <span class="keyword">var</span> salary_text = <span class="built_in">document</span>.createTextNode(salary);</span><br><span class="line">        <span class="keyword">var</span> delete_text = <span class="built_in">document</span>.createTextNode(<span class="string">"Delete"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 创建元素节点</span></span><br><span class="line">        <span class="keyword">var</span> tr = <span class="built_in">document</span>.createElement(<span class="string">"tr"</span>);</span><br><span class="line">        <span class="keyword">var</span> empName_td = <span class="built_in">document</span>.createElement(<span class="string">"td"</span>);</span><br><span class="line">        <span class="keyword">var</span> email_td = <span class="built_in">document</span>.createElement(<span class="string">"td"</span>);</span><br><span class="line">        <span class="keyword">var</span> salary_td = <span class="built_in">document</span>.createElement(<span class="string">"td"</span>);</span><br><span class="line">        <span class="keyword">var</span> a_td = <span class="built_in">document</span>.createElement(<span class="string">"td"</span>);</span><br><span class="line">        <span class="keyword">var</span> a = <span class="built_in">document</span>.createElement(<span class="string">"a"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 添加内容</span></span><br><span class="line">        a.href = <span class="string">"javascript:;"</span>;</span><br><span class="line">        a.onclick = delRow;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 添加子节点</span></span><br><span class="line">        empName_td.appendChild(empName_text);</span><br><span class="line">        email_td.appendChild(email_text);</span><br><span class="line">        salary_td.appendChild(salary_text);</span><br><span class="line">        a.appendChild(delete_text);</span><br><span class="line">        a_td.appendChild(a);</span><br><span class="line">        tr.appendChild(empName_td);</span><br><span class="line">        tr.appendChild(email_td);</span><br><span class="line">        tr.appendChild(salary_td);</span><br><span class="line">        tr.appendChild(a_td);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 将tr添加至table中</span></span><br><span class="line">        <span class="comment">// document.getElementById("employeeTable").appendChild(tr);</span></span><br><span class="line">        <span class="comment">// 注意：浏览器生成的table结构会在内部套一层tbody，为了以防万一，也为了结构一致性和样式一致性，应该将其添加至tbody中</span></span><br><span class="line">        <span class="keyword">var</span> employeeTable = <span class="built_in">document</span>.getElementById(<span class="string">"employeeTable"</span>);</span><br><span class="line">        <span class="keyword">var</span> tbody = employeeTable.getElementsByTagName(<span class="string">"tbody"</span>)[<span class="number">0</span>];</span><br><span class="line">        tbody.appendChild(tr);</span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure>
<p><strong>添加优化</strong></p>
<p>结合<code>createElement</code>和<code>innerHTML</code>，优化修改上述添加代码逻辑</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">"addEmpButton"</span>).onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{</span><br><span class="line">    <span class="comment">// 获取name/email/salary</span></span><br><span class="line">    <span class="keyword">var</span> empName = <span class="built_in">document</span>.getElementById(<span class="string">"empName"</span>).value;</span><br><span class="line">    <span class="keyword">var</span> email = <span class="built_in">document</span>.getElementById(<span class="string">"email"</span>).value;</span><br><span class="line">    <span class="keyword">var</span> salary = <span class="built_in">document</span>.getElementById(<span class="string">"salary"</span>).value;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 校验数据是否为空</span></span><br><span class="line">    <span class="keyword">if</span> (!empName || !email || !salary) {</span><br><span class="line">        alert(<span class="string">"有数据为空，无法添加！"</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 创建元素节点</span></span><br><span class="line">    <span class="keyword">var</span> tr = <span class="built_in">document</span>.createElement(<span class="string">"tr"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 添加子节点</span></span><br><span class="line">    <span class="keyword">var</span> empNameTd = <span class="string">"&lt;td&gt;"</span> + empName + <span class="string">"&lt;/td&gt;"</span>;</span><br><span class="line">    <span class="keyword">var</span> emailTd = <span class="string">"&lt;td&gt;"</span> + email + <span class="string">"&lt;/td&gt;"</span>;</span><br><span class="line">    <span class="keyword">var</span> salaryTd = <span class="string">"&lt;td&gt;"</span> + salary + <span class="string">"&lt;/td&gt;"</span>;</span><br><span class="line">    <span class="keyword">var</span> aTd = <span class="string">"&lt;td&gt;&lt;a href=\"javascript:;\"&gt;Delete&lt;/a&gt;&lt;/td&gt;"</span>;</span><br><span class="line">    tr.innerHTML = empNameTd + emailTd + salaryTd + aTd;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 为a绑定单击相应函数</span></span><br><span class="line">    tr.getElementsByTagName(<span class="string">"a"</span>)[<span class="number">0</span>].onclick = delRow;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 将tr添加至table中</span></span><br><span class="line">    <span class="comment">// document.getElementById("employeeTable").appendChild(tr);</span></span><br><span class="line">    <span class="comment">// 注意：浏览器生成的table结构会在内部套一层tbody，为了以防万一，也为了结构一致性和样式一致性，应该将其添加至tbody中</span></span><br><span class="line">    <span class="keyword">var</span> employeeTable = <span class="built_in">document</span>.getElementById(<span class="string">"employeeTable"</span>);</span><br><span class="line">    <span class="keyword">var</span> tbody = employeeTable.getElementsByTagName(<span class="string">"tbody"</span>)[<span class="number">0</span>];</span><br><span class="line">    tbody.appendChild(tr);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h3 id="a的索引问题">a的索引问题</h3>
<p>上述中，我们为每个a都添加了单击响应函数，使用了<code>this</code>获取遍历中的a元素，通过<code>this.parentNode.parentNode</code>获取了 tr 元素，如果这里改成<code>aList[i].parentNode.parentNode</code>，能够拿到 tr 元素吗？</p>
<p>看起来好像毫无悬念，但实际上是拿不到的，这是为什么呢？</p>
<p>我们可以改造下 for 循环中 a 元素的单击相应函数，打印下每次拿到的 i</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; aList.length; i++) {</span><br><span class="line">    aList[i].onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{</span><br><span class="line">        alert(i);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    };</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><img src="https://i.loli.net/2021/08/06/Fmon6jlH4q8hQiv.png" alt="image-20210806192603271"></p>
<p>会发现，每次打印的结果都是3，而 aList 的长度为3最大索引是2</p>
<p>原因其实很简单，因为单击相应函数的执行是晚于 for 循环的执行的。也就是说，我们在点击 Delete 前，for 循环就已经执行完毕了。即当 i=2 的循环执行之后，会执行 i++，此时 i=3，这是循环条件判断 i ≮ 2，即不满足循环条件，for 循环退出。所以每次拿到的都是 for 循环执行完毕之后的 i，因此通过 aList[i] 的方式是无法取得对应的 a 元素的</p>
<p><strong>总结：</strong> for 循环会在页面加载完成之后立即执行，而响应函数会在超链接被点击时才执行当响应函数执行时，for 循环早已执行完毕</p>
<h2 id="10、操作内联样式">10、操作内联样式</h2>
<h3 id="修改元素内联样式">修改元素内联样式</h3>
<p>通过JS修改元素的内联样式，语法：<code>元素.style.样式名 = 样式值</code></p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">box1.style.height = <span class="string">"200px"</span>;</span><br><span class="line">box1.style.width = <span class="string">"200px"</span>;</span><br></pre></td></tr></tbody></table></figure>
<p>注意：如果CSS的样式名中含有一，这种名称在JS中是不合法的，比如<code>background-color</code></p>
<p>需要将这种样式名修改为驼峰命名法，去掉<code>-</code>，然后将<code>-</code>后的字母大写</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// box1.style.background-color = "red"; // Uncaught SyntaxError: Invalid left-hand side in assignment</span></span><br><span class="line">box1.style.backgroundColor = <span class="string">"red"</span>;</span><br></pre></td></tr></tbody></table></figure>
<p>在 w3school 手册中，可以查看到每个样式所对应的 JS 代码</p>
<p><img src="https://i.loli.net/2021/08/06/bcRK8VFLQ5fSOlj.png" alt="image-20210806194738937"></p>
<p><img src="https://i.loli.net/2021/08/06/7nUasCtqkbDgwxM.png" alt="image-20210806194643089"></p>
<p>我们通过 style 属性设置的样式都是内联样式，而内联样式有较高的优先级，所以通过JS修改的样式往往会立即显示</p>
<p>但是如果在样式中写了<code>!important</code>，则此时样式会有最高的优先级，即使通过JS也不能覆盖该样式，此时将会导致JS修改样式失效，所以尽量不要为样式添加<code>!important</code></p>
<p>我们给 <code>background-color</code>设置<code>!important</code>之后，通过 <code>box1.style.backgroundColor = "red";</code>设置的样式就“废”了</p>
<figure class="highlight css"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">background-color</span>: <span class="selector-tag">yellow</span> !<span class="selector-tag">important</span>;</span><br></pre></td></tr></tbody></table></figure>
<p><img src="https://i.loli.net/2021/08/06/9uAOK8i1JtWfVY4.gif" alt="操作内联样式"></p>
<h3 id="读取元素内联样式">读取元素内联样式</h3>
<p>通过 JS 读取元素的内联样式，语法：元素.style.样式名</p>
<p>通过style属性设置和读取的都是内联样式，无法读取样式表中的样式</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">alert(box1.style.height); <span class="comment">// </span></span><br><span class="line">box1.style.height = <span class="string">"200px"</span>;</span><br><span class="line">alert(box1.style.height); <span class="comment">// 200px</span></span><br></pre></td></tr></tbody></table></figure>
<p><img src="https://i.loli.net/2021/08/06/y6utzGF75bedpVQ.jpg" alt="img"></p>
<p>别急，耐心往下看</p>
<h3 id="读取元素样式">读取元素样式</h3>
<p>获取元素的当前显示的样式，语法：<code>元素.currentStyle.样式名</code></p>
<p>它可以用来读取当前元素正在显示的样式，如果当前元素没有设置该样式，则获取它的默认值</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">alert(box1.currentStyle.height); <span class="comment">// 100px</span></span><br><span class="line">box1.style.height = <span class="string">"200px"</span>;</span><br><span class="line">alert(box1.currentStyle.height); <span class="comment">// 200px</span></span><br></pre></td></tr></tbody></table></figure>
<p>不过<code>currentstyle</code>只有 IE 浏览器支持，其他的浏览器都不支持。我们在 IE 中测试是可行的，在 Chrome 或 Edge 中报错的：<code>UncaughtTypeError: Cannot read property 'height' of undefined</code></p>
<p><img src="https://i.loli.net/2021/08/06/N7jGRhYzBolMnQ5.jpg" alt="img"></p>
<p>不过，在其他浏览器中可以使用<code>getComputedStyle()</code>，这个方法来获取元素当前的样式</p>
<p>这个方法是<code>window</code>的方法，可以直接使用，需要两个参数</p>
<ul>
<li>第一个：要获取样式的元素</li>
<li>第二个：可以传递一个伪元素，一般都传<code>null</code></li>
</ul>
<p>该方法会返回一个对象，对象中封装了当前元素对应的样式</p>
<p>可以通过<code>对象.样式名</code>来读取样式，如果获取的样式没有设置，则会获取到真实的值，而不是默认值</p>
<p>比如：没有设置 width，它不会获取到 auto，而是一个长度</p>
<p>但是该方法不支持IE8及以下的浏览器</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = getComputedStyle(box1, <span class="literal">null</span>);</span><br><span class="line">alert(obj); <span class="comment">// [object CSSStyleDeclaration]</span></span><br><span class="line">alert(obj.width); <span class="comment">// 200px</span></span><br><span class="line">alert(obj.height); <span class="comment">// 200px</span></span><br><span class="line">alert(obj.backgroundColor); <span class="comment">// rgb(2  55, 0, 0)</span></span><br></pre></td></tr></tbody></table></figure>
<p>那么问题来了，如果想要兼容IE8及以下的浏览器，就会陷入一个两难的境地，  该怎么办呢？</p>
<p><img src="https://i.loli.net/2021/08/06/5El4riGYOwX27dP.jpg" alt="img"></p>
<p>通过<code>currentStyle</code>和<code>getComputedStyle()</code>读取到的样式都是只读的，不能修改，如果要修改必须通过<code>style</code>属性</p>
<p>那么我就只能自己写个函数，来兼容所有浏览器</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 自定义兼容所有浏览器获取元素样式的方法</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getStyle</span>(<span class="params">obj, name</span>) </span>{</span><br><span class="line">    <span class="comment">// 判断是否有getComputedStyle方法</span></span><br><span class="line">    <span class="keyword">if</span> (getComputedStyle) {</span><br><span class="line">        <span class="comment">// 正常浏览器的方式</span></span><br><span class="line">        <span class="keyword">return</span> getComputedStyle(obj, <span class="literal">null</span>)[name];</span><br><span class="line">    } <span class="keyword">else</span> {</span><br><span class="line">        <span class="comment">// IE的方式</span></span><br><span class="line">        <span class="keyword">return</span> obj.currentStyle[name];</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong>测试结果</strong></p>
<p>Hbuilder内置浏览器</p>
<p><img src="https://i.loli.net/2021/08/06/PJ6KxF2CRUEjIq8.png" alt="image-20210806204815473"></p>
<p>Chrome</p>
<p><img src="https://i.loli.net/2021/08/06/uvROB1ZPI3fCaxj.png" alt="image-20210806204840431"></p>
<p>Edge</p>
<p><img src="https://i.loli.net/2021/08/06/tlJ4aE3usF7QNvO.png" alt="image-20210806204741700"></p>
<p>IE11</p>
<p><img src="https://i.loli.net/2021/08/06/ZptIuNWGfTkDnbF.png" alt="image-20210806204937646"></p>
<p>IE8</p>
<p><img src="https://i.loli.net/2021/08/06/psYWF3LdmOQCrUh.png" alt="image-20210806204535471"></p>
<p>怎么 IE8 还是不行，提示<code>“getComputedStyle”未定义</code>？</p>
<p>这是因为执行到 if 语句时，会先在 function 中找，找不到会在全局作用域中找，全局作用域中也找不到<code>getComputedStyle</code>，就会报错了</p>
<p>那么怎么解决这个问题呢？</p>
<p>我们先改造一下 function 代码，将<code>getComputedStyle</code>改成<code>window.getComputedStyle</code></p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getStyle</span>(<span class="params">obj, name</span>) </span>{</span><br><span class="line">    <span class="comment">// 判断是否有getComputedStyle方法</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">window</span>.getComputedStyle) {</span><br><span class="line">        <span class="comment">// 正常浏览器的方式</span></span><br><span class="line">        <span class="keyword">return</span> getComputedStyle(obj, <span class="literal">null</span>)[name];</span><br><span class="line">    } <span class="keyword">else</span> {</span><br><span class="line">        <span class="comment">// IE的方式</span></span><br><span class="line">        <span class="keyword">return</span> obj.currentStyle[name];</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong>效果</strong></p>
<p><img src="https://i.loli.net/2021/08/06/UK3YOW4pHvoRb1q.png" alt="image-20210806205500790"></p>
<p>为什么呢？</p>
<p>因为变量找不到会报错，而属性找不到返回的是<code>undefined</code>而不会报错，这样就可以利用<code>undefined != true</code>的特点，执行 else 中的代码</p>
<p>同理，下面代码同样可以判断，只不过，会优先走<code>currentStyle</code>的方式，而我们希望的优先走<code>getComputedStyle</code>方法，所以不建议用</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getStyle</span>(<span class="params">obj, name</span>) </span>{</span><br><span class="line">    <span class="comment">// 判断是否有currentStyle属性</span></span><br><span class="line">    <span class="keyword">if</span> (obj.currentStyle) {</span><br><span class="line">        <span class="comment">// IE的方式</span></span><br><span class="line">        <span class="keyword">return</span> obj.currentStyle[name];</span><br><span class="line">    } <span class="keyword">else</span> {</span><br><span class="line">        <span class="comment">// 正常浏览器的方式</span></span><br><span class="line">        <span class="keyword">return</span> getComputedStyle(obj, <span class="literal">null</span>)[name];</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p>那么上述代码有没有优化或者说简化的空间呢？当然，我们可以使用三元运算符对其进行精简</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getStyle</span>(<span class="params">obj, name</span>) </span>{</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">window</span>.getComputedStyle ? getComputedStyle(obj, <span class="literal">null</span>)[name] : obj.currentStyle[name];</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p>三元运算符更加简洁，if-else 的方式更加清晰，建议使用 if-else 的方式，不过本质上是一样的，看个人习惯</p>
<h2 id="11、其他样式相关的属性">11、其他样式相关的属性</h2>
<p><img src="https://i.loli.net/2021/08/06/WC2ob7rpFlPDYZB.png" alt="image-20210806214629582"></p>
<h3 id="clientWidth、clientHeight">clientWidth、clientHeight</h3>
<p>这两个属性可以获取元素的可见宽度和高度</p>
<p>这些属性都是不带<code>px</code>的，返回都是一个数字，可以直接进行计算</p>
<p>会获取元素宽度和高度，包括内容区和内边距</p>
<p>这些属性都是只读的，不能修改（改只有一种方式，就是通过<code>元素.style.样式 = 样式值</code>）</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// #box1 {</span></span><br><span class="line"><span class="comment">// 	width: 100px;</span></span><br><span class="line"><span class="comment">// 	height: 100px;</span></span><br><span class="line"><span class="comment">// 	background-color: red;</span></span><br><span class="line"><span class="comment">// 	padding: 10px;</span></span><br><span class="line"><span class="comment">// 	border: 10px solid yellow;</span></span><br><span class="line"><span class="comment">// }</span></span><br><span class="line">alert(box1.clientHeight); <span class="comment">// 120</span></span><br><span class="line">alert(box1.clientWidth); <span class="comment">// 120</span></span><br></pre></td></tr></tbody></table></figure>
<h3 id="offsetWidth、offsetHeight">offsetWidth、offsetHeight</h3>
<p>获取元素的整个的宽度和高度，包括内容区、内边距和边框</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// #box1 {</span></span><br><span class="line"><span class="comment">// 	width: 100px;</span></span><br><span class="line"><span class="comment">// 	height: 100px;</span></span><br><span class="line"><span class="comment">// 	background-color: red;</span></span><br><span class="line"><span class="comment">// 	padding: 10px;</span></span><br><span class="line"><span class="comment">// 	border: 10px solid yellow;</span></span><br><span class="line"><span class="comment">// }</span></span><br><span class="line">alert(box1.offsetHeight); <span class="comment">// 140</span></span><br><span class="line">alert(box1.offsetWidth); <span class="comment">// 140</span></span><br></pre></td></tr></tbody></table></figure>
<h3 id="offsetParent">offsetParent</h3>
<p>可以用来获取当前元素的定位父元素</p>
<p>会获取到离当前元素最近的开启了定位（只要<code>position</code>不是<code>sticky</code>）的祖先元素</p>
<p>如果所有的祖先元素都没有开启定位，则返回<code>body</code></p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// &lt;div id="box1"&gt;&lt;/div&gt;</span></span><br><span class="line">alert(box1.offsetParent); <span class="comment">// [object HTMLBodyElement]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// &lt;div id="box2"&gt;</span></span><br><span class="line"><span class="comment">//     &lt;div id="box1"&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="comment">// &lt;/div&gt;</span></span><br><span class="line">alert(box1.offsetParent); <span class="comment">// [object HTMLBodyElement]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//&lt;div id="box3"&gt;</span></span><br><span class="line"><span class="comment">//	&lt;div id="box2"&gt;</span></span><br><span class="line"><span class="comment">//		&lt;div id="box1"&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="comment">//	&lt;/div&gt;</span></span><br><span class="line"><span class="comment">//&lt;/div&gt;</span></span><br><span class="line">alert(box1.offsetParent); <span class="comment">// [object HTMLBodyElement]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//&lt;div id="box3" style="position: relative;"&gt;</span></span><br><span class="line"><span class="comment">//	&lt;div id="box2" style="position: relative;"&gt;</span></span><br><span class="line"><span class="comment">//		&lt;div id="box1"&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="comment">//	&lt;/div&gt;</span></span><br><span class="line"><span class="comment">//&lt;/div&gt;</span></span><br><span class="line">alert(box1.offsetParent); <span class="comment">// [object HTMLDivElement]</span></span><br><span class="line">alert(box1.offsetParent.id); <span class="comment">// box2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//&lt;div id="box3" style="position: relative;"&gt;</span></span><br><span class="line"><span class="comment">//	&lt;div id="box2"&gt;</span></span><br><span class="line"><span class="comment">//		&lt;div id="box1"&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="comment">//	&lt;/div&gt;</span></span><br><span class="line"><span class="comment">//&lt;/div&gt;</span></span><br><span class="line">alert(box1.offsetParent); <span class="comment">// [object HTMLDivElement]</span></span><br><span class="line">alert(box1.offsetParent.id); <span class="comment">// box3</span></span><br></pre></td></tr></tbody></table></figure>
<h3 id="offsetLeft、offsetTop">offsetLeft、offsetTop</h3>
<p>当前元素相对于其定位父元素的水平或垂直偏移量</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//&lt;div id="box3"&gt;</span></span><br><span class="line"><span class="comment">//	&lt;div id="box2"&gt;</span></span><br><span class="line"><span class="comment">//		&lt;div id="box1"&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="comment">//	&lt;/div&gt;</span></span><br><span class="line"><span class="comment">//&lt;/div&gt;</span></span><br><span class="line">alert(box1.offsetLeft); <span class="comment">// 8  浏览器的默认样式</span></span><br><span class="line">alert(box1.offsetTop); <span class="comment">// 54</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//&lt;div id="box3"&gt;</span></span><br><span class="line"><span class="comment">//	&lt;div id="box2" style="position: relative;"&gt;</span></span><br><span class="line"><span class="comment">//		&lt;div id="box1"&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="comment">//	&lt;/div&gt;</span></span><br><span class="line"><span class="comment">//&lt;/div&gt;</span></span><br><span class="line">alert(box1.offsetLeft); <span class="comment">// 0</span></span><br><span class="line">alert(box1.offsetTop); <span class="comment">// 0</span></span><br></pre></td></tr></tbody></table></figure>
<p><img src="https://i.loli.net/2021/08/06/BsWbShFaAutMG5C.png" alt="image-20210806215118948"></p>
<h3 id="scrollHeight、scrollWidth">scrollHeight、scrollWidth</h3>
<p>可以获取元素整个滚动区域的宽度和高度</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// #box4 {</span></span><br><span class="line"><span class="comment">// 	width: 200px;</span></span><br><span class="line"><span class="comment">// 	height: 300px;</span></span><br><span class="line"><span class="comment">// 	background-color: yellow;</span></span><br><span class="line"><span class="comment">// 	overflow: auto;</span></span><br><span class="line"><span class="comment">// }</span></span><br><span class="line"><span class="comment">// #box5 {</span></span><br><span class="line"><span class="comment">// 	width: 400px;</span></span><br><span class="line"><span class="comment">// 	height: 600px;</span></span><br><span class="line"><span class="comment">// 	background-color: #bfa;</span></span><br><span class="line"><span class="comment">// }</span></span><br><span class="line">alert(box4.scrollHeight); <span class="comment">// 600</span></span><br><span class="line">alert(box4.scrollWidth); <span class="comment">// 400</span></span><br></pre></td></tr></tbody></table></figure>
<h3 id="scrollLeft、scrollTop">scrollLeft、scrollTop</h3>
<p>可以获取水平或垂直滚动条滚动的距离</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// #box4 {</span></span><br><span class="line"><span class="comment">// 	width: 200px;</span></span><br><span class="line"><span class="comment">// 	height: 300px;</span></span><br><span class="line"><span class="comment">// 	background-color: yellow;</span></span><br><span class="line"><span class="comment">// 	overflow: auto;</span></span><br><span class="line"><span class="comment">// }</span></span><br><span class="line"><span class="comment">// #box5 {</span></span><br><span class="line"><span class="comment">// 	width: 400px;</span></span><br><span class="line"><span class="comment">// 	height: 600px;</span></span><br><span class="line"><span class="comment">// 	background-color: #bfa;</span></span><br><span class="line"><span class="comment">// }</span></span><br><span class="line">alert(box4.scrollLeft); <span class="comment">// 0/71.19999694824219/92/... 随着水平滚动条滚动而发生变化</span></span><br><span class="line">alert(box4.scrollTop); <span class="comment">// 0/163.1999969482422/116/... 随着垂直滚动条滚动而发生变化</span></span><br></pre></td></tr></tbody></table></figure>
<p>看这么一个问题，打印如下值，将水平和垂直滚动条滚动到底</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">alert(box4.clientHeight + <span class="string">", "</span> + (box4.scrollHeight - box4.scrollTop)); <span class="comment">// 283, 283.20001220703125</span></span><br><span class="line">alert(box4.clientWidth + <span class="string">", "</span> + (box4.scrollWidth - box4.scrollLeft)); <span class="comment">// 183, 183.1999969482422</span></span><br></pre></td></tr></tbody></table></figure>
<p>PS：我这里打印的结果存在小数点，不知为何</p>
<ul>
<li>当满足<code>scrollHeight - scrollTop == clientHeight</code>，说明垂直滚动条滚动到底了</li>
<li>当满足<code>scrollWidth - scrollLeft == clientwidth</code>，说明水平滚动条滚动到底</li>
</ul>
<p>那么这个原理有什么用呢？</p>
<p><s>爱到底到底，管我什么事</s> 有些网站注册时会有一个 <s>霸王条款</s> 用户协议，要确保用户阅读协议了，才允许注册。那问题来了，怎么确保用户阅读了协议呢？就是利用了上述原理，当滚动条拖至最底部时，就可以注册了。</p>
<p>那么接下来，我们就做一个 <s>霸王条款</s> 用户协议</p>
<p><strong>练习</strong></p>
<p>HTML 代码</p>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"outer"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>亲爱的用户，欢迎注册本网站<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">"info"</span>&gt;</span></span><br><span class="line">        亲爱的用户，请仔细阅读以下协议，如果你不仔细阅读你就别注册</span><br><span class="line">        此处省略一万字。。。</span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"checkDiv"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">name</span>=<span class="string">"checkInput"</span> <span class="attr">value</span>=<span class="string">"1"</span> <span class="attr">id</span>=<span class="string">"checkInput"</span> <span class="attr">disabled</span>=<span class="string">"disabled"</span> /&gt;</span>我已仔细阅读协议，一定遵守</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"submitDiv"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">id</span>=<span class="string">"submitInput"</span> <span class="attr">disabled</span>=<span class="string">"disabled"</span> <span class="attr">value</span>=<span class="string">"注册"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>
<p>CSS 代码</p>
<figure class="highlight css"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#outer</span> {</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">500px</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#outer</span>,</span><br><span class="line"><span class="selector-tag">h3</span>,</span><br><span class="line"><span class="selector-id">#checkDiv</span>,</span><br><span class="line"><span class="selector-id">#submitDiv</span>,</span><br><span class="line"><span class="selector-id">#submitInput</span> {</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">10px</span> auto;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#checkDiv</span> {</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">250px</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#submitInput</span> {</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#info</span> {</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">600px</span>;</span><br><span class="line">    <span class="attribute">overflow</span>: auto;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p>JS 代码</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 为滚动条绑定事件，就是为有滚动条的元素绑定事件</span></span><br><span class="line"><span class="keyword">var</span> info = <span class="built_in">document</span>.getElementById(<span class="string">"info"</span>);</span><br><span class="line"><span class="keyword">var</span> checkInput = <span class="built_in">document</span>.getElementById(<span class="string">"checkInput"</span>);</span><br><span class="line"><span class="keyword">var</span> submitInput = <span class="built_in">document</span>.getElementById(<span class="string">"submitInput"</span>);</span><br><span class="line">info.onscroll = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{</span><br><span class="line">    <span class="comment">// 当滚动条滚动到底时，启用并自动勾选协议，并启用注册按钮</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">parseInt</span>(info.scrollHeight - info.scrollTop) == <span class="built_in">parseInt</span>(info.clientHeight)) {</span><br><span class="line">        <span class="comment">// 自动勾选协议</span></span><br><span class="line">        checkInput.disabled = <span class="literal">false</span>;</span><br><span class="line">        checkInput.checked = <span class="literal">true</span>;</span><br><span class="line">        <span class="comment">// 启用注册按钮</span></span><br><span class="line">        submitInput.disabled = <span class="literal">false</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"><span class="comment">// 为checkInput绑定勾选响应事件</span></span><br><span class="line">checkInput.onclick = <span class="function"><span class="keyword">function</span>(<span class="params">ret</span>) </span>{</span><br><span class="line">    <span class="comment">// 如果勾选了协议，则启用注册按钮，否则禁用注册按钮</span></span><br><span class="line">    <span class="keyword">if</span> (!checkInput.checked) {</span><br><span class="line">        submitInput.disabled = <span class="literal">true</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">else</span>{</span><br><span class="line">        submitInput.disabled = <span class="literal">false</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"><span class="comment">// 为submit绑定单击响应函数</span></span><br><span class="line">submitInput.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{</span><br><span class="line">    <span class="keyword">if</span>(confirm(<span class="string">"确认注册吗？"</span>)){</span><br><span class="line">        alert(<span class="string">"注册成功"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong>效果</strong></p>
<p><img src="https://i.loli.net/2021/08/06/KEq4XPeBnOxSFUs.gif" alt="协议注册"></p>
<h1 id="事件对象">事件对象</h1>
<h2 id="1、事件对象">1、事件对象</h2>
<p><strong>&lt;前情提要&gt;</strong></p>
<h3 id="事件对象-2">事件对象</h3>
<ul>
<li>当事件的响应函数被触发时，浏览器每次都会将一个事件对象作为实参传递进响应函数</li>
<li>在事件对象中封装了当前事件相关的一切信息，比如：鼠标的坐标、键盘哪个按键被按下、鼠标滚轮滚动的方向。。。</li>
</ul>
<h3 id="事件属性">事件属性</h3>
<p><img src="https://i.loli.net/2021/08/07/S6DFxRmHP913Wpf.png" alt="image-20210807213954253"></p>
<h3 id="鼠标-键盘属性">鼠标/键盘属性</h3>
<p><img src="https://i.loli.net/2021/08/07/3dX4fLwNvPOQTqt.png" alt="image-20210807214712717"></p>
<p><strong>&lt;练习1：当鼠标在areaDiv中移动时，在showMsg中来显示鼠标的坐标&gt;</strong></p>
<p>HTML 代码</p>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"areaDiv"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"showMsg"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>
<p>CSS 代码</p>
<figure class="highlight css"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#areaDiv</span> {</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid black;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">50px</span>;</span><br><span class="line">    <span class="attribute">margin-bottom</span>: <span class="number">10px</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#showMsg</span> {</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid black;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">20px</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p>JS 代码</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> areaDiv = <span class="built_in">document</span>.getElementById(<span class="string">"areaDiv"</span>);</span><br><span class="line"><span class="keyword">var</span> showMsg = <span class="built_in">document</span>.getElementById(<span class="string">"showMsg"</span>);</span><br><span class="line"><span class="comment">// 绑定鼠标移动事件</span></span><br><span class="line">areaDiv.onmousemove = <span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>{</span><br><span class="line">    <span class="built_in">console</span>.log(event); <span class="comment">// IE8：undefined</span></span><br><span class="line">    <span class="comment">// clientX可以获取鼠标指针的水平坐标</span></span><br><span class="line">    <span class="comment">// cilentY可以获取鼠标指针的垂直坐标</span></span><br><span class="line">    <span class="keyword">var</span> x = event.clientX;</span><br><span class="line">    <span class="keyword">var</span> y = event.clientY;</span><br><span class="line">    showMsg.innerHTML = <span class="string">"x = "</span> + x + <span class="string">", y = "</span> + y;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong>效果</strong></p>
<p>内置浏览器</p>
<p><img src="https://i.loli.net/2021/08/07/xajWs52P6ucgeJT.png" alt="image-20210807215044666"></p>
<p>Chrome</p>
<p><img src="https://i.loli.net/2021/08/07/CTeUYOWwtb7nrud.png" alt="image-20210807215134476"></p>
<p>Edge</p>
<p><img src="https://i.loli.net/2021/08/07/w1GrToFaup4YHqM.png" alt="image-20210807215203532"></p>
<p>IE11</p>
<p><img src="https://i.loli.net/2021/08/07/y6OYWJ8px4GXstB.png" alt="image-20210807215256351"></p>
<p>IE8</p>
<p><img src="https://i.loli.net/2021/08/07/KigLWZhxl8HmRGe.png" alt="image-20210807215328802"></p>
<p>在IE8中，响应函数被触发时，浏览器不会传递事件对象</p>
<p>在IE8及以下的浏览器中，是将事件对象作为<code>window</code>对象的属性保存的</p>
<p>那么按照之前学习到的思路，我们可以对其进行兼容性改造</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x;</span><br><span class="line"><span class="keyword">var</span> y;</span><br><span class="line"><span class="keyword">if</span> (event) {</span><br><span class="line">    x = event.clientX;</span><br><span class="line">    y = event.clientY;</span><br><span class="line">}</span><br><span class="line"><span class="keyword">else</span>{</span><br><span class="line">    x = <span class="built_in">window</span>.event.clientX;</span><br><span class="line">    y = <span class="built_in">window</span>.event.clientY;</span><br><span class="line">}</span><br><span class="line">showMsg.innerHTML = <span class="string">"x = "</span> + x + <span class="string">", y = "</span> + y;</span><br></pre></td></tr></tbody></table></figure>
<p>IE8测试</p>
<p><img src="https://i.loli.net/2021/08/07/NR8kW6rnpIDGJ7t.png" alt="image-20210807215801842"></p>
<p>感觉上述代码不优雅，对上述代码进行二次改造</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//if (!event) {</span></span><br><span class="line"><span class="comment">//    event = window.event;</span></span><br><span class="line"><span class="comment">//}</span></span><br><span class="line">event = event || <span class="built_in">window</span>.event;</span><br><span class="line"><span class="keyword">var</span> x = event.clientX;</span><br><span class="line"><span class="keyword">var</span> y = event.clientY;</span><br></pre></td></tr></tbody></table></figure>
<p><strong>&lt;练习2：div跟随鼠标移动&gt;</strong></p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 兼容性写法</span></span><br><span class="line">event = event || <span class="built_in">window</span>.event;</span><br><span class="line"><span class="keyword">var</span> left = event.clientX;</span><br><span class="line"><span class="keyword">var</span> top = event.clientY;</span><br><span class="line"><span class="comment">// div随鼠标移动，注意style属性是有单位的</span></span><br><span class="line">box1.style.left = (left - box1.clientWidth / <span class="number">2</span>) + <span class="string">"px"</span>;</span><br><span class="line">box1.style.top = (top - box1.clientHeight / <span class="number">2</span>) + <span class="string">"px"</span>;</span><br></pre></td></tr></tbody></table></figure>
<p><img src="https://i.loli.net/2021/08/07/IUmfarCg3ijND9W.gif" alt="div随鼠标移动"></p>
<p>但是，当我们给body设置一个较大<code>height</code>属性值时，会发现一个问题，就是鼠标指针与 div 之间存在一定距离</p>
<p><img src="https://i.loli.net/2021/08/07/a5GtzE2NSebVjOq.gif" alt="div随鼠标移动2"></p>
<p>这是为什么呢？</p>
<ul>
<li><code>clientX</code>和<code>clientY</code>用于获取鼠标在当前的可见窗口的坐标 div 的偏移量，是相对于整个页面的</li>
<li><code>pageX</code>和<code>pageY</code>可以获取鼠标相对于当前页面的坐标，但是这个两个属性在IE8中不支持，所以如果需要兼容IE8，则不要使用</li>
</ul>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> left = event.pageX;</span><br><span class="line"><span class="keyword">var</span> top = event.pageY;</span><br></pre></td></tr></tbody></table></figure>
<p>再试下效果</p>
<p><img src="https://i.loli.net/2021/08/07/hFubIlnwO5drqgS.gif" alt="div随鼠标移动3"></p>
<p>貌似好了哈，那直接测试下 IE8？</p>
<p><img src="https://i.loli.net/2021/08/07/jl4gdbSV8TDOzYW.png" alt="image-20210807233339306"></p>
<p>这要怎么办？</p>
<p>我们现在给 body 设置了一个<code>height</code>，红色框表示可见区域大小，蓝色框表示 body 的实际区域大小</p>
<p><img src="https://i.loli.net/2021/08/07/cQRxbYMKBfoei2L.png" alt="image-20210807233458455"></p>
<p>既然我们没办法使用<code>pageX</code>和<code>pageY</code>兼容IE8，那暂时只能使用<code>clientX</code>和<code>clientY</code>了，而<code>clientX</code>和<code>clientY</code>是按照可见区域大小计算的，那让 div 的水平和垂直偏移量也按照可见区域大小计算不就行了吗？但是我们又暂时没办法让 div 总是参考可见区域大小的原点作为定位的原点，难道就没有办法了吗？</p>
<p>我们之前学习过，<code>scrollTop</code>表示滚动条的垂直滚动距离，而div位置原点 与鼠标指针原点的差距应该刚好是滚动条垂直滚动的距离，那么是不是可以利用这两个属性来“弥补” 这两者之间的距离差呢？</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">box1.style.top = (<span class="built_in">document</span>.body.scrollTop + top - box1.clientHeight / <span class="number">2</span>) + <span class="string">"px"</span>;</span><br></pre></td></tr></tbody></table></figure>
<p><img src="https://i.loli.net/2021/08/07/XyiUOtdpuez3cws.gif" alt="div随鼠标移动4"></p>
<p>发现还是不行，要知道我们是给 body 设置的<code>height</code>属性，之所以出现滚动条是因为 body 的父元素容不下 body 了，所以应该获取谁的<code>scrollTop</code>属性？body 的父元素，即 html</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">box1.style.top = (<span class="built_in">document</span>.documentElement.scrollTop + top - box1.clientHeight / <span class="number">2</span>) + <span class="string">"px"</span>;</span><br></pre></td></tr></tbody></table></figure>
<p>Chrome</p>
<p><img src="https://i.loli.net/2021/08/08/LVJUElaz5RI6PG9.gif" alt="div随鼠标移动6"></p>
<p>IE8</p>
<p><img src="https://i.loli.net/2021/08/08/SAzFPq8tjyUG7Oc.gif" alt="div随鼠标移动5"></p>
<hr>
<p>在视频中，测试的结果是Chrome和火狐等浏览器获取<code>scrollTop</code>的对象不一致，需要做兼容</p>
<blockquote>
<p>chrome认为浏览器的滚动条是body的，可以通过body.scrollTop来获取火狐等浏览器认为浏览器的滚动条是html的，</p>
</blockquote>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> st = <span class="built_in">document</span>.body.scrollTop || <span class="built_in">document</span>.documentElement.scrollTop;</span><br></pre></td></tr></tbody></table></figure>
<p>但是不知道什么原因（浏览器对<code>scrollTop</code>和<code>scrollLeft</code>都统一兼容了？毕竟视频是几年前的了），我这里并没有这个问题，所以上述问题存疑，待考究，后面以我实际代码测试结果为准</p>
<hr>
<p>同理，当水平方向有滚动条时，也要消除水平方向上的距离差，所以综合代码如下</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">box1.style.left = (<span class="built_in">document</span>.documentElement.scrollLeft + left - box1.clientWidth / <span class="number">2</span>) + <span class="string">"px"</span>;</span><br><span class="line">box1.style.top = (<span class="built_in">document</span>.documentElement.scrollTop + top - box1.clientHeight / <span class="number">2</span>) + <span class="string">"px"</span>;</span><br></pre></td></tr></tbody></table></figure>
<p>我这里通过<code>documentElement</code>获取的<code>scrollLeft</code>和<code>scrollTop</code>在 Chrome、Edge、IE11、IE8 中均正常</p>
<h2 id="2、事件的冒泡（Bubble）">2、事件的冒泡（Bubble）</h2>
<p>HTML 代码</p>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"box1"</span>&gt;</span></span><br><span class="line">    我是div </span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"s1"</span>&gt;</span></span><br><span class="line">        我是span</span><br><span class="line">    <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>
<p>CSS 代码</p>
<figure class="highlight css"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#box1</span>{</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">height</span>:	<span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#99FF99</span>;</span><br><span class="line">}</span><br><span class="line"><span class="selector-id">#s1</span>{</span><br><span class="line">    <span class="attribute">background-color</span>: yellowgreen;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p>JS 代码</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">"s1"</span>).onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{</span><br><span class="line">    alert(<span class="string">"我是span"</span>); <span class="comment">// 我是span 我是div 我是body 我是HTML</span></span><br><span class="line">};</span><br><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">"box1"</span>).onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{</span><br><span class="line">    alert(<span class="string">"我是div"</span>); <span class="comment">// 我是div 我是body 我是HTML</span></span><br><span class="line">};</span><br><span class="line"><span class="built_in">document</span>.body.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{</span><br><span class="line">    alert(<span class="string">"我是body"</span>); <span class="comment">// 我是body 我是HTML</span></span><br><span class="line">};</span><br><span class="line"><span class="built_in">document</span>.documentElement.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{</span><br><span class="line">    alert(<span class="string">"我是HTML"</span>); <span class="comment">// 我是HTML</span></span><br><span class="line">};</span><br></pre></td></tr></tbody></table></figure>
<p>所谓的<strong>冒泡</strong>指的就是事件的向上传导，当后代元素上的事件被触发时，其祖先元素的相同事件也会被触发</p>
<p>在开发中大部分情况冒泡都是有用的，如果不希望发生事件冒泡可以通过事件对象来<strong>取消冒泡</strong></p>
<p>可以将事件对象的<code>cancelBubble</code>设置为<code>true</code>，即可取消冒泡</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">"s1"</span>).onclick = <span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>{</span><br><span class="line">    <span class="comment">// 兼容event</span></span><br><span class="line">    event = event || <span class="built_in">window</span>.event;</span><br><span class="line">    alert(<span class="string">"我是span"</span>); <span class="comment">// 我是span</span></span><br><span class="line">    event.cancelBubble = <span class="literal">true</span>;</span><br><span class="line">};</span><br></pre></td></tr></tbody></table></figure>
<h2 id="3、事件的委派（Delegate）">3、事件的委派（Delegate）</h2>
<p>HTML 代码</p>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">id</span>=<span class="string">"btn"</span>&gt;</span>Add<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">"ulDiv"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:;"</span>&gt;</span>超链接1<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:;"</span>&gt;</span>超链接2<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:;"</span>&gt;</span>超链接3<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>
<p>JS 代码</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">clickFun</span>(<span class="params"></span>)</span>{</span><br><span class="line">    alert(<span class="string">"超链接"</span>);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{</span><br><span class="line">    <span class="comment">// 为每一个超链接都绑定一个单击响应函数</span></span><br><span class="line">    <span class="keyword">var</span> aList = <span class="built_in">document</span>.getElementsByTagName(<span class="string">"a"</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;aList.length;i++){</span><br><span class="line">        aList[i].onclick = clickFun;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">var</span> btn = <span class="built_in">document</span>.getElementById(<span class="string">"btn"</span>);</span><br><span class="line">    <span class="keyword">var</span> ulDiv = <span class="built_in">document</span>.getElementById(<span class="string">"ulDiv"</span>);</span><br><span class="line">    btn.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{</span><br><span class="line">        <span class="keyword">var</span> li = <span class="built_in">document</span>.createElement(<span class="string">"li"</span>);</span><br><span class="line">        li.innerHTML = <span class="string">"&lt;a href=\"javascript:;\"&gt;add超链接&lt;/a&gt;"</span>;</span><br><span class="line">        ulDiv.appendChild(li);</span><br><span class="line">    };</span><br><span class="line">};</span><br></pre></td></tr></tbody></table></figure>
<p>这里我们为每一个超链接都绑定了一个单击响应函数，这种操作比较麻烦</p>
<p>而且这些操作只能为已有的超链接设置事件，而新添加的超链接必须重新绑定</p>
<p>我们希望，只绑定一次事件，即可应用到多个的元素上，即使元素是后添加的</p>
<p>我们可以尝试将其绑定给元素的共同的祖先元素</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ulDiv.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{</span><br><span class="line">    alert(<span class="string">"事件委派超链接"</span>);</span><br><span class="line">};</span><br></pre></td></tr></tbody></table></figure>
<p><strong>事件委派</strong>是指将事件统一绑定给元素的共同的祖先元素</p>
<p>这样当后代元素上的事件触发时，会一直冒泡到祖先元素，从而通过祖先元素的响应函数来处理事件</p>
<p><mark>事件委派是利用了冒泡，通过委派可以减少事件绑定的次数，提高程序的性能</mark></p>
<p>但是也有个问题，我们是给整个 ul 绑定的单击响应事件，ul 是块元素，在超链接所在行点击任何位置都会触发事件</p>
<p><img src="https://i.loli.net/2021/08/08/ZOPGilX97kR4Ugp.gif" alt="事件委派"></p>
<p>那怎么办呢？我们就需要再加一层判断： 如果触发事件的对象是我们期望的元素，则执行否则不执行</p>
<p>那怎么知道触发事件的对象是什么呢？</p>
<p><img src="https://i.loli.net/2021/08/08/jw2lTFGr95CqIOp.png" alt="image-20210808143058357"></p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">ulDiv.onclick = <span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>{</span><br><span class="line">    event = event || <span class="built_in">window</span>.event;</span><br><span class="line">    <span class="comment">// 如果触发事件的对象是我们期望的元素，则执行否则不执行</span></span><br><span class="line">    <span class="comment">// alert(event.target); // 点击超链接外：[object HTMLLIElement]; 点击超链接：javascript:;</span></span><br><span class="line">    <span class="keyword">if</span>(event.target.className == <span class="string">"link"</span>){</span><br><span class="line">        alert(<span class="string">"事件委派超链接"</span>);</span><br><span class="line">    }</span><br><span class="line">};</span><br></pre></td></tr></tbody></table></figure>
<p>但是这种写法有点问题，当其<code>class</code>属性有多个时，就不对了</p>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:;"</span> <span class="attr">class</span>=<span class="string">"link hello"</span>&gt;</span>超链接1<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span> <span class="comment">&lt;!-- 失效 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:;"</span> <span class="attr">class</span>=<span class="string">"link"</span>&gt;</span>超链接2<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:;"</span> <span class="attr">class</span>=<span class="string">"link"</span>&gt;</span>超链接3<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>
<p>我这里将<code>tagName</code>代替<code>className</code>作为判断条件进行判断</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ulDiv.onclick = <span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>{</span><br><span class="line">    event = event || <span class="built_in">window</span>.event;</span><br><span class="line">    <span class="keyword">if</span>(event.target.tagName == <span class="string">"A"</span> || event.target.tagName == <span class="string">"a"</span>){</span><br><span class="line">        alert(<span class="string">"事件委派超链接"</span>);</span><br><span class="line">    }</span><br><span class="line">};</span><br></pre></td></tr></tbody></table></figure>
<h2 id="4、事件的绑定（Bind）">4、事件的绑定（Bind）</h2>
<h3 id="on事件名">on事件名</h3>
<p>使用<code>对象.事件 = 函数</code>的形式绑定响应函数，它只能同时为一个元素的一个事件绑定一个响应函数</p>
<p>不能绑定多个，如果绑定了多个，则后边会覆盖掉前边的</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> btn = <span class="built_in">document</span>.getElementById(<span class="string">"btn"</span>);</span><br><span class="line"><span class="comment">// 为btn绑定一个单击响应函数</span></span><br><span class="line">btn.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{</span><br><span class="line">    alert(<span class="number">1</span>);</span><br><span class="line">};</span><br><span class="line"><span class="comment">// 为btn绑定第二个响应函数</span></span><br><span class="line">btn.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{</span><br><span class="line">    alert(<span class="number">2</span>); <span class="comment">// 2</span></span><br><span class="line">};</span><br></pre></td></tr></tbody></table></figure>
<h3 id="addEventListener">addEventListener()</h3>
<p><code>addEventListener()</code>通过这个方法也可以为元素绑定响应函数，参数：</p>
<ul>
<li>事件的字符串，不要<code>on</code></li>
<li>回调函数，当事件触发时该函数会被调用</li>
<li>是否在捕获阶段触发事件，需要一个布尔值，一般都传<code>false</code></li>
</ul>
<p>使用<code>addEventListener()</code>可以同时为一个元素的相同事件同时绑定多个响应函数</p>
<p>这样当事件被触发时，响应函数将会按昭函数的绑定顺序执行</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">btn.addEventListener(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{</span><br><span class="line">    alert(<span class="number">1</span>); <span class="comment">// 1</span></span><br><span class="line">}, <span class="literal">false</span>);</span><br><span class="line">btn.addEventListener(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{</span><br><span class="line">    alert(<span class="number">2</span>); <span class="comment">// 2</span></span><br><span class="line">}, <span class="literal">false</span>);</span><br><span class="line">btn.addEventListener(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{</span><br><span class="line">    alert(<span class="number">3</span>); <span class="comment">// 3</span></span><br><span class="line">}, <span class="literal">false</span>);</span><br></pre></td></tr></tbody></table></figure>
<p>我们直接在 IE8 中进行测试，这个方法不支持IE8及以下的浏览器</p>
<p><img src="https://i.loli.net/2021/08/08/jwZJmRWSBVPGDoq.png" alt="image-20210808145926568"></p>
<p>那说了半天，IE8 需要用什么方法替代呢？</p>
<h3 id="attachEvent">attachEvent()</h3>
<p><code>attachEvent()</code>在 IE8 中可以用来绑定事件，参数：</p>
<ul>
<li>事件的字符串，要<code>on</code></li>
<li>回调函数</li>
</ul>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">btn.attachEvent(<span class="string">"onclick"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{</span><br><span class="line">    alert(<span class="number">1</span>); <span class="comment">// 1</span></span><br><span class="line">});</span><br><span class="line">btn.attachEvent(<span class="string">"onclick"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{</span><br><span class="line">    alert(<span class="number">2</span>); <span class="comment">// 2</span></span><br><span class="line">});</span><br><span class="line">btn.attachEvent(<span class="string">"onclick"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{</span><br><span class="line">    alert(<span class="number">3</span>); <span class="comment">// 3</span></span><br><span class="line">});</span><br></pre></td></tr></tbody></table></figure>
<p>继续测试，在 IE8 中没有报错，但是执行顺序却是相反的，而且其他浏览器中直接就不行了</p>
<p><img src="https://i.loli.net/2021/08/08/VvUikjuLbZYtNDa.png" alt="image-20210808152803255"></p>
<p><strong>总结：</strong> 这个方法也可以同时为一个事件绑定多个处理函数，不同的是它是后绑定先执行，执行顺序和<code>addEventListener()</code>相反</p>
<p>看起来，我们还是要自己封装一个方法来兼容不同的浏览器</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义一个函数，用来为指定元素绑定响应函数</span></span><br><span class="line"><span class="comment">// 参数：</span></span><br><span class="line"><span class="comment">// - obj 要绑定事件的对象</span></span><br><span class="line"><span class="comment">// - eventStr 事件的字符串</span></span><br><span class="line"><span class="comment">// - callback 回调函数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bind</span>(<span class="params">obj, eventStr, callback</span>) </span>{</span><br><span class="line">    <span class="keyword">if</span> (obj.addEventListener) {</span><br><span class="line">        obj.addEventListener(eventStr, callback, <span class="literal">false</span>);</span><br><span class="line">    } <span class="keyword">else</span> {</span><br><span class="line">        obj.attachEvent(<span class="string">"on"</span> + eventStr, callback);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p>我们调用下只能自定义的<code>bind</code>函数</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">bind(btn, <span class="string">"click"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{</span><br><span class="line">    alert(<span class="number">1</span>);</span><br><span class="line">});</span><br></pre></td></tr></tbody></table></figure>
<p>测试下效果，发现在 IE8 和其他浏览器中均支持</p>
<p><img src="https://i.loli.net/2021/08/08/lq3zWmyGifCoJAd.png" alt="image-20210808152623132"></p>
<p>好，我们接着再看个问题</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">bind(btn, <span class="string">"click"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{</span><br><span class="line">    alert(<span class="built_in">this</span>); <span class="comment">// IE8: [object window]；非IE8：[object HTMLButtonElement]</span></span><br><span class="line">});</span><br></pre></td></tr></tbody></table></figure>
<p>测试发现，在 Chrome 中打印的是<code>[object HTMLButtonElement]</code></p>
<p><img src="https://i.loli.net/2021/08/08/mwWtAioF8I7dB1p.png" alt="image-20210808152944028"></p>
<p>而在 IE8 中打印的却是<code>[object window]</code></p>
<p><img src="https://i.loli.net/2021/08/08/WAIZ1lkUwOD4baQ.png" alt="image-20210808153020678"></p>
<p><code>addEventListener()</code>中的<code>this</code>是绑定事件的对象，<code>attachEvent()</code>中的<code>this</code>是<code>window</code>，需要统一两个方法<code>this</code></p>
<p>我们之前讲过<code>call</code>和<code>apply</code>方法，<code>this</code>是指定的那个对象，是不是可以利用<code>call</code>或者<code>apply</code>方法对<code>bind</code>函数进行优化呢？</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bind</span>(<span class="params">obj, eventStr, callback</span>) </span>{</span><br><span class="line">    <span class="keyword">if</span> (obj.addEventListener) {</span><br><span class="line">        obj.addEventListener(eventStr, callback, <span class="literal">false</span>);</span><br><span class="line">    } <span class="keyword">else</span> {</span><br><span class="line">        <span class="comment">// this是谁由调用方式决定</span></span><br><span class="line">        <span class="comment">// callback.call(obj)</span></span><br><span class="line">        obj.attachEvent(<span class="string">"on"</span> + eventStr, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{</span><br><span class="line">            <span class="comment">// 在匿名函数中调用回调函数</span></span><br><span class="line">            callback.call(obj);</span><br><span class="line">        });</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h2 id="5、事件的传播">5、事件的传播</h2>
<p>关于事件的传播网景公司和微软公司有不同的理解</p>
<ul>
<li>微软公司认为事件应该是由内向外传播，也就是当事件触发时，应该先触发当前元素上的事件，然后再向当前元素的祖先元素上传播，也就说件应该在 <strong>冒泡阶段</strong> 执行</li>
<li>网景公司认为事件应该是由外向内传播的，也就是当前事件触发时，应该先触发当前元素的最外层的祖先元素的事件，然后在向内传播给后代元素</li>
<li>W3C综合了两个公司的方案，将事件传播分成了三个阶段
<ol>
<li><strong>捕获阶段</strong>：在捕获阶段时从最外层的祖先元素，向目标元素进行事件的捕获，但是默认此时不会触发事件</li>
<li><strong>目标阶段</strong>：事件捕获到目标元素，捕获结束开始在目标元素上触发事件</li>
<li><strong>冒泡阶段</strong>：事件从目标元素向他的祖先元素传递，依次触发祖先元素上的事件</li>
</ol>
</li>
</ul>
<p><img src="https://i.loli.net/2021/08/08/8ksUo7nPCiyAGVL.png" alt="image-20210808155725476"></p>
<p>如果希望在捕获阶段就触发事件，可以将<code>addEventListener()</code>的第三个参数设置为<code>true</code></p>
<p>一般情况下我们不会希望在捕获阶段触发事件，所以这个参数一般都是<code>false</code></p>
<p>IE8 及以下的浏览器中没有捕获阶段</p>
<h2 id="6、拖拽">6、拖拽</h2>
<h3 id="拖拽的流程">拖拽的流程</h3>
<ol>
<li>当鼠标在被拖拽元素上按下时，开始拖拽 <code>onmousedown</code></li>
<li>当鼠标移动时被拖拽元素跟随鼠标移动 <code>onmousemove</code></li>
<li>当鼠标松开时，被拖拽元素固定在当前位置 <code>onmouseup</code></li>
</ol>
<p><img src="https://i.loli.net/2021/08/08/qKwpCAOUmJnGZj3.png" alt="image-20210808160841285"></p>
<p>HTML 代码</p>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"box1"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"box2"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>
<p>CSS 代码</p>
<figure class="highlight css"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#box1</span> {</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: red;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">}</span><br><span class="line"><span class="selector-id">#box2</span> {</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: yellow;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">300px</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p>JS 代码</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> box1 = <span class="built_in">document</span>.getElementById(<span class="string">"box1"</span>);</span><br><span class="line"><span class="comment">// 1. 当鼠标在被拖拽元素上按下时，开始拖拽 `onmousedown`</span></span><br><span class="line">box1.onmousedown = <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>{</span><br><span class="line">    event = event || <span class="built_in">window</span>.event;</span><br><span class="line">    <span class="keyword">var</span> boxLeft = event.clientX - box1.offsetLeft; <span class="comment">// 鼠标水平坐标 - 元素水平偏移量 = 鼠标原点和元素原点水平距离</span></span><br><span class="line">    <span class="keyword">var</span> boxTop = event.clientY - box1.offsetTop; <span class="comment">// 鼠标垂直坐标 - 元素垂直偏移量 = 鼠标原点和元素原点垂直距离</span></span><br><span class="line">    <span class="comment">// 2. 当鼠标移动时被拖拽元素跟随鼠标移动 `onmousemove`</span></span><br><span class="line">    <span class="built_in">document</span>.onmousemove = <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>{</span><br><span class="line">        event = event || <span class="built_in">window</span>.event;</span><br><span class="line">        box1.style.left = event.clientX - boxLeft + <span class="string">"px"</span>;</span><br><span class="line">        box1.style.top = event.clientY - boxTop + <span class="string">"px"</span>;</span><br><span class="line">    };</span><br><span class="line">    <span class="comment">// 3. 当鼠标松开时，被拖拽元素固定在当前位置 `onmouseup`</span></span><br><span class="line">    <span class="built_in">document</span>.onmouseup = <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>{</span><br><span class="line">        <span class="comment">// 取消document的onmousemove事件</span></span><br><span class="line">        <span class="built_in">document</span>.onmousemove = <span class="literal">null</span>;</span><br><span class="line">        <span class="comment">// 取消document的onmouseup事件</span></span><br><span class="line">        <span class="built_in">document</span>.onmouseup = <span class="literal">null</span>;</span><br><span class="line">    };</span><br><span class="line">};</span><br></pre></td></tr></tbody></table></figure>
<p>效果</p>
<p><img src="https://i.loli.net/2021/08/08/EU7ZCnrgJ1DjTQO.gif" alt="拖拽"></p>
<p>当我们拖拽一个网页中的内容时，浏览器会默认去搜索引擎中搜索内容，此时会导致拖拽功能的异常，这个是浏览器提供的默认行为</p>
<p><img src="https://i.loli.net/2021/08/08/msd5ohLVjrQB2UJ.gif" alt="拖拽1"></p>
<p>如果不希望发生这个行为，则可以通过<code>return false</code>来取消默认行为</p>
<p><img src="https://i.loli.net/2021/08/08/rtNSke1Ja9pxZFY.gif" alt="拖拽2"></p>
<p>但是这招对 IE8 不起作用</p>
<p><img src="https://i.loli.net/2021/08/08/JQpf5zyIGXWmBHi.gif" alt="拖拽3"></p>
<p>那有什么方法可以兼容 IE8 呢？我们先接着往下看</p>
<h3 id="setCapture">setCapture()</h3>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> btn1 = <span class="built_in">document</span>.getElementById(<span class="string">"btn1"</span>);</span><br><span class="line"><span class="keyword">var</span> btn2 = <span class="built_in">document</span>.getElementById(<span class="string">"btn2"</span>);</span><br><span class="line"></span><br><span class="line">btn1.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{</span><br><span class="line">    alert(<span class="number">1</span>);</span><br><span class="line">}</span><br><span class="line">btn2.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{</span><br><span class="line">    alert(<span class="number">2</span>);</span><br><span class="line">}</span><br><span class="line"><span class="comment">// 设置btn1对鼠标按下相关的事件进行捕获</span></span><br><span class="line"><span class="comment">// 当调用一个元素的setCapture()方法以后，这个元素将会把下一次所有的鼠标按下相关的事件捕获到自身上</span></span><br><span class="line">btn1.setCapture();</span><br></pre></td></tr></tbody></table></figure>
<p>我们点击 btn2 按钮，发现只有刷新后的第一次点击的提示为1，再次点击就变成了2</p>
<p><img src="https://i.loli.net/2021/08/08/ObPKuogN5QmfdSc.png" alt="image-20210808182709374"></p>
<p>我们可以利用<code>setCapture()</code>方法对 IE8 浏览器的默认行为进行限制吗？当拖拽元素时捕获事件，取消拖拽时释放对事件的捕获</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> box1 = <span class="built_in">document</span>.getElementById(<span class="string">"box1"</span>);</span><br><span class="line"><span class="comment">// 1. 当鼠标在被拖拽元素上按下时，开始拖拽 `onmousedown`</span></span><br><span class="line">box1.onmousedown = <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>{</span><br><span class="line">    <span class="comment">// 设置box1捕获所有鼠标按下的事件</span></span><br><span class="line">    <span class="comment">// 只有IE支持，但是在火狐中调用时不会报错，而如果使用Chrome调用，会报错</span></span><br><span class="line">    box1.setCapture &amp;&amp; box1.setCapture();</span><br><span class="line"></span><br><span class="line">    event = event || <span class="built_in">window</span>.event;</span><br><span class="line">    <span class="keyword">var</span> boxLeft = event.clientX - box1.offsetLeft; <span class="comment">// 鼠标水平坐标 - 元素水平偏移量 = 鼠标原点和元素原点水平距离</span></span><br><span class="line">    <span class="keyword">var</span> boxTop = event.clientY - box1.offsetTop; <span class="comment">// 鼠标垂直坐标 - 元素垂直偏移量 = 鼠标原点和元素原点垂直距离</span></span><br><span class="line">    <span class="comment">// 2. 当鼠标移动时被拖拽元素跟随鼠标移动 `onmousemove`</span></span><br><span class="line">    <span class="built_in">document</span>.onmousemove = <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>{</span><br><span class="line">        event = event || <span class="built_in">window</span>.event;</span><br><span class="line">        box1.style.left = event.clientX - boxLeft + <span class="string">"px"</span>;</span><br><span class="line">        box1.style.top = event.clientY - boxTop + <span class="string">"px"</span>;</span><br><span class="line">    };</span><br><span class="line">    <span class="comment">// 3. 当鼠标松开时，被拖拽元素固定在当前位置 `onmouseup`</span></span><br><span class="line">    <span class="built_in">document</span>.onmouseup = <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>{</span><br><span class="line">        <span class="comment">// 取消document的onmousemove事件</span></span><br><span class="line">        <span class="built_in">document</span>.onmousemove = <span class="literal">null</span>;</span><br><span class="line">        <span class="comment">// 取消document的onmouseup事件</span></span><br><span class="line">        <span class="built_in">document</span>.onmouseup = <span class="literal">null</span>;</span><br><span class="line">        <span class="comment">// 当鼠标松开时，取消对事件的捕获</span></span><br><span class="line">        box1.releaseCapture &amp;&amp; box1.releaseCapture();</span><br><span class="line">    };</span><br><span class="line">    <span class="comment">// 取消默认行为</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">};</span><br></pre></td></tr></tbody></table></figure>
<p>测试在 IE8 中的效果</p>
<p><img src="https://i.loli.net/2021/08/08/YBMmdCHDiVaA4Gt.gif" alt="拖拽4"></p>
<p>如果我想拖动 div2呢？这个时候我们需要封装一个函数，方便我们直接传参调用</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 拖拽方法封装成一个函数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">draw</span>(<span class="params">obj</span>)</span>{</span><br><span class="line">    obj.onmousedown = <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>{</span><br><span class="line">        obj.setCapture &amp;&amp; obj.setCapture();</span><br><span class="line">        event = event || <span class="built_in">window</span>.event;</span><br><span class="line">        <span class="keyword">var</span> boxLeft = event.clientX - obj.offsetLeft;</span><br><span class="line">        <span class="keyword">var</span> boxTop = event.clientY - obj.offsetTop;</span><br><span class="line">        <span class="built_in">document</span>.onmousemove = <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>{</span><br><span class="line">            event = event || <span class="built_in">window</span>.event;</span><br><span class="line">            obj.style.left = event.clientX - boxLeft + <span class="string">"px"</span>;</span><br><span class="line">            obj.style.top = event.clientY - boxTop + <span class="string">"px"</span>;</span><br><span class="line">        };</span><br><span class="line">        <span class="built_in">document</span>.onmouseup = <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>{</span><br><span class="line">            <span class="built_in">document</span>.onmousemove = <span class="literal">null</span>;</span><br><span class="line">            <span class="built_in">document</span>.onmouseup = <span class="literal">null</span>;</span><br><span class="line">            obj.releaseCapture &amp;&amp; obj.releaseCapture();</span><br><span class="line">        };</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    };</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p>HTML 代码</p>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"box1"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"box2"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"img/an.jpg"</span> <span class="attr">id</span>=<span class="string">"img"</span> <span class="attr">style</span>=<span class="string">"width: 320px;height: 320px;position: absolute;left:200px;top:400px;"</span>/&gt;</span></span><br></pre></td></tr></tbody></table></figure>
<p>JS 代码调用函数</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> box1 = <span class="built_in">document</span>.getElementById(<span class="string">"box1"</span>);</span><br><span class="line"><span class="keyword">var</span> box2 = <span class="built_in">document</span>.getElementById(<span class="string">"box2"</span>);</span><br><span class="line"><span class="keyword">var</span> img = <span class="built_in">document</span>.getElementById(<span class="string">"img"</span>);</span><br><span class="line">draw(box1);</span><br><span class="line">draw(box2);</span><br><span class="line">draw(img);</span><br></pre></td></tr></tbody></table></figure>
<p><strong>效果</strong></p>
<p>Chrome</p>
<p><img src="https://i.loli.net/2021/08/08/1KmQDalbfAInJCS.gif" alt="拖拽5"></p>
<p>IE8</p>
<p><img src="https://i.loli.net/2021/08/08/mu7tgS9HpsIzojf.gif" alt="拖拽6"></p>
<h1 id="滚轮事件与键盘事件">滚轮事件与键盘事件</h1>
<h2 id="1、滚轮事件">1、滚轮事件</h2>
<h3 id="onmousewheel、DOMMouseScroll">onmousewheel、DOMMouseScroll</h3>
<p><code>onmousewheel</code>：鼠标滚轮滚动的事件，会在滚轮滚动时触发，但是火狐不支持该属性</p>
<p><code>DOMMouseScroll</code>：在火狐中使用<code>DOMMouseScroll</code>来绑定滚动事件，注意该事件需要通过<code>addEventListener()</code>函数来绑定</p>
<h3 id="event-wheelDelta、event-detail">event.wheelDelta、event.detail</h3>
<p><code>event.wheelDelta</code>：可以获取鼠标滚轮滚动的方向：向上滚（120），向下滚（-120），这个值我们不看大小，只看正负</p>
<p><code>event.detail</code>：<code>wheelDelta</code>这个属性火狐中不支持，在火狐中使用<code>event.detail</code>来获取滚动的方向：向上滚（-3），向下滚（3）</p>
<h3 id="return-false、event-preventDefault">return false、event.preventDefault()</h3>
<p>当滚轮滚动时，如果浏览器有滚动条，滚动条会随之滚动，这是浏览器的默认行为</p>
<p>如果不希望发生，则可以使用<code>return false</code>来取消默认行为</p>
<p>使用<code>addEventListener()</code>方法绑定响应函数，取消默认行为时不能使用<code>return false</code>，需要使用<code>event</code>来取消默认行为</p>
<p>但是 IE8 不支持<code>event.preventDefault()</code>这个玩意，如果直接调用会报错</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{</span><br><span class="line">    <span class="keyword">var</span> box1 = <span class="built_in">document</span>.getElementById(<span class="string">"box1"</span>);</span><br><span class="line">    box1.onmousewheel = <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>{</span><br><span class="line">        event = event || <span class="built_in">window</span>.event;</span><br><span class="line">        <span class="comment">// alert(event.wheelDelta); // IE/内置：120/-120；Chrome/Edge：150/-150；Firefox：undefined/undefined</span></span><br><span class="line">        <span class="comment">// alert(event.detail); // IE/内置/Chrome/Edge：0/0；Firefox：-3/3;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 当鼠标滚轮向下滚动时，box1变长</span></span><br><span class="line">        <span class="comment">// 当鼠标滚轮向上滚动时，box1变短</span></span><br><span class="line">        <span class="keyword">if</span> (event.wheelDelta &gt; <span class="number">0</span> || event.detail &lt; <span class="number">0</span>) {</span><br><span class="line">            box1.style.height = box1.clientHeight - <span class="number">10</span> + <span class="string">"px"</span>;</span><br><span class="line">        } <span class="keyword">else</span> {</span><br><span class="line">            <span class="keyword">if</span> (box1.clientHeight - <span class="number">10</span> &gt; <span class="number">0</span>) {</span><br><span class="line">                box1.style.height = box1.clientHeight + <span class="number">10</span> + <span class="string">"px"</span>;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 使用addEventListener()方法绑定响应函数，取消默认行为时不能使用return false，需要使用event来取消默认行为</span></span><br><span class="line">        <span class="comment">// 但是IE8不支持event.preventDefault()这个玩意，如果直接调用会报错</span></span><br><span class="line">        event.preventDefault &amp;&amp; event.preventDefault();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 当滚轮滚动时，如果浏览器有滚动条，滚动条会随之滚动</span></span><br><span class="line">        <span class="comment">// 这是浏览器的默认行为，如果不希望发生，则可以取消默认行为</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    };</span><br><span class="line">    <span class="comment">// 兼容addEventListener</span></span><br><span class="line">    bind(box1, <span class="string">"DOMMouseScroll"</span>, box1.onmousewheel);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bind</span>(<span class="params">obj, eventStr, callback</span>) </span>{</span><br><span class="line">    <span class="keyword">if</span> (obj.addEventListener) {</span><br><span class="line">        obj.addEventListener(eventStr, callback, <span class="literal">false</span>);</span><br><span class="line">    } <span class="keyword">else</span> {</span><br><span class="line">        <span class="comment">// this是谁由调用方式决定</span></span><br><span class="line">        <span class="comment">// callback.call(obj)</span></span><br><span class="line">        obj.attachEvent(<span class="string">"on"</span> + eventStr, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{</span><br><span class="line">            <span class="comment">// 在匿名函数中调用回调函数</span></span><br><span class="line">            callback.call(obj);</span><br><span class="line">        });</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong>效果</strong></p>
<p><img src="https://i.loli.net/2021/08/09/WJu5XZojepShYEM.gif" alt="滚动事件"></p>
<h2 id="2、键盘事件">2、键盘事件</h2>
<h3 id="onkeydown、onkeyup">onkeydown、onkeyup</h3>
<p><img src="https://i.loli.net/2021/08/09/79VJlsNLoxZhI3j.png" alt="image-20210809225130743"></p>
<p><code>onkeydown</code>按键被按下</p>
<ul>
<li>如果一直按着某个按键不松手，则事件会一直触发</li>
<li>连续触发时，第一次和第二次之间会间隔稍微长一点，其他的会非常的快，这种设计是为了防止误操作的发生</li>
</ul>
<p><code>onkeyup</code>按键被松开</p>
<p>键盘事件一般都会绑定给一些可以获取到焦点的对象或者是<code>document</code></p>
<h3 id="键盘事件属性">键盘事件属性</h3>
<p><img src="https://i.loli.net/2021/08/09/qAb4CpUSj3Di7c6.png" alt="image-20210809225738645"></p>
<p><img src="https://i.loli.net/2021/08/09/qXIGjQ3OtRbUW6M.png" alt="image-20210809225838699"></p>
<p>可以通过<code>keyCode</code>来获取按键的编码，通过它可以判断哪个按键被按下</p>
<p>除了<code>keyCode</code>，事件对象中还提供了几个属性<code>altKey</code>、<code>ctrlKey</code>、<code>shiftKey</code></p>
<p>这个三个用来判断<code>alt</code>、<code>ctrl</code>和<code>shift</code>是否被按下，如果按下则返回<code>true</code>，否则返回<code>false</code></p>
<p><strong>&lt;练习：键盘移动div&gt;</strong></p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义速度</span></span><br><span class="line"><span class="keyword">var</span> speed = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">var</span> box1 = <span class="built_in">document</span>.getElementById(<span class="string">"box1"</span>);</span><br><span class="line"><span class="comment">// 绑定键盘响应事件</span></span><br><span class="line"><span class="built_in">document</span>.onkeydown = <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>{</span><br><span class="line">    event = event || <span class="built_in">window</span>.event;</span><br><span class="line">    <span class="comment">// 按ctrl加速</span></span><br><span class="line">    speed = event.ctrlKey ? <span class="number">30</span> : <span class="number">10</span>;</span><br><span class="line">    <span class="comment">// console.log(event.keyCode); // 左：37；上：38；右：39；下：40</span></span><br><span class="line">    <span class="keyword">switch</span> (event.keyCode) {</span><br><span class="line">        <span class="comment">// 左移</span></span><br><span class="line">        <span class="keyword">case</span> <span class="number">37</span>:</span><br><span class="line">            box1.style.left = box1.offsetLeft - speed + <span class="string">"px"</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="comment">// 上移</span></span><br><span class="line">        <span class="keyword">case</span> <span class="number">38</span>:</span><br><span class="line">            box1.style.top = box1.offsetTop - speed + <span class="string">"px"</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="comment">// 右移</span></span><br><span class="line">        <span class="keyword">case</span> <span class="number">39</span>:</span><br><span class="line">            box1.style.left = box1.offsetLeft + speed + <span class="string">"px"</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="comment">// 下移</span></span><br><span class="line">        <span class="keyword">case</span> <span class="number">40</span>:</span><br><span class="line">            box1.style.top = box1.offsetTop + speed + <span class="string">"px"</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p>效果</p>
<p><img src="https://i.loli.net/2021/08/11/dSiHA8yNQ1KG4tj.gif" alt="键盘移动div"></p>
<h1 id="BOM">BOM</h1>
<h2 id="1、BOM">1、BOM</h2>
<p>BOM：浏览器对象模型</p>
<p>BOM 可以使我们通过 JS 来操作浏览器</p>
<p>在 BOM 中为我们提供了一组对象，用来完成对浏览器的操作 BOM 对象</p>
<h3 id="Window">Window</h3>
<p>代表的是整个 <strong>浏览器的窗口</strong>，同时 window 也是网页中的全局对象</p>
<h3 id="Navigator">Navigator</h3>
<p>代表的当前 <strong>浏览器的信息</strong>，通过该对象可以来识别不同的浏览器</p>
<h3 id="Location">Location</h3>
<p>代表当前 <strong>浏览器的地址栏信息</strong>，通过 Location 可以获取地址栏信息，或者操作浏览器跳转页面</p>
<h3 id="History">History</h3>
<p>代表 <strong>浏览器的历史记录</strong>，可以通过该对象来操作浏览器的历史记录由于隐私原因</p>
<p>该对象不能获取到具体的历史记录，只能操作 <strong>浏览器向前或向后翻页</strong>，而且该操作只在当次访问时有效</p>
<h3 id="Screen">Screen</h3>
<p>代表用户的 <strong>屏幕的信息</strong>，通过该对象可以获取到用户的显示器的相关的信息</p>
<p><img src="https://i.loli.net/2021/08/11/8BRy9VkmlLwZfXK.png" alt="image-20210811200758569"></p>
<p>这些 BOM 对象在浏览器中都是作为 window 对象的属性保存的，可以通过 window 对象来使用，也可以直接使用</p>
<p><img src="https://i.loli.net/2021/08/11/MjNqh1SwBy369Oc.png" alt="image-20210811201317053"></p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">window</span>); <span class="comment">// [object Window]</span></span><br><span class="line"><span class="built_in">console</span>.log(navigator); <span class="comment">// [object Navigator]</span></span><br><span class="line"><span class="built_in">console</span>.log(location); <span class="comment">// [object Object]</span></span><br><span class="line"><span class="built_in">console</span>.log(history); <span class="comment">// [object History]</span></span><br><span class="line"><span class="built_in">console</span>.log(screen); <span class="comment">// [object Screen]</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="2、Navigator">2、Navigator</h2>
<p><img src="https://i.loli.net/2021/08/11/xwvy4jtKlQ2oFZA.png" alt="image-20210811213218347"></p>
<p>由于历史原因，<code>Navigator</code>对象中的大部分属性都已经不能帮助我们识别浏览器了</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(navigator.appName); <span class="comment">//Chrome/Firefox/Edge/IE11：Netscape；IE10及以下：Microsoft Internet Explorer</span></span><br></pre></td></tr></tbody></table></figure>
<p>那既然如此，我们要怎么判断不同的浏览器呢？</p>
<p>一般我们只会使用<code>userAgent</code>来判断浏览器的信息，<code>userAgent</code>是一个字符串</p>
<p>这个字符串中包含有用来描述浏览器信息的内容，不同的浏览器会有不同的<code>userAgent</code></p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(navigator.userAgent);</span><br><span class="line"><span class="comment">// Chrome： Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.85 Safari/537.36</span></span><br><span class="line"><span class="comment">// Firefox：Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:90.0) Gecko/20100101 Firefox/90.0</span></span><br><span class="line"><span class="comment">// Edge：   Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/92.0.4515.131 Safari/537.36 Edg/92.0.902.67</span></span><br><span class="line"><span class="comment">// IE11：   Mozilla/5.0 (Windows NT 10.0; WOW64; Trident/7.0; .NET4.0C; .NET4.0E; .NET CLR 2.0.50727; .NET CLR 3.0.30729; .NET CLR 3.5.30729; rv:11.0) like Gecko</span></span><br><span class="line"><span class="comment">// IE10：   Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 10.0; WOW64; Trident/7.0; .NET4.0C; .NET4.0E; .NET CLR 2.0.50727; .NET CLR 3.0.30729; .NET CLR 3.5.30729)</span></span><br><span class="line"><span class="comment">// IE9：    Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 10.0; WOW64; Trident/7.0; .NET4.0C; .NET4.0E; .NET CLR 2.0.50727; .NET CLR 3.0.30729; .NET CLR 3.5.30729)</span></span><br><span class="line"><span class="comment">// IE8：    Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 10.0; WOW64; Trident/7.0; .NET4.0C; .NET4.0E; .NET CLR 2.0.50727; .NET CLR 3.0.30729; .NET CLR 3.5.30729)</span></span><br><span class="line"><span class="comment">// IE7/IE5：Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 10.0; WOW64; Trident/7.0; .NET4.0C; .NET4.0E; .NET CLR 2.0.50727; .NET CLR 3.0.30729; .NET CLR 3.5.30729)</span></span><br></pre></td></tr></tbody></table></figure>
<p>我们可以根据<code>userAgent</code>中特有的标识符来判断是哪个浏览器</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> ua = navigator.userAgent;</span><br><span class="line"><span class="keyword">if</span> (<span class="regexp">/edg/i</span>.test(ua)) {</span><br><span class="line">    alert(<span class="string">"Edge浏览器"</span>);</span><br><span class="line">} <span class="keyword">else</span> <span class="keyword">if</span> (<span class="regexp">/firefox/i</span>.test(ua)) {</span><br><span class="line">    alert(<span class="string">"火狐浏览器"</span>);</span><br><span class="line">} <span class="keyword">else</span> <span class="keyword">if</span> (<span class="regexp">/chrome/i</span>.test(ua)) {</span><br><span class="line">    alert(<span class="string">"谷歌浏览器"</span>);</span><br><span class="line">} <span class="keyword">else</span> <span class="keyword">if</span> (<span class="regexp">/msie/i</span>.test(ua)) {</span><br><span class="line">    alert(<span class="string">"IE浏览器"</span>);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p>在 IE11 中已经将微软和 IE 相关的标识都已经去除了，所以我们基本已经不能通过<code>userAgent</code>来识别一个浏览器是否是 IE 了</p>
<p>那么，我们要怎么判断统一是否是 IE 呢？</p>
<p>还是要 <em>找特殊</em> ，我们根据之前知识，知道<code>currentStyle</code>和<code>attchEvent</code>是 IE 所特有的</p>
<p>除此之外，还有个<code>ActiveXObject</code>也是 IE 中所特有的，我们可以根据这个来做判断</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 利用`ActiveXObject`是 IE 中特有的属性，以及通过`window.属性 == undefined`特点来判断是否是 IE</span></span><br><span class="line"><span class="keyword">if</span>(<span class="built_in">window</span>.ActiveXObject){</span><br><span class="line">    alert(<span class="string">"IE浏览器"</span>);</span><br><span class="line">} <span class="keyword">else</span>{</span><br><span class="line">    alert(<span class="string">"非IE浏览器"</span>);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p>我们直接在 IE 中进行测试</p>
<p><img src="https://i.loli.net/2021/08/11/TzCMeSXBtmv58rk.png" alt="image-20210811204751369"></p>
<p>不是说<code>ActiveXObject</code>也是 IE 中所特有的吗？怎么不行呢？</p>
<p>我们在 IE11 中打印下<code>window.ActiveXObject</code>是否等于<code>true</code></p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 利用两次使用`!!`将任意值转换成bool值</span></span><br><span class="line"><span class="built_in">console</span>.log(!!<span class="built_in">window</span>.ActiveXObject); <span class="comment">// false</span></span><br></pre></td></tr></tbody></table></figure>
<p><strong>What? 这？</strong></p>
<p>别急，我们换种方式，利用<code>in</code>来判断 window 中是否包含某个属性</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">"ActiveXObject"</span> <span class="keyword">in</span> <span class="built_in">window</span>); <span class="comment">// true</span></span><br></pre></td></tr></tbody></table></figure>
<p>我们来完善下对 IE11 的判断逻辑</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> ua = navigator.userAgent;</span><br><span class="line"><span class="keyword">if</span> (<span class="regexp">/edg/i</span>.test(ua)) {</span><br><span class="line">    alert(<span class="string">"Edge浏览器"</span>);</span><br><span class="line">} <span class="keyword">else</span> <span class="keyword">if</span> (<span class="regexp">/firefox/i</span>.test(ua)) {</span><br><span class="line">    alert(<span class="string">"火狐浏览器"</span>);</span><br><span class="line">} <span class="keyword">else</span> <span class="keyword">if</span> (<span class="regexp">/chrome/i</span>.test(ua)) {</span><br><span class="line">    alert(<span class="string">"谷歌浏览器"</span>);</span><br><span class="line">} <span class="keyword">else</span> <span class="keyword">if</span> (<span class="regexp">/msie/i</span>.test(ua)) {</span><br><span class="line">    alert(<span class="string">"IE浏览器"</span>);</span><br><span class="line">} <span class="keyword">else</span> <span class="keyword">if</span> (<span class="string">"ActiveXObject"</span> <span class="keyword">in</span> <span class="built_in">window</span>) {</span><br><span class="line">    alert(<span class="string">"IE11浏览器"</span>);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h2 id="3、Location">3、Location</h2>
<p><img src="https://i.loli.net/2021/08/11/O8uajZ6tiyfWKDL.png" alt="image-20210811205755795"></p>
<h3 id="length">length</h3>
<p><code>length</code>属性，可以获取到当次访问的链接数量</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">alert(history.length);</span><br><span class="line"><span class="comment">// 访问History页面：1</span></span><br><span class="line"><span class="comment">// 访问Test02页面并跳转至History页面：2</span></span><br><span class="line"><span class="comment">// 访问Test01页面并跳转至History页面：3</span></span><br></pre></td></tr></tbody></table></figure>
<h3 id="back">back()</h3>
<p>可以用来回退到上一个页面，作用和浏览器的回退按钮一样</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">history.back();</span><br></pre></td></tr></tbody></table></figure>
<p><img src="https://i.loli.net/2021/08/11/lGkcEmq7h1UwryM.gif" alt="history-back"></p>
<h3 id="forward">forward()</h3>
<p>可以跳转下一个页面，作用和浏览器的前进按钮一样</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">history.forward();</span><br></pre></td></tr></tbody></table></figure>
<p><img src="https://i.loli.net/2021/08/11/jxi5mZeQEztkPbT.gif" alt="history-forwar"></p>
<h3 id="go">go()</h3>
<p>可以用来跳转到指定的页面，它需要一个整数作为参数</p>
<ul>
<li>1：表示向前跳转一个页面，相当于<code>forward()</code></li>
<li>2：表示向前跳转两个页面</li>
<li>-1：表示向后跳转一个页面，相当于<code>back()</code></li>
<li>-2：表示向后跳转两个页面</li>
</ul>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">history.go(<span class="number">2</span>);</span><br></pre></td></tr></tbody></table></figure>
<p><img src="https://i.loli.net/2021/08/11/mbzLCtikIfxpnYy.gif" alt="history-go"></p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">history.go(-<span class="number">2</span>);</span><br></pre></td></tr></tbody></table></figure>
<p><img src="https://i.loli.net/2021/08/11/pU3PzqOCxIauSBt.gif" alt="history-go"></p>
<h2 id="4、Location">4、Location</h2>
<p>如果直接打印<code>location</code>，则可以获取到地址栏的信息（当前页面的完整路径）</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alert(location); <span class="comment">// http://127.0.0.1:8848/Demo/17-04-Location.html</span></span><br></pre></td></tr></tbody></table></figure>
<p>如果直接将<code>location</code>属性修改为一个完整的路径，或相对路径则我们页面会自动跳转到该路径，并且会生成相应的历史记录</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">location = <span class="string">"http://www.baidu.com"</span>;</span><br></pre></td></tr></tbody></table></figure>
<p><img src="https://i.loli.net/2021/08/11/YmnbW4GqT5lw7kf.gif" alt="location"></p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">location = <span class="string">"17-03-History.html"</span>;</span><br></pre></td></tr></tbody></table></figure>
<p><img src="https://i.loli.net/2021/08/11/fZOzJhKaC32quYR.gif" alt="location2"></p>
<p>其他属性方法</p>
<p><img src="https://i.loli.net/2021/08/11/XeKZjDa78W6Pudy.png" alt="image-20210811213202215"></p>
<h3 id="assign">assign()</h3>
<p>用来跳转到其他的页面，作用和直接修改<code>location</code>一样</p>
<p>会生成历史记录， 能使用回退按钮回退</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">location.assign(<span class="string">"http://www.baidu.com"</span>);</span><br></pre></td></tr></tbody></table></figure>
<p><img src="https://i.loli.net/2021/08/11/YmnbW4GqT5lw7kf.gif" alt="location-assign"></p>
<h3 id="replace-2">replace()</h3>
<p>可以使用一个新的页面替换当前页面，调用完毕也会跳转页面</p>
<p>不会生成历史记录，不能使用回退按钮回退</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">location.replace(<span class="string">"17-03-History.html"</span>);</span><br></pre></td></tr></tbody></table></figure>
<p><img src="https://i.loli.net/2021/08/11/fkgEPY2RpDiMWh3.gif" alt="location-replace"></p>
<h3 id="reload">reload()</h3>
<p>用于重新加载当前页面，作用和刷新按钮（F5）一样</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">location.reload();</span><br></pre></td></tr></tbody></table></figure>
<p><img src="https://i.loli.net/2021/08/11/enEy53BvS6KjX7N.gif" alt="location-reload"></p>
<p>如果在方法中传递一个<code>true</code>，作为参数，则会强制清空缓存刷新页面（Ctrl + F5）</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">location.reload(<span class="literal">true</span>);</span><br></pre></td></tr></tbody></table></figure>
<p><img src="https://i.loli.net/2021/08/11/vhwicnlyRSZL9Qz.gif" alt="location-reload(true)"></p>
<h1 id="定时调用与延时调用">定时调用与延时调用</h1>
<h2 id="1、定时调用">1、定时调用</h2>
<p><img src="https://i.loli.net/2021/08/11/qMQa3pymCtWTG2F.png" alt=""></p>
<p>JS 的程序的执行速度是非常非常快的如果希望一段程序，可以每间隔一段时间执行一次，可以使用定时调用</p>
<h3 id="setInterval">setInterval()</h3>
<p>定时调用，可以将一个函数，每隔一段时间执行一次</p>
<p>参数：</p>
<ol>
<li>回调函数，该函数会每隔一段时间被调用一次</li>
<li>每次调用间隔的时间，单位是毫秒</li>
</ol>
<p>返回值：返回一个<code>Number</code>类型的数据，这个数字用来作为定时器的唯一标识</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> num = <span class="number">1</span>;</span><br><span class="line">info = <span class="built_in">document</span>.getElementById(<span class="string">"info"</span>);</span><br><span class="line"><span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{</span><br><span class="line">    info.innerHTML = num++;</span><br><span class="line">}, <span class="number">1000</span>);</span><br></pre></td></tr></tbody></table></figure>
<p><img src="https://i.loli.net/2021/08/11/hT39yeQGAH4j7EV.gif" alt="setInterval"></p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{</span><br><span class="line">    info.innerHTML = num++;</span><br><span class="line">}, <span class="number">100</span>);</span><br></pre></td></tr></tbody></table></figure>
<p><img src="https://i.loli.net/2021/08/11/z6Y39hEmTsvxOSf.gif" alt="setInterval-2"></p>
<h3 id="clearInterval">clearInterval()</h3>
<p>可以用来关闭一个定时器，方法中需要一个定时器的标识作为参数，这样将关闭标识对应的定时器</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> timer = <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{</span><br><span class="line">    info.innerHTML = num++;</span><br><span class="line">    <span class="keyword">if</span>(num &gt; <span class="number">100</span>){</span><br><span class="line">        <span class="built_in">clearInterval</span>(timer);</span><br><span class="line">    }</span><br><span class="line">}, <span class="number">10</span>);</span><br></pre></td></tr></tbody></table></figure>
<p><img src="https://i.loli.net/2021/08/11/Wb3LsuBa8CyNfnP.gif" alt="clearInterval"></p>
<h3 id="练习1：定时图片切换">&lt;练习1：定时图片切换&gt;</h3>
<p>HTML 代码</p>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"img/1.jpg"</span> <span class="attr">id</span>=<span class="string">"img"</span> /&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">id</span>=<span class="string">"btnStart"</span>&gt;</span>开始<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">id</span>=<span class="string">"btnEnd"</span>&gt;</span>结束<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>
<p>JS 代码</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> btnStart = <span class="built_in">document</span>.getElementById(<span class="string">"btnStart"</span>);</span><br><span class="line"><span class="keyword">var</span> btnEnd = <span class="built_in">document</span>.getElementById(<span class="string">"btnEnd"</span>);</span><br><span class="line"><span class="keyword">var</span> img = <span class="built_in">document</span>.getElementById(<span class="string">"img"</span>);</span><br><span class="line"><span class="comment">// 设置轮播图片数组</span></span><br><span class="line"><span class="keyword">var</span> imgArr = [<span class="string">"img/1.jpg"</span>, <span class="string">"img/2.jpg"</span>, <span class="string">"img/3.jpg"</span>, <span class="string">"img/4.jpg"</span>, <span class="string">"img/5.jpg"</span>];</span><br><span class="line"><span class="comment">// 设置轮播图片索引</span></span><br><span class="line"><span class="keyword">var</span> index = <span class="number">0</span>;</span><br><span class="line"><span class="comment">// 为开始按钮绑定单击响应函数</span></span><br><span class="line"><span class="keyword">var</span> timer;</span><br><span class="line">btnStart.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{</span><br><span class="line">    <span class="comment">// 清除上一个定时器</span></span><br><span class="line">    <span class="built_in">clearInterval</span>(timer);</span><br><span class="line">    <span class="comment">// 设置定时器</span></span><br><span class="line">    timer = <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{</span><br><span class="line">        <span class="comment">// 切换图片</span></span><br><span class="line">        img.src = imgArr[index++];</span><br><span class="line">        <span class="comment">// 判断索引是否超过最大索引</span></span><br><span class="line">        index %= imgArr.length;</span><br><span class="line">    }, <span class="number">500</span>);</span><br><span class="line">};</span><br><span class="line"><span class="comment">// 为结束按钮绑定单击响应函数</span></span><br><span class="line">btnEnd.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{</span><br><span class="line">    <span class="built_in">clearInterval</span>(timer);</span><br><span class="line">};</span><br></pre></td></tr></tbody></table></figure>
<p><strong>效果</strong></p>
<p><img src="https://i.loli.net/2021/08/12/fU8l49bFTtcRyOk.gif" alt="定时切换图片"></p>
<p><strong>注意点一：循环切换图片</strong></p>
<p>当索引超过最大索引时，需要将索引重置，以达到轮播图片之目的</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// if(index &gt;= imgArr.length){</span></span><br><span class="line"><span class="comment">//     index = 0;</span></span><br><span class="line"><span class="comment">// }</span></span><br><span class="line">index %= imgArr.length;</span><br></pre></td></tr></tbody></table></figure>
<p><strong>注意点二：不点击开始，而直接点击结束</strong></p>
<p><code>clearInterval()</code>可以接收任意参数</p>
<ul>
<li>如果参数是一个有效的定时器的标识，则停止对应的定时器</li>
<li>如果参数不是一个有效的标识，则什么也不做</li>
</ul>
<p>即使没有点开始，timer 为 undefined 也不会报错，可以放心大胆的去使用</p>
<p><strong>注意点三：多次点击开始按钮导致切换速度过快问题</strong></p>
<p>目前，我们每点击一次按钮，就会开启一个定时器，点击多次就会开启多个定时器</p>
<p>这就导致图片的切换速度过快，并且我们只能关闭最后一次开启的定时器</p>
<p>在开启定时器之前，需要将当前元素上的其他定时器关闭</p>
<h3 id="练习2：div移动优化">&lt;练习2：div移动优化&gt;</h3>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义速度</span></span><br><span class="line"><span class="keyword">var</span> speed = <span class="number">20</span>;</span><br><span class="line"><span class="comment">// 定义方向</span></span><br><span class="line"><span class="keyword">var</span> direct = <span class="number">0</span>;</span><br><span class="line"><span class="comment">// 定时器只控制方向</span></span><br><span class="line"><span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{</span><br><span class="line">    <span class="keyword">switch</span> (direct) {</span><br><span class="line">        <span class="keyword">case</span> <span class="number">37</span>:</span><br><span class="line">            box1.style.left = box1.offsetLeft - speed + <span class="string">"px"</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">38</span>:</span><br><span class="line">            box1.style.top = box1.offsetTop - speed + <span class="string">"px"</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">39</span>:</span><br><span class="line">            box1.style.left = box1.offsetLeft + speed + <span class="string">"px"</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">40</span>:</span><br><span class="line">            box1.style.top = box1.offsetTop + speed + <span class="string">"px"</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    }</span><br><span class="line">}, <span class="number">50</span>);</span><br><span class="line"><span class="comment">// 键盘按下控制速度</span></span><br><span class="line"><span class="keyword">var</span> box1 = <span class="built_in">document</span>.getElementById(<span class="string">"box1"</span>);</span><br><span class="line"><span class="built_in">document</span>.onkeydown = <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>{</span><br><span class="line">    event = event || <span class="built_in">window</span>.event;</span><br><span class="line">    <span class="comment">// 修改速度</span></span><br><span class="line">    speed = event.ctrlKey ? <span class="number">50</span> : <span class="number">20</span>;</span><br><span class="line">    <span class="comment">// 捕获方向</span></span><br><span class="line">    direct = event.keyCode;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">};</span><br><span class="line"><span class="comment">// 键盘松开清空速度和方向</span></span><br><span class="line"><span class="built_in">document</span>.onkeyup = <span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>{</span><br><span class="line">    direct = <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><strong>效果</strong></p>
<p><img src="https://i.loli.net/2021/08/13/VbFKmQ7BwIhRpLO.gif" alt="div移动优化"></p>
<p><strong>优化思路</strong></p>
<ul>
<li>定时器控制方向，键盘按下控制速度和捕获方向，键盘松开清空速度和方向</li>
</ul>
<p>这就好比一辆汽车，速度就像汽车的油门，定时器就像汽车的方向盘，而键盘就像汽车的离合和档位</p>
<p>油门一直在踩着，发动机就一直匀速运转，就能保证速度一直存在，启动或转向就不会出现卡顿的现象</p>
<p>当键盘按下时，就是松离合换挡位；当键盘松开时，就是踩离合</p>
<p>不过，跟现实世界不同的是，JS 的世界没有惯性，所以只要松离合，div 就不会再移动了</p>
<h2 id="2、延时调用">2、延时调用</h2>
<h3 id="setTimeout-、clearTimeout">setTimeout()、clearTimeout()</h3>
<p>延时调用，延时调用一个函数不马上执行，而是隔一段时间以后在执行，而且只会执行一次</p>
<p>延时调用和定时调用的区别：定时调用会执行多次，而延时调用只会执行一次</p>
<p>延时调用和定时调用实际上是可以互相代替的，在开发中可以根据自己需要去选择</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> num = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">var</span> timer = <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{</span><br><span class="line"> 	<span class="built_in">console</span>.log(num++); <span class="comment">// 1 2 3 4 5 ...</span></span><br><span class="line">}, <span class="number">1000</span>);</span><br><span class="line"><span class="keyword">var</span> timer = <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{</span><br><span class="line">    <span class="built_in">console</span>.log(num++); <span class="comment">// 1</span></span><br><span class="line">}, <span class="number">1000</span>);</span><br><span class="line"><span class="built_in">clearTimeout</span>(timer);</span><br></pre></td></tr></tbody></table></figure>
<h2 id="3、定时器的应用（一）">3、定时器的应用（一）</h2>
<h3 id="练习：点击按钮div移动">&lt;练习：点击按钮div移动&gt;</h3>
<p>HTML 代码</p>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">id</span>=<span class="string">"btn1"</span>&gt;</span>点击按钮box1向右移动<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">id</span>=<span class="string">"btn2"</span>&gt;</span>点击按钮box1向左移动<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"box1"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"line"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>
<p>CSS 代码</p>
<figure class="highlight css"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">* {</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#box1</span> {</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: red;</span><br><span class="line">    <span class="comment">/* 开启定位 */</span></span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#line</span> {</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">1000px</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid black;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">800px</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">200px</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p>JS 代码</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 自定义兼容所有浏览器获取元素样式的方法</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getStyle</span>(<span class="params">obj, name</span>) </span>{</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">window</span>.getComputedStyle ? getComputedStyle(obj, <span class="literal">null</span>)[name] : obj.currentStyle[name];</span><br><span class="line">}</span><br><span class="line"><span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{</span><br><span class="line">    <span class="keyword">var</span> timer;</span><br><span class="line">    <span class="keyword">var</span> speed = <span class="number">19</span>;</span><br><span class="line">    <span class="keyword">var</span> btn1 = <span class="built_in">document</span>.getElementById(<span class="string">"btn1"</span>);</span><br><span class="line">    <span class="keyword">var</span> btn2 = <span class="built_in">document</span>.getElementById(<span class="string">"btn2"</span>);</span><br><span class="line">    <span class="keyword">var</span> box1 = <span class="built_in">document</span>.getElementById(<span class="string">"box1"</span>);</span><br><span class="line">    btn1.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{</span><br><span class="line">        <span class="comment">// 清空上一个定时器</span></span><br><span class="line">        <span class="built_in">clearInterval</span>(timer);</span><br><span class="line">        <span class="comment">// 设置定时器</span></span><br><span class="line">        timer = <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{</span><br><span class="line">            <span class="comment">// 获取旧值</span></span><br><span class="line">            <span class="keyword">var</span> oldValue = <span class="built_in">parseInt</span>(getStyle(box1, <span class="string">"left"</span>));</span><br><span class="line">            <span class="comment">// 获取新值</span></span><br><span class="line">            <span class="keyword">var</span> newValue = oldValue + speed;</span><br><span class="line">            <span class="comment">// 当达到一定值时停下来</span></span><br><span class="line">            newValue = newValue &gt; <span class="number">800</span> ? <span class="number">800</span> : newValue;</span><br><span class="line">            <span class="comment">// 赋新值</span></span><br><span class="line">            box1.style.left = newValue + <span class="string">"px"</span>;</span><br><span class="line">            <span class="comment">// 当值不再变化时，清空定时器</span></span><br><span class="line">            <span class="keyword">if</span>(newValue == <span class="number">800</span>){</span><br><span class="line">                <span class="built_in">clearInterval</span>(timer);</span><br><span class="line">            }</span><br><span class="line">        }, <span class="number">50</span>);</span><br><span class="line">    };</span><br><span class="line">    btn2.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{</span><br><span class="line">        <span class="comment">// 清空上一个定时器</span></span><br><span class="line">        <span class="built_in">clearInterval</span>(timer);</span><br><span class="line">        <span class="comment">// 设置定时器</span></span><br><span class="line">        timer = <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{</span><br><span class="line">            <span class="comment">// 获取旧值</span></span><br><span class="line">            <span class="keyword">var</span> oldValue = <span class="built_in">parseInt</span>(getStyle(box1, <span class="string">"left"</span>));</span><br><span class="line">            <span class="comment">// 获取新值</span></span><br><span class="line">            <span class="keyword">var</span> newValue = oldValue - speed;</span><br><span class="line">            <span class="comment">// 当达到一定值时停下来</span></span><br><span class="line">            newValue = newValue &lt; <span class="number">0</span> ? <span class="number">0</span> : newValue;</span><br><span class="line">            <span class="comment">// 赋新值</span></span><br><span class="line">            box1.style.left = newValue + <span class="string">"px"</span>;</span><br><span class="line">            <span class="comment">// 当值不再变化时，清空定时器</span></span><br><span class="line">            <span class="keyword">if</span>(newValue == <span class="number">0</span>){</span><br><span class="line">                <span class="built_in">clearInterval</span>(timer);</span><br><span class="line">            }</span><br><span class="line">        }, <span class="number">50</span>);</span><br><span class="line">    };</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><img src="https://i.loli.net/2021/08/14/JACEzyY3qvwm2Bh.gif" alt="点击按钮div移动"></p>
<h3 id="优化1：封装移动方法">优化1：封装移动方法</h3>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 封装移动方法</span></span><br><span class="line"><span class="comment">// obj：要执行动画的对象</span></span><br><span class="line"><span class="comment">// target：执行动画的目标位置</span></span><br><span class="line"><span class="comment">// speed：移动的速度（正数向右移动，负数向左移动）</span></span><br><span class="line"><span class="keyword">var</span> timer;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">move</span>(<span class="params">obj, target, speed</span>) </span>{</span><br><span class="line">    <span class="built_in">clearInterval</span>(timer);</span><br><span class="line">    timer = <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{</span><br><span class="line">        <span class="keyword">var</span> oldValue = <span class="built_in">parseInt</span>(getStyle(obj, <span class="string">"left"</span>));</span><br><span class="line">        <span class="keyword">var</span> newValue = oldValue + speed;</span><br><span class="line">        newValue = speed &gt; <span class="number">0</span> ? (newValue &gt; target ? target : newValue) : (newValue &lt; target ? target : newValue);</span><br><span class="line">        obj.style.left = newValue + <span class="string">"px"</span>;</span><br><span class="line">        <span class="keyword">if</span> (newValue == target) {</span><br><span class="line">            <span class="built_in">clearInterval</span>(timer);</span><br><span class="line">        }</span><br><span class="line">    }, <span class="number">50</span>);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h3 id="优化2：智能判断方向">优化2：智能判断方向</h3>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">move</span>(<span class="params">obj, target, speed</span>) </span>{</span><br><span class="line">    <span class="built_in">clearInterval</span>(timer);</span><br><span class="line">    <span class="keyword">var</span> current = <span class="built_in">parseInt</span>(getStyle(obj, <span class="string">"left"</span>));</span><br><span class="line">    <span class="comment">// 智能判断方向</span></span><br><span class="line">    speed = target &lt; current ? -speed : speed;</span><br><span class="line">    timer = <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{</span><br><span class="line">        <span class="keyword">var</span> oldValue = <span class="built_in">parseInt</span>(getStyle(obj, <span class="string">"left"</span>));</span><br><span class="line">        <span class="keyword">var</span> newValue = oldValue + speed;</span><br><span class="line">        newValue = speed &gt; <span class="number">0</span> ? (newValue &gt; target ? target : newValue) : (newValue &lt; target ? target : newValue);</span><br><span class="line">        obj.style.left = newValue + <span class="string">"px"</span>;</span><br><span class="line">        <span class="keyword">if</span> (newValue == target) {</span><br><span class="line">            <span class="built_in">clearInterval</span>(timer);</span><br><span class="line">        }</span><br><span class="line">    }, <span class="number">50</span>);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h3 id="优化3：消除多个div影响">优化3：消除多个div影响</h3>
<p><img src="https://i.loli.net/2021/08/14/miVw4jqu2n6MQR9.gif" alt="点击按钮div移动2"></p>
<p>目前我们的定时器的标识由全局变量 timer 保存，所有的执行正在执行的定时器都在这个变量中保存</p>
<p>那么我们就不能定义全局的了，而是需要向执行动画的对象中添加一个 timer 属性，用来保存它自己的定时器的标识</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">move</span>(<span class="params">obj, target, speed</span>) </span>{</span><br><span class="line">    <span class="built_in">clearInterval</span>(obj.timer);</span><br><span class="line">    <span class="keyword">var</span> current = <span class="built_in">parseInt</span>(getStyle(obj, <span class="string">"left"</span>));</span><br><span class="line">    <span class="comment">// 智能判断速度的方向</span></span><br><span class="line">    speed = target &lt; current ? -speed : speed;</span><br><span class="line">    obj.timer = <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{</span><br><span class="line">        <span class="keyword">var</span> oldValue = <span class="built_in">parseInt</span>(getStyle(obj, <span class="string">"left"</span>));</span><br><span class="line">        <span class="keyword">var</span> newValue = oldValue + speed;</span><br><span class="line">        newValue = speed &gt; <span class="number">0</span> ? (newValue &gt; target ? target : newValue) : (newValue &lt; target ? target :</span><br><span class="line">                                                                          newValue);</span><br><span class="line">        obj.style.left = newValue + <span class="string">"px"</span>;</span><br><span class="line">        <span class="keyword">if</span> (newValue == target) {</span><br><span class="line">            <span class="built_in">clearInterval</span>(obj.timer);</span><br><span class="line">        }</span><br><span class="line">    }, <span class="number">50</span>);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><img src="https://i.loli.net/2021/08/14/Lf2lukSN8IHzPhd.gif" alt="点击按钮div移动3"></p>
<p>这样，执行动画的对象之间就不会再互相产生影响了</p>
<h3 id="优化4：支持多属性">优化4：支持多属性</h3>
<p>只需要将<code>left</code>相关的属性改为变量传入</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// obj：要执行动画的对象</span></span><br><span class="line"><span class="comment">// attr：要执行动画的样式</span></span><br><span class="line"><span class="comment">// target：执行动画的目标位置</span></span><br><span class="line"><span class="comment">// speed：移动的速度（正数向右移动，负数向左移动）</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">move</span>(<span class="params">obj, attr, target, speed</span>) </span>{</span><br><span class="line">    <span class="built_in">clearInterval</span>(obj.timer);</span><br><span class="line">    <span class="keyword">var</span> current = <span class="built_in">parseInt</span>(getStyle(obj, attr));</span><br><span class="line">    <span class="comment">// 智能判断速度的方向</span></span><br><span class="line">    speed = target &lt; current ? -speed : speed;</span><br><span class="line">    obj.timer = <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{</span><br><span class="line">        <span class="keyword">var</span> oldValue = <span class="built_in">parseInt</span>(getStyle(obj, attr));</span><br><span class="line">        <span class="keyword">var</span> newValue = oldValue + speed;</span><br><span class="line">        newValue = speed &gt; <span class="number">0</span> ? (newValue &gt; target ? target : newValue) : (newValue &lt; target ? target :</span><br><span class="line">                                                                          newValue);</span><br><span class="line">        obj.style[attr] = newValue + <span class="string">"px"</span>;</span><br><span class="line">        <span class="keyword">if</span> (newValue == target) {</span><br><span class="line">            <span class="built_in">clearInterval</span>(obj.timer);</span><br><span class="line">        }</span><br><span class="line">    }, <span class="number">50</span>);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p>调用修改后的函数</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">btn1.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{</span><br><span class="line">    move(box1, <span class="string">"left"</span>, <span class="number">800</span>, speed);</span><br><span class="line">};</span><br><span class="line">btn2.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{</span><br><span class="line">    move(box1, <span class="string">"left"</span>, <span class="number">0</span>, speed);</span><br><span class="line">};</span><br><span class="line">btn3.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{</span><br><span class="line">    move(box2, <span class="string">"top"</span>, <span class="number">500</span>, speed);</span><br><span class="line">};</span><br><span class="line">btn4.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{</span><br><span class="line">    move(box3, <span class="string">"height"</span>, <span class="number">500</span>, speed);</span><br><span class="line">};</span><br></pre></td></tr></tbody></table></figure>
<p><img src="https://i.loli.net/2021/08/14/dtqMlPFViU5Jbv7.gif" alt="点击按钮div移动4"></p>
<h3 id="优化5：添加回调函数">优化5：添加回调函数</h3>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// obj：要执行动画的对象</span></span><br><span class="line"><span class="comment">// attr：要执行动画的样式</span></span><br><span class="line"><span class="comment">// target：执行动画的目标位置</span></span><br><span class="line"><span class="comment">// speed：移动的速度（正数向右移动，负数向左移动）</span></span><br><span class="line"><span class="comment">// callback：回调函数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">move</span>(<span class="params">obj, attr, target, speed, callback</span>) </span>{</span><br><span class="line">    <span class="built_in">clearInterval</span>(obj.timer);</span><br><span class="line">    <span class="keyword">var</span> current = <span class="built_in">parseInt</span>(getStyle(obj, attr));</span><br><span class="line">    <span class="comment">// 智能判断速度的方向</span></span><br><span class="line">    speed = target &lt; current ? -speed : speed;</span><br><span class="line">    obj.timer = <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{</span><br><span class="line">        <span class="keyword">var</span> oldValue = <span class="built_in">parseInt</span>(getStyle(obj, attr));</span><br><span class="line">        <span class="keyword">var</span> newValue = oldValue + speed;</span><br><span class="line">        newValue = speed &gt; <span class="number">0</span> ? (newValue &gt; target ? target : newValue) : (newValue &lt; target ? target :</span><br><span class="line">                                                                          newValue);</span><br><span class="line">        obj.style[attr] = newValue + <span class="string">"px"</span>;</span><br><span class="line">        <span class="keyword">if</span> (newValue == target) {</span><br><span class="line">            <span class="built_in">clearInterval</span>(obj.timer);</span><br><span class="line">            callback &amp;&amp; callback(); <span class="comment">// 即使不传回调函数也不会报错</span></span><br><span class="line">        }</span><br><span class="line">    }, <span class="number">50</span>);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p>调用回调函数</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">btn4.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{</span><br><span class="line">    move(box3, <span class="string">"height"</span>, <span class="number">500</span>, speed, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{</span><br><span class="line">        move(box3, <span class="string">"width"</span>, <span class="number">500</span>, speed, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{</span><br><span class="line">            move(box3, <span class="string">"height"</span>, <span class="number">100</span>, speed, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{</span><br><span class="line">                move(box3, <span class="string">"width"</span>, <span class="number">100</span>, speed, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{</span><br><span class="line"></span><br><span class="line">                });</span><br><span class="line">            });</span><br><span class="line">        });</span><br><span class="line">    });</span><br><span class="line">};</span><br></pre></td></tr></tbody></table></figure>
<p><img src="https://i.loli.net/2021/08/14/rUgXBfkOHbAueRN.gif" alt="点击按钮div移动5"></p>
<h3 id="优化6：封装JS文件">优化6：封装JS文件</h3>
<p>新建 js 文件夹，新建 tools.js 文件，复制 move 相关方法</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 自定义兼容所有浏览器获取元素样式的方法</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getStyle</span>(<span class="params">obj, name</span>) </span>{</span><br><span class="line">	<span class="keyword">return</span> <span class="built_in">window</span>.getComputedStyle ? getComputedStyle(obj, <span class="literal">null</span>)[name] : obj.currentStyle[name];</span><br><span class="line">}</span><br><span class="line"><span class="comment">// 封装移动方法</span></span><br><span class="line"><span class="comment">// obj：要执行动画的对象</span></span><br><span class="line"><span class="comment">// attr：要执行动画的样式</span></span><br><span class="line"><span class="comment">// target：执行动画的目标位置</span></span><br><span class="line"><span class="comment">// speed：移动的速度</span></span><br><span class="line"><span class="comment">// callback：回调函数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">move</span>(<span class="params">obj, attr, target, speed, callback</span>) </span>{</span><br><span class="line">	<span class="built_in">clearInterval</span>(obj.timer);</span><br><span class="line">	<span class="keyword">var</span> current = <span class="built_in">parseInt</span>(getStyle(obj, attr));</span><br><span class="line">	speed = target &lt; current ? -speed : speed;</span><br><span class="line">	obj.timer = <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{</span><br><span class="line">		<span class="keyword">var</span> oldValue = <span class="built_in">parseInt</span>(getStyle(obj, attr));</span><br><span class="line">		<span class="keyword">var</span> newValue = oldValue + speed;</span><br><span class="line">		newValue = speed &gt; <span class="number">0</span> ? (newValue &gt; target ? target : newValue) : (newValue &lt; target ? target :</span><br><span class="line">			newValue);</span><br><span class="line">		obj.style[attr] = newValue + <span class="string">"px"</span>;</span><br><span class="line">		<span class="keyword">if</span> (newValue == target) {</span><br><span class="line">			<span class="built_in">clearInterval</span>(obj.timer);</span><br><span class="line">			callback &amp;&amp; callback();</span><br><span class="line">		}</span><br><span class="line">	}, <span class="number">50</span>);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p>最后再引入 js 文件，大功告成</p>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"js/tools.js"</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="4、定时器应用（二）">4、定时器应用（二）</h2>
<h3 id="练习：轮播图">&lt;练习：轮播图&gt;</h3>
<p>HTML 代码</p>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"outer"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">"pic-list"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"img/1.jpg"</span> /&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"img/2.jpg"</span> /&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"img/3.jpg"</span> /&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"img/4.jpg"</span> /&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"img/5.jpg"</span> /&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"img/1.jpg"</span> /&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">"nav-list"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:;"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:;"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:;"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:;"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:;"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>
<p>CSS 代码</p>
<figure class="highlight css"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 去除浏览器默认样式 */</span></span><br><span class="line">* {</span><br><span class="line">	<span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">	<span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">ul</span> {</span><br><span class="line">	<span class="attribute">list-style</span>: none;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">a</span>{</span><br><span class="line">	<span class="attribute">text-decoration</span>: none;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 总体布局 */</span></span><br><span class="line"><span class="selector-id">#outer</span> {</span><br><span class="line">	<span class="attribute">width</span>: <span class="number">500px</span>;</span><br><span class="line">	<span class="attribute">height</span>: <span class="number">332px</span>;</span><br><span class="line">	<span class="attribute">margin</span>: <span class="number">100px</span> auto;</span><br><span class="line">	<span class="attribute">box-shadow</span>: <span class="number">10px</span> <span class="number">10px</span> <span class="number">5px</span> <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, .<span class="number">2</span>);</span><br><span class="line">	<span class="attribute">position</span>: relative;</span><br><span class="line">	<span class="attribute">overflow</span>: hidden;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 轮播图片 */</span></span><br><span class="line"><span class="selector-id">#pic-list</span> {</span><br><span class="line">	<span class="attribute">width</span>: <span class="number">2550px</span>;</span><br><span class="line">	<span class="attribute">position</span>: absolute;</span><br><span class="line">	<span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">	<span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">	<span class="comment">/* 添加过渡效果 */</span></span><br><span class="line">	<span class="comment">/* transition: left 0.3s; */</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#pic-list</span> <span class="selector-tag">li</span> {</span><br><span class="line">	<span class="attribute">float</span>: left;</span><br><span class="line">	<span class="attribute">margin-right</span>: <span class="number">10px</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 轮播按钮 */</span></span><br><span class="line"><span class="selector-id">#nav-list</span> {</span><br><span class="line">	<span class="attribute">position</span>: absolute;</span><br><span class="line">	<span class="attribute">left</span>: <span class="number">187.5px</span>;</span><br><span class="line">	<span class="attribute">bottom</span>: <span class="number">10px</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#nav-list</span> <span class="selector-tag">li</span>{</span><br><span class="line">	<span class="attribute">float</span>: left;</span><br><span class="line">	<span class="attribute">width</span>: <span class="number">15px</span>;</span><br><span class="line">	<span class="attribute">height</span>: <span class="number">15px</span>;</span><br><span class="line">	<span class="attribute">background-color</span>: red;</span><br><span class="line">	<span class="attribute">opacity</span>: <span class="number">0.5</span>;</span><br><span class="line">	<span class="attribute">margin</span>: <span class="number">0</span> <span class="number">5px</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#nav-list</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span>{</span><br><span class="line">	<span class="attribute">background-color</span>: black;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#nav-list</span> <span class="selector-tag">li</span> <span class="selector-tag">a</span>{</span><br><span class="line">	<span class="attribute">display</span>: block;</span><br><span class="line">	<span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">	<span class="attribute">line-height</span>: <span class="number">100%</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p>JS 代码</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{</span><br><span class="line">    <span class="keyword">var</span> outer = <span class="built_in">document</span>.getElementById(<span class="string">"outer"</span>);</span><br><span class="line">    <span class="keyword">var</span> picList = <span class="built_in">document</span>.getElementById(<span class="string">"pic-list"</span>);</span><br><span class="line">    <span class="keyword">var</span> imgArr = <span class="built_in">document</span>.getElementsByTagName(<span class="string">"img"</span>);</span><br><span class="line">    <span class="keyword">var</span> navList = <span class="built_in">document</span>.getElementById(<span class="string">"nav-list"</span>);</span><br><span class="line">    <span class="keyword">var</span> aArr = <span class="built_in">document</span>.getElementsByTagName(<span class="string">"a"</span>);</span><br><span class="line">    <span class="keyword">var</span> index = <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 动态调整picList的宽度，以自适应图片的数量变化</span></span><br><span class="line">    picList.style.width = (outer.clientWidth + <span class="number">10</span>) * imgArr.length + <span class="string">"px"</span>;</span><br><span class="line">    <span class="comment">// 动态调整navList的水平偏移量</span></span><br><span class="line">    navList.style.left = (outer.clientWidth - <span class="number">25</span> * aArr.length) / <span class="number">2</span> + <span class="string">"px"</span>;</span><br><span class="line">    <span class="comment">// 设置第一个轮播按钮悬浮颜色</span></span><br><span class="line">    aArr[index].style.backgroundColor = <span class="string">"black"</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 点击按钮切换图片</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; aArr.length; i++) {</span><br><span class="line">        aArr[i].index = i;</span><br><span class="line">        aArr[i].onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{</span><br><span class="line">            <span class="comment">// 设置index</span></span><br><span class="line">            index = <span class="built_in">this</span>.index;</span><br><span class="line">            <span class="comment">// 清空定时器</span></span><br><span class="line">            <span class="built_in">clearInterval</span>(timer);</span><br><span class="line">            move(picList, <span class="string">"left"</span>, -(outer.clientWidth + <span class="number">10</span>) * index, <span class="number">100</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{</span><br><span class="line">                <span class="comment">// 开启定时器</span></span><br><span class="line">                autoSwitch();</span><br><span class="line">            });</span><br><span class="line">            setColor();</span><br><span class="line">        };</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    autoSwitch();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 自动切换图片</span></span><br><span class="line">    <span class="keyword">var</span> timer;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">autoSwitch</span>(<span class="params"></span>) </span>{</span><br><span class="line">        timer = <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{</span><br><span class="line">            index++;</span><br><span class="line">            index %= imgArr.length;</span><br><span class="line">            move(picList, <span class="string">"left"</span>, -(outer.clientWidth + <span class="number">10</span>) * index, <span class="number">100</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{</span><br><span class="line">                <span class="keyword">if</span> (index &gt;= imgArr.length - <span class="number">1</span>) {</span><br><span class="line">                    picList.style.left = <span class="string">"0px"</span>;</span><br><span class="line">                }</span><br><span class="line">                setColor();</span><br><span class="line">            });</span><br><span class="line">        }, <span class="number">3000</span>);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 设置轮播按钮悬浮颜色</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">setColor</span>(<span class="params"></span>) </span>{</span><br><span class="line">        <span class="comment">// 重置所有轮播按钮颜色：由于修改的是内联样式，优先级较高，会把css样式覆盖，导致悬浮效果失效</span></span><br><span class="line">        <span class="comment">// 那么这里不使用内联样式，将其置为空，这样就会找css样式</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; aArr.length; i++) {</span><br><span class="line">            aArr[i].style.backgroundColor = <span class="string">""</span>;</span><br><span class="line">        }</span><br><span class="line">        index %= aArr.length;</span><br><span class="line">        aArr[index].style.backgroundColor = <span class="string">"black"</span>;</span><br><span class="line">    }</span><br><span class="line">};</span><br></pre></td></tr></tbody></table></figure>
<p><img src="https://i.loli.net/2021/08/14/YqVdsO9umlE4krF.gif" alt="轮播图"></p>
<h2 id="5、类的操作">5、类的操作</h2>
<h3 id="修改class属性">修改class属性</h3>
<p>HTML 代码</p>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">id</span>=<span class="string">"btn1"</span>&gt;</span>点击按钮修改box1样式<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"box1"</span> <span class="attr">class</span>=<span class="string">"b1"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>
<p>CSS 代码</p>
<figure class="highlight css"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.b1</span>{</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: red;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p>JS 代码</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">box1.style.width = <span class="string">"200px"</span>;</span><br><span class="line">box1.style.height = <span class="string">"200px"</span>;</span><br><span class="line">box1.style.backgroundColor = <span class="string">"yellow"</span>;</span><br></pre></td></tr></tbody></table></figure>
<p>通过<code>style</code>属性来修改元素的样式，每修改一个样式，浏览器就需要重新渲染一次页面</p>
<p>这样执行的性能是比较差的，而且这种形式当我们要修改多个样式时，也不太方便</p>
<p><strong>那怎么办呢？</strong></p>
<p>我们可以先事先定义好一个 class 属性，里面写好我们需要变化的样式</p>
<figure class="highlight css"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.b2</span>{</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: yellow;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p>然后在 JS 中修改<code>className</code>属性即可</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">box1.className = <span class="string">"b2"</span>;</span><br></pre></td></tr></tbody></table></figure>
<p>效果是一样的</p>
<p><img src="https://i.loli.net/2021/08/14/bWHfjL8iD2SAazQ.gif" alt="修改class属性"></p>
<p>我们可以通过修改元素的<code>class</code>属性来间接的修改样式</p>
<p>这样一来，我们只需要修改一次，即可同时修改多个样式</p>
<p>浏览器只需要重新渲染页面一次，性能比较好，并且这种方式，可以使表现和行为进一步的分离</p>
<h3 id="添加class属性">添加class属性</h3>
<p>我们可以在此样式基础之上，定义一个函数，用来向一个元素中添加指定的 class 属性值</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 参数：</span></span><br><span class="line"><span class="comment">// obj 要添加class属性的元素</span></span><br><span class="line"><span class="comment">// cn  要添加的class值</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">addClass</span>(<span class="params">obj, cn</span>)</span>{</span><br><span class="line">    obj.className += <span class="string">" "</span> + cn;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//.b3{</span></span><br><span class="line"><span class="comment">//    position: absolute;</span></span><br><span class="line"><span class="comment">//    left: 100px;</span></span><br><span class="line"><span class="comment">//}</span></span><br><span class="line">addClass(box1, <span class="string">"b3"</span>);</span><br></pre></td></tr></tbody></table></figure>
<p><img src="https://i.loli.net/2021/08/15/XwOz4VmKWD6GJh5.gif" alt="添加class属性"></p>
<p>但是也存在一个问题，虽然从效果上来看没有什么不同，但多次点击后会重复添加相同的 class 属性，而这个操作是多余的</p>
<p><img src="https://i.loli.net/2021/08/15/rO9wiP2nUtdhAsC.gif" alt="类的操作3"></p>
<p>我们就需要在写一个函数来判断是否已经存在 class 属性</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">hasClass</span>(<span class="params">obj, cn</span>) </span>{</span><br><span class="line">    <span class="comment">// return obj.className.indexOf(cn) != -1;</span></span><br><span class="line">    <span class="keyword">var</span> reg = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">"\\b"</span>+cn+<span class="string">"\\b"</span>);</span><br><span class="line">    <span class="keyword">return</span> reg.test(obj.className);</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">addClass</span>(<span class="params">obj, cn</span>) </span>{</span><br><span class="line">    <span class="keyword">if</span> (!hasClass(obj, cn)) {</span><br><span class="line">        obj.className += <span class="string">" "</span> + cn;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><img src="https://i.loli.net/2021/08/15/XQ6xkV7ZEAUDMHg.gif" alt="类的操作4"></p>
<h3 id="删除class属性">删除class属性</h3>
<p>删除一个元素中的指定的 class 属性</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">removeClass</span>(<span class="params">obj, cn</span>) </span>{</span><br><span class="line">    <span class="keyword">var</span> reg = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">"\\b"</span> + cn + <span class="string">"\\b"</span>);</span><br><span class="line">    obj.className = obj.className.replace(reg, <span class="string">""</span>);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><img src="https://i.loli.net/2021/08/15/lh7omcWbgUtYIxp.gif" alt="删除class属性"></p>
<h3 id="切换class属性">切换class属性</h3>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// toggleClass可以用来切换一个类</span></span><br><span class="line"><span class="comment">// 如果元素中具有该类，则删除</span></span><br><span class="line"><span class="comment">// 如果元素中没有该类，则添加</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">toggleClass</span>(<span class="params">obj, cn</span>) </span>{</span><br><span class="line">    <span class="keyword">if</span> (hasClass(obj, cn)) {</span><br><span class="line">        removeClass(obj, cn);</span><br><span class="line">    } <span class="keyword">else</span> {</span><br><span class="line">        addClass(obj, cn);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><img src="https://i.loli.net/2021/08/15/rYVGuIyRxjhFJWf.gif" alt=" 切换class属性"></p>
<h3 id="练习：二级菜单">&lt;练习：二级菜单&gt;</h3>
<p>HTML 代码</p>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"my_menu"</span> <span class="attr">class</span>=<span class="string">"sdmenu"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"menuSpan"</span>&gt;</span>在线工具<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>图像优化<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>收藏夹图标生成器<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>邮件<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>htaccess密码<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>梯度图像<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>按钮生成器<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"collapsed"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"menuSpan"</span>&gt;</span>支持我们<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>推荐我们<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>链接我们<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>网络资源<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"collapsed"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"menuSpan"</span>&gt;</span>合作伙伴<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>JavaScript工具包<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>CSS驱动<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>CodingForums<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>CSS例子<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"collapsed"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"menuSpan"</span>&gt;</span>测试电流<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>Current or not<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>Current or not<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>Current or not<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>Current or not<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>
<p>CSS 代码</p>
<figure class="highlight css"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@charset</span> <span class="string">"utf-8"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* sdmenu */</span></span><br><span class="line"></span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.sdmenu</span> {</span><br><span class="line">	<span class="attribute">width</span>: <span class="number">150px</span>;</span><br><span class="line">	<span class="attribute">margin</span>: <span class="number">0</span> auto;</span><br><span class="line">	<span class="attribute">font-family</span>: Arial, sans-serif;</span><br><span class="line">	<span class="attribute">font-size</span>: <span class="number">12px</span>;</span><br><span class="line">	<span class="attribute">padding-bottom</span>: <span class="number">10px</span>;</span><br><span class="line">	<span class="attribute">background</span>: <span class="built_in">url</span>(bottom.gif) no-repeat right bottom;</span><br><span class="line">	<span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.sdmenu</span> <span class="selector-tag">div</span> {</span><br><span class="line">	<span class="attribute">background</span>: <span class="built_in">url</span>(title.gif) repeat-x;</span><br><span class="line">	<span class="attribute">overflow</span>: hidden;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.sdmenu</span> <span class="selector-tag">div</span><span class="selector-pseudo">:first-child</span> {</span><br><span class="line">	<span class="attribute">background</span>: <span class="built_in">url</span>(toptitle.gif) no-repeat;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.sdmenu</span> <span class="selector-tag">div</span><span class="selector-class">.collapsed</span> {</span><br><span class="line">	<span class="attribute">height</span>: <span class="number">25px</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.sdmenu</span> <span class="selector-tag">div</span> <span class="selector-tag">span</span> {</span><br><span class="line">	<span class="attribute">display</span>: block;</span><br><span class="line">	<span class="attribute">height</span>: <span class="number">15px</span>;</span><br><span class="line">	<span class="attribute">line-height</span>: <span class="number">15px</span>;</span><br><span class="line">	<span class="attribute">overflow</span>: hidden;</span><br><span class="line">	<span class="attribute">padding</span>: <span class="number">5px</span> <span class="number">25px</span>;</span><br><span class="line">	<span class="attribute">font-weight</span>: bold;</span><br><span class="line">	<span class="attribute">color</span>: white;</span><br><span class="line">	<span class="attribute">background</span>: <span class="built_in">url</span>(expanded.gif) no-repeat <span class="number">10px</span> center;</span><br><span class="line">	<span class="attribute">cursor</span>: pointer;</span><br><span class="line">	<span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="number">#ddd</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.sdmenu</span> <span class="selector-tag">div</span><span class="selector-class">.collapsed</span> <span class="selector-tag">span</span> {</span><br><span class="line">	<span class="attribute">background-image</span>: <span class="built_in">url</span>(collapsed.gif);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.sdmenu</span> <span class="selector-tag">div</span> <span class="selector-tag">a</span> {</span><br><span class="line">	<span class="attribute">padding</span>: <span class="number">5px</span> <span class="number">10px</span>;</span><br><span class="line">	<span class="attribute">background</span>: <span class="number">#eee</span>;</span><br><span class="line">	<span class="attribute">display</span>: block;</span><br><span class="line">	<span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="number">#ddd</span>;</span><br><span class="line">	<span class="attribute">color</span>: <span class="number">#066</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.sdmenu</span> <span class="selector-tag">div</span> <span class="selector-tag">a</span><span class="selector-class">.current</span> {</span><br><span class="line">	<span class="attribute">background</span>: <span class="number">#ccc</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.sdmenu</span> <span class="selector-tag">div</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> {</span><br><span class="line">	<span class="attribute">background</span>: <span class="number">#066</span> <span class="built_in">url</span>(linkarrow.gif) no-repeat right center;</span><br><span class="line">	<span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">	<span class="attribute">text-decoration</span>: none;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p>JS 代码</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 为兼容IE8，用querySelectorAll</span></span><br><span class="line"><span class="keyword">var</span> menuSpan = <span class="built_in">document</span>.querySelectorAll(<span class="string">".menuSpan"</span>);</span><br><span class="line"><span class="keyword">var</span> myMenu = <span class="built_in">document</span>.getElementById(<span class="string">"my_menu"</span>);</span><br><span class="line"><span class="keyword">var</span> thisNode;</span><br><span class="line"><span class="comment">// 定义一个变量，来保存当前打开的菜单</span></span><br><span class="line"><span class="keyword">var</span> openNode = menuSpan[<span class="number">0</span>].parentNode;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; menuSpan.length; i++) {</span><br><span class="line">    <span class="comment">// 一级菜单绑定单击响应函数</span></span><br><span class="line">    menuSpan[i].onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{</span><br><span class="line">        thisNode = <span class="built_in">this</span>.parentNode;</span><br><span class="line">        <span class="comment">// 切换collapsed的class属性</span></span><br><span class="line">        toggleClass(thisNode, <span class="string">"collapsed"</span>);</span><br><span class="line">        <span class="comment">// 打开菜单以后，应该关闭之前打开的菜单</span></span><br><span class="line">        <span class="keyword">if</span> (openNode != thisNode &amp;&amp; !hasClass(openNode, <span class="string">"collapsed"</span>)) {</span><br><span class="line">            <span class="comment">// 为了可以统一处理动画过渡效果，我们希望在这将addClass改为toggleClass</span></span><br><span class="line">            <span class="comment">// addClass(openNode, "collapsed");</span></span><br><span class="line">            <span class="comment">// 此处toggleClass()不需要有移除的功能</span></span><br><span class="line">            toggleClass(openNode, <span class="string">"collapsed"</span>);</span><br><span class="line">        }</span><br><span class="line">        openNode = thisNode;</span><br><span class="line">    };</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><img src="https://i.loli.net/2021/08/15/HAcVCq8sIul4wvM.gif" alt="二级菜单1"></p>
<p>添加动画的过渡效果</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> beginHeight;</span><br><span class="line"><span class="keyword">var</span> endHeight;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; menuSpan.length; i++) {</span><br><span class="line">    menuSpan[i].onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{</span><br><span class="line">        thisNode = <span class="built_in">this</span>.parentNode;</span><br><span class="line">        <span class="comment">// 切换前高度</span></span><br><span class="line">        beginHeight = thisNode.offsetHeight;</span><br><span class="line">        <span class="comment">// 切换</span></span><br><span class="line">        toggleClass(thisNode, <span class="string">"collapsed"</span>);</span><br><span class="line">        <span class="comment">// 切换后高度</span></span><br><span class="line">        endHeight = thisNode.offsetHeight;</span><br><span class="line">        <span class="comment">// 动画执行前内联高度</span></span><br><span class="line">        thisNode.style.height = beginHeight + <span class="string">"px"</span>;</span><br><span class="line">        <span class="comment">// 设置动画效果</span></span><br><span class="line">        move(thisNode, <span class="string">"height"</span>, endHeight, <span class="number">30</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{</span><br><span class="line"></span><br><span class="line">        });</span><br><span class="line">        <span class="keyword">if</span> (openNode != thisNode &amp;&amp; !hasClass(openNode, <span class="string">"collapsed"</span>)) {</span><br><span class="line">            toggleClass(openNode, <span class="string">"collapsed"</span>);</span><br><span class="line">        }</span><br><span class="line">        openNode = thisNode;</span><br><span class="line">    };</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><img src="https://i.loli.net/2021/08/15/OjcHNzCEZMhYr1K.gif" alt="二级菜单2"></p>
<p>因为我们执行动画前添加了一个内联高度，而内联属性的优先级是最高的</p>
<p>当添加<code>collapsed</code>的 class 属性后不会起作用，因此同时需要在动画执行完毕后去除内联样式</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">move(thisNode, <span class="string">"height"</span>, endHeight, <span class="number">30</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{</span><br><span class="line">    <span class="comment">// 动画执行后内联高度</span></span><br><span class="line">    thisNode.style.height = <span class="string">""</span>;</span><br><span class="line">});</span><br></pre></td></tr></tbody></table></figure>
<p><img src="https://i.loli.net/2021/08/15/t6SyAU9hkqHI7fz.gif" alt="二级菜单3"></p>
<p>我们只对展开添加了动画效果，折叠时并没有添加动画</p>
<p>因为添加动画的逻辑是一致的，所以这里我们可以封装一个函数，用来执行带有动画效果的折叠和展开动作</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 带有动画效果的折叠和展开动作</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">toggleMenu</span>(<span class="params">obj</span>) </span>{</span><br><span class="line">    <span class="comment">// 切换前高度</span></span><br><span class="line">    beginHeight = obj.offsetHeight;</span><br><span class="line">    <span class="comment">// 切换</span></span><br><span class="line">    toggleClass(obj, <span class="string">"collapsed"</span>);</span><br><span class="line">    <span class="comment">// 切换后高度</span></span><br><span class="line">    endHeight = obj.offsetHeight;</span><br><span class="line">    <span class="comment">// 动画执行前内联高度</span></span><br><span class="line">    obj.style.height = beginHeight + <span class="string">"px"</span>;</span><br><span class="line">    <span class="comment">// 设置动画效果</span></span><br><span class="line">    move(obj, <span class="string">"height"</span>, endHeight, <span class="number">30</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{</span><br><span class="line">        <span class="comment">// 动画执行后内联高度</span></span><br><span class="line">        obj.style.height = <span class="string">""</span>;</span><br><span class="line">    });</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p>调用 toggleMenu 函数</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; menuSpan.length; i++) {</span><br><span class="line">    menuSpan[i].onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{</span><br><span class="line">        thisNode = <span class="built_in">this</span>.parentNode;</span><br><span class="line">        <span class="comment">// 切换</span></span><br><span class="line">        toggleMenu(thisNode);</span><br><span class="line">        <span class="comment">// 关闭其他div</span></span><br><span class="line">        <span class="keyword">if</span> (openNode != thisNode &amp;&amp; !hasClass(openNode, <span class="string">"collapsed"</span>)) {</span><br><span class="line">            toggleMenu(openNode);</span><br><span class="line">        }</span><br><span class="line">        openNode = thisNode;</span><br><span class="line">    };</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><img src="https://i.loli.net/2021/08/15/um1XBdjYKkhne6r.gif" alt="二级菜单4"></p>
<h1 id="JSON">JSON</h1>
<p>JS 中的对象只有 JS 自己认识，其他的语言都不认识</p>
<p><code>JSON</code>就是一个特殊格式的字符串，这个字符串可以被任意的语言所识别，并且可以转换为任意语言中的对象，<code>JSON</code>在开发中主要用来数据的交互</p>
<h2 id="JSON简介">JSON简介</h2>
<p><img src="https://i.loli.net/2021/08/15/7vAu4g1pPcOBzNt.png" alt="image-20210815161757491"></p>
<p>JavaScript Object Notation，JS 对象表示法</p>
<p><code>JSON</code> 和 JS 对象的格式一样，只不过 <code>JSON </code>字符串中的属性名必须加双引号，其他的和JS语法一致</p>
<h2 id="JSON分类">JSON分类</h2>
<ul>
<li><code>对象{}</code></li>
<li><code>数组[]</code></li>
</ul>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = {</span><br><span class="line">    <span class="string">"name"</span>: <span class="string">"孙悟空"</span>,</span><br><span class="line">    <span class="string">"age"</span>: <span class="number">1000</span>,</span><br><span class="line">    <span class="string">"gender"</span>: <span class="string">"男"</span></span><br><span class="line">};</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> obj); <span class="comment">// object</span></span><br><span class="line"><span class="keyword">var</span> jsonObjStr = <span class="string">'{"name": "孙悟空","age": 1000,"gender": "男"}'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> jsonObjStr); <span class="comment">// string</span></span><br><span class="line"><span class="keyword">var</span> jsonArrStr = <span class="string">'[1,2,3,"hello", true]'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> jsonArrStr); <span class="comment">// string</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="JSON中允许的值">JSON中允许的值</h2>
<ul>
<li>字符串</li>
<li>数值</li>
<li>布尔值</li>
<li><code>null</code></li>
<li>对象</li>
<li>数组</li>
</ul>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// json对象可以包含json数组</span></span><br><span class="line"><span class="keyword">var</span> obj1 = <span class="string">'{"arr":[1,2,3]}'</span>;</span><br><span class="line"><span class="comment">// json数组可以包含json对象</span></span><br><span class="line"><span class="keyword">var</span> obj2 = <span class="string">'[{"name": "孙悟空","age": 1000,"gender": "男"},{"name": "孙悟空","age": 1000,"gender": "男"}]'</span>;</span><br></pre></td></tr></tbody></table></figure>
<h2 id="JSON和JS间转换">JSON和JS间转换</h2>
<p>在 JS 中，为我们提供了一个工具类，就叫<code>JSON</code></p>
<p>这个对象可以帮助我们将一个<code>JSON</code>转换为 JS 对象，也可以将一个 JS 对象转换<code>JSON</code></p>
<h3 id="JSON-parse">JSON.parse()</h3>
<p>可以将<code>JSON</code>字符串转换为 JS 中的对象</p>
<p>需要一个<code>JSON</code>字符串作为参数，会将该字符串转换为 JS 对象并返回</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> jsonObj = <span class="built_in">JSON</span>.parse(jsonObjStr);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> jsonObj); <span class="comment">// object</span></span><br><span class="line"><span class="built_in">console</span>.log(jsonObj); <span class="comment">// { name: "孙悟空", age: 1000, gender: "男" }</span></span><br><span class="line"><span class="built_in">console</span>.log(jsonObj.name); <span class="comment">// 孙悟空</span></span><br><span class="line"><span class="built_in">console</span>.log(jsonObj.age); <span class="comment">// 1000</span></span><br><span class="line"><span class="built_in">console</span>.log(jsonObj.gender); <span class="comment">// 男</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> jsonArr = <span class="built_in">JSON</span>.parse(jsonArrStr);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> jsonArr); <span class="comment">// object</span></span><br><span class="line"><span class="built_in">console</span>.log(jsonArr); <span class="comment">// (5) [ 1, 2, 3, "hello", true ]</span></span><br><span class="line"><span class="built_in">console</span>.log(jsonArr[<span class="number">0</span>]); <span class="comment">// 1</span></span><br><span class="line"><span class="built_in">console</span>.log(jsonArr[<span class="number">3</span>]); <span class="comment">// hello</span></span><br><span class="line"><span class="built_in">console</span>.log(jsonArr[<span class="number">4</span>]); <span class="comment">// true</span></span><br></pre></td></tr></tbody></table></figure>
<h3 id="JSON-stringify">JSON.stringify()</h3>
<p>可以将一个 JS 对象转换为<code>JSON</code>字符串</p>
<p>需要一个 JS 对象作为参数，会返回一个<code>JSON</code>字符串</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj2 = {</span><br><span class="line">    name: <span class="string">"猪八戒"</span>,</span><br><span class="line">    age: <span class="number">2000</span>,</span><br><span class="line">    gender: <span class="string">"男"</span></span><br><span class="line">};</span><br><span class="line"><span class="keyword">var</span> obj2JSONStr = <span class="built_in">JSON</span>.stringify(obj2);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> obj2JSONStr); <span class="comment">// string</span></span><br><span class="line"><span class="built_in">console</span>.log(obj2JSONStr); <span class="comment">// {"name":"猪八戒","age":2000,"gender":"男"}</span></span><br></pre></td></tr></tbody></table></figure>
<p><code>JSON</code>对象在 IE7 及以下的浏览器中不支持，所以在这些浏览器中调用时会报错</p>
<p><img src="https://i.loli.net/2021/08/15/yHtogF2fDuORYLi.png" alt="image-20210815155616771"></p>
<h3 id="eval">eval()</h3>
<p>这个函数可以用来执行一段字符串形式的 JS 代码，并将执行结果返回</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">'alert("hello")'</span>;</span><br><span class="line"><span class="built_in">eval</span>(str);</span><br></pre></td></tr></tbody></table></figure>
<p><img src="https://i.loli.net/2021/08/15/6iezRpgfl3bB2Uu.png" alt="image-20210815160227547"></p>
<p>如果使用<code>eval()</code>执行的字符串中含有<code>{}</code>，它会将<code>{}</code>当成是代码块</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> jsonObjStr = <span class="string">'{"name": "孙悟空","age": 1000,"gender": "男"}'</span>;</span><br><span class="line"><span class="built_in">eval</span>(jsonObjStr);</span><br></pre></td></tr></tbody></table></figure>
<p><img src="https://i.loli.net/2021/08/15/AWUjuMbFRkIHyiw.png" alt="image-20210815160250908"></p>
<p>如果不希望将其当成代码块解析，则需要在字符串前后各加一个<code>()</code></p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> jsonObjStr = <span class="string">'{"name": "孙悟空","age": 1000,"gender": "男"}'</span>;</span><br><span class="line"><span class="keyword">var</span> result = <span class="built_in">eval</span>(<span class="string">"("</span> + jsonObjStr + <span class="string">")"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">// {age: 1000, gender: "男", name: "孙悟空"}</span></span><br></pre></td></tr></tbody></table></figure>
<p><code>eval()</code>这个函数的功能很强大，可以直接执行一个字符串中的 JS 代码</p>
<p>但是在开发中尽量不要使用，首先它的执行性能比较差，然后它还具有安全隐患</p>
<p><img src="https://i.loli.net/2021/08/15/pYUqRwjneiygHAh.jpg" alt="img"></p>
<h3 id="兼容IE7">兼容IE7</h3>
<p>如果需要兼容 IE7 及以下的<code>JSON</code>操作，则可以通过引入一个外部的 JS 文件来处理</p>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"js/json2.js"</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>
<p>然后在 IE7 浏览器中调用<code>JSON</code>相关方法就不会报错了</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">JSON</span>.parse(jsonObjStr)); <span class="comment">// {age: 1000, gender: "男", name: "孙悟空"}</span></span><br></pre></td></tr></tbody></table></figure>
<p>一开始介绍<code>JSON</code>时，说<code>JSON </code>字符串中的属性名必须加双引号</p>
<p>如果我就是不加呢？</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> jsonObjStr = <span class="string">'{name: "孙悟空","age": 1000,"gender": "男"}'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">JSON</span>.parse(jsonObjStr));</span><br></pre></td></tr></tbody></table></figure>
<p>那就是一堆错误等着你了</p>
<p><img src="https://i.loli.net/2021/08/15/yVFgMt35lAPBjkm.png" alt="image-20210815161357814"></p>
<p><img src="https://i.loli.net/2021/08/15/yeRCo4rlS37KP9M.png" alt="image-20210815161624439"></p>
<p><img src="https://i.loli.net/2021/08/15/UNmpB4MvdRIXKbl.png" alt="image-20210815161719543"></p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:lixingzee@gmail.com" rel="external nofollow noreferrer">李星泽</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://lxz9.com/2022/04/02/JavaScript/">http://lxz9.com/2022/04/02/JavaScript/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow noreferrer" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://lxz9.com" target="_blank">生信技术</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/js/">js</a><a class="post-meta__tags" href="/tags/%E5%89%8D%E7%AB%AF/">前端</a></div><div class="post_share"><div class="social-share" data-image="https://s1.ax1x.com/2022/04/11/LZizLV.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i> 打赏<div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="https://z3.ax1x.com/2021/01/19/sgZ5y6.jpg" rel="external nofollow noreferrer" target="_blank"><img class="post-qr-code-img" src="https://z3.ax1x.com/2021/01/19/sgZ5y6.jpg" alt="微信"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="https://z3.ax1x.com/2021/01/19/sgZIOK.jpg" rel="external nofollow noreferrer" target="_blank"><img class="post-qr-code-img" src="https://z3.ax1x.com/2021/01/19/sgZIOK.jpg" alt="支付宝"/></a><div class="post-qr-code-desc">支付宝</div></li></ul></div></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2022/04/06/docker_base/"><img class="prev-cover" src="https://s1.ax1x.com/2022/04/17/LN48AK.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Docker 基础篇</div></div></a></div><div class="next-post pull-right"><a href="/2022/04/01/html_css/"><img class="next-cover" src="https://s1.ax1x.com/2022/04/11/LZixs0.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">HTML &amp; CSS</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span> 相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2022/04/01/html_css/" title="HTML & CSS"><img class="cover" src="https://s1.ax1x.com/2022/04/11/LZixs0.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-04-01</div><div class="title">HTML & CSS</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div class="vcomment" id="vcomment"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-info-avatar is-center"><img class="avatar-img" src="https://z3.ax1x.com/2021/03/10/6JSyoq.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-info__name">李星泽</div><div class="author-info__description"></div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">48</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">标签</div><div class="length-num">56</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">分类</div><div class="length-num">18</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/lxingze"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://blog.csdn.net/m0_49960764" rel="external nofollow noreferrer" target="_blank" title="CSDN"><i class="iconfont icon-csdn"></i></a><a class="social-icon" href="https://s4.ax1x.com/2021/12/24/TtV4Xt.png" rel="external nofollow noreferrer" target="_blank" title="微信公众号"><i class="iconfont icon-weixin"></i></a><a class="social-icon" href="https://space.bilibili.com/113291922?from=search&amp;seid=3526734520747213504&amp;spm_id_from=333.337.0.0" rel="external nofollow noreferrer" target="_blank" title="bilibili"><i class="iconfont icon-bilibili-copy"></i></a><a class="social-icon" href="mailto:lixingzee@gmail.com" rel="external nofollow noreferrer" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">如果你有更多想了解的内容，欢迎关注我的个人公众号：<b>生信技术</b> <br> <img src="https://s4.ax1x.com/2021/12/29/TcEUvq.gif"> <br> <br></div><timing></timing></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#NOTE-JS"><span class="toc-number">1.</span> <span class="toc-text">NOTE_JS</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.1.</span> <span class="toc-text">介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9E%E6%88%98"><span class="toc-number">1.2.</span> <span class="toc-text">实战</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#JS%E7%AE%80%E4%BB%8B"><span class="toc-number">2.</span> <span class="toc-text">JS简介</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1%E3%80%81%E4%BB%80%E4%B9%88%E6%98%AF%E8%AF%AD%E8%A8%80"><span class="toc-number">2.1.</span> <span class="toc-text">1、什么是语言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2%E3%80%81JS%E8%B5%B7%E6%BA%90"><span class="toc-number">2.2.</span> <span class="toc-text">2、JS起源</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3%E3%80%81JS%E7%AE%80%E5%8F%B2"><span class="toc-number">2.3.</span> <span class="toc-text">3、JS简史</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4%E3%80%81%E5%AE%9E%E7%8E%B0"><span class="toc-number">2.4.</span> <span class="toc-text">4、实现</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5%E3%80%81%E5%AD%A6%E4%B9%A0%E5%86%85%E5%AE%B9"><span class="toc-number">2.5.</span> <span class="toc-text">5、学习内容</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6%E3%80%81JS%E7%9A%84%E7%89%B9%E7%82%B9"><span class="toc-number">2.6.</span> <span class="toc-text">6、JS的特点</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7%E3%80%81HelloWorld"><span class="toc-number">2.7.</span> <span class="toc-text">7、HelloWorld</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8E%A7%E5%88%B6%E6%B5%8F%E8%A7%88%E5%99%A8%E5%BC%B9%E5%87%BA%E4%B8%80%E4%B8%AA%E8%AD%A6%E5%91%8A%E6%A1%86"><span class="toc-number">2.7.1.</span> <span class="toc-text">控制浏览器弹出一个警告框</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%A9%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9C%A8%E9%A1%B5%E9%9D%A2%E4%B8%AD%E8%BE%93%E5%87%BA%E4%B8%80%E4%B8%AA%E5%86%85%E5%AE%B9"><span class="toc-number">2.7.2.</span> <span class="toc-text">让计算机在页面中输出一个内容</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%91%E6%8E%A7%E5%88%B6%E5%8F%B0%E8%BE%93%E5%87%BA%E4%B8%80%E4%B8%AA%E5%86%85%E5%AE%B9"><span class="toc-number">2.7.3.</span> <span class="toc-text">向控制台输出一个内容</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#JS%E5%9F%BA%E7%A1%80"><span class="toc-number">3.</span> <span class="toc-text">JS基础</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1%E3%80%81JS%E7%BC%96%E5%86%99%E4%BD%8D%E7%BD%AE"><span class="toc-number">3.1.</span> <span class="toc-text">1、JS编写位置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2%E3%80%81JS%E6%B3%A8%E9%87%8A"><span class="toc-number">3.2.</span> <span class="toc-text">2、JS注释</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E8%A1%8C%E6%B3%A8%E9%87%8A"><span class="toc-number">3.2.1.</span> <span class="toc-text">多行注释</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%95%E8%A1%8C%E6%B3%A8%E9%87%8A"><span class="toc-number">3.2.2.</span> <span class="toc-text">单行注释</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3%E3%80%81%E6%B3%A8%E6%84%8F%E7%82%B9"><span class="toc-number">3.3.</span> <span class="toc-text">3、注意点</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4%E3%80%81%E5%AD%97%E9%9D%A2%E9%87%8F%E4%B8%8E%E5%8F%98%E9%87%8F"><span class="toc-number">3.4.</span> <span class="toc-text">4、字面量与变量</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E9%9D%A2%E9%87%8F"><span class="toc-number">3.4.1.</span> <span class="toc-text">字面量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%98%E9%87%8F"><span class="toc-number">3.4.2.</span> <span class="toc-text">变量</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5%E3%80%81%E6%A0%87%E8%AF%86%E7%AC%A6"><span class="toc-number">3.5.</span> <span class="toc-text">5、标识符</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E9%94%AE%E5%AD%97"><span class="toc-number">3.5.1.</span> <span class="toc-text">关键字</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%9D%E7%95%99%E5%AD%97"><span class="toc-number">3.5.2.</span> <span class="toc-text">保留字</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E4%B8%8D%E5%BB%BA%E8%AE%AE%E4%BD%BF%E7%94%A8%E7%9A%84%E6%A0%87%E8%AF%86%E7%AC%A6"><span class="toc-number">3.5.3.</span> <span class="toc-text">其他不建议使用的标识符</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6%E3%80%81%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">3.6.</span> <span class="toc-text">6、数据类型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#String%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">3.6.1.</span> <span class="toc-text">String字符串</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Number%E6%95%B0%E5%80%BC"><span class="toc-number">3.6.2.</span> <span class="toc-text">Number数值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Boolean%E5%B8%83%E5%B0%94%E5%80%BC"><span class="toc-number">3.6.3.</span> <span class="toc-text">Boolean布尔值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Null"><span class="toc-number">3.6.4.</span> <span class="toc-text">Null</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Undefined"><span class="toc-number">3.6.5.</span> <span class="toc-text">Undefined</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7%E3%80%81%E5%BC%BA%E5%88%B6%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2"><span class="toc-number">3.7.</span> <span class="toc-text">7、强制类型转换</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#7-1%E3%80%81%E5%85%B6%E4%BB%96%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2%E4%B8%BAString"><span class="toc-number">3.7.1.</span> <span class="toc-text">7.1、其他数据类型转换为String</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E5%BC%8F%E4%B8%80%EF%BC%9A%E8%B0%83%E7%94%A8%E8%A2%AB%E8%BD%AC%E6%8D%A2%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E7%9A%84toString-%E6%96%B9%E6%B3%95"><span class="toc-number">3.7.1.1.</span> <span class="toc-text">方式一：调用被转换数据类型的toString()方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E5%BC%8F%E4%BA%8C%EF%BC%9A%E8%B0%83%E7%94%A8String-%E5%87%BD%E6%95%B0%EF%BC%8C%E5%B9%B6%E5%B0%86%E8%A2%AB%E8%BD%AC%E6%8D%A2%E7%9A%84%E6%95%B0%E6%8D%AE%E4%BD%9C%E4%B8%BA%E5%8F%82%E6%95%B0%E4%BC%A0%E9%80%92%E7%BB%99%E5%87%BD%E6%95%B0"><span class="toc-number">3.7.1.2.</span> <span class="toc-text">方式二：调用String()函数，并将被转换的数据作为参数传递给函数</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-2%E3%80%81%E5%85%B6%E4%BB%96%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2%E4%B8%BANumber"><span class="toc-number">3.7.2.</span> <span class="toc-text">7.2、其他数据类型转换为Number</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E5%BC%8F%E4%B8%80%EF%BC%9A%E4%BD%BF%E7%94%A8Number-%E5%87%BD%E6%95%B0"><span class="toc-number">3.7.2.1.</span> <span class="toc-text">方式一：使用Number()函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E5%BC%8F%E4%BA%8C%EF%BC%9A%E4%B8%93%E9%97%A8%E7%94%A8%E6%9D%A5%E5%AF%B9%E4%BB%98%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">3.7.2.2.</span> <span class="toc-text">方式二：专门用来对付字符串</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-3%E3%80%81%E5%85%B6%E4%BB%96%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2%E4%B8%BABoolean"><span class="toc-number">3.7.3.</span> <span class="toc-text">7.3、其他数据类型转换为Boolean</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E5%BC%8F%E4%B8%80%EF%BC%9A%E4%BD%BF%E7%94%A8Boolean-%E5%87%BD%E6%95%B0"><span class="toc-number">3.7.3.1.</span> <span class="toc-text">方式一：使用Boolean()函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E5%BC%8F%E4%BA%8C%EF%BC%9A%E9%9A%90%E5%BC%8F%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2"><span class="toc-number">3.7.3.2.</span> <span class="toc-text">方式二：隐式类型转换</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8%E3%80%81%E8%A1%A5%E5%85%85"><span class="toc-number">3.8.</span> <span class="toc-text">8、补充</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#JS%E8%BF%90%E7%AE%97"><span class="toc-number">4.</span> <span class="toc-text">JS运算</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1%E3%80%81%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">4.1.</span> <span class="toc-text">1、运算符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2%E3%80%81%E7%AE%97%E6%95%B0%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">4.2.</span> <span class="toc-text">2、算数运算符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3%E3%80%81%E4%B8%80%E5%85%83%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">4.3.</span> <span class="toc-text">3、一元运算符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4%E3%80%81%E8%87%AA%E5%A2%9E%E5%92%8C%E8%87%AA%E5%87%8F"><span class="toc-number">4.4.</span> <span class="toc-text">4、自增和自减</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E5%A2%9E"><span class="toc-number">4.4.1.</span> <span class="toc-text">自增++</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E5%87%8F%E2%80%93"><span class="toc-number">4.4.2.</span> <span class="toc-text">自减–</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5%E3%80%81%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">4.5.</span> <span class="toc-text">5、逻辑运算符</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9D%9E%E8%BF%90%E7%AE%97"><span class="toc-number">4.5.1.</span> <span class="toc-text">非运算</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8E%E8%BF%90%E7%AE%97"><span class="toc-number">4.5.2.</span> <span class="toc-text">与运算</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%88%96%E8%BF%90%E7%AE%97"><span class="toc-number">4.5.3.</span> <span class="toc-text">或运算</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E3%80%81-%E9%9D%9E%E5%B8%83%E5%B0%94%E5%80%BC%E7%9A%84%E6%83%85%E5%86%B5"><span class="toc-number">4.5.4.</span> <span class="toc-text">&amp;&amp;、|| 非布尔值的情况</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6%E3%80%81%E8%B5%8B%E5%80%BC%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">4.6.</span> <span class="toc-text">6、赋值运算符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7%E3%80%81%E5%85%B3%E7%B3%BB%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">4.7.</span> <span class="toc-text">7、关系运算符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8%E3%80%81%E7%9B%B8%E7%AD%89%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">4.8.</span> <span class="toc-text">8、相等运算符</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9B%B8%E7%AD%89"><span class="toc-number">4.8.1.</span> <span class="toc-text">&#x3D;&#x3D; 相等</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8D%E6%83%B3%E7%AD%89"><span class="toc-number">4.8.2.</span> <span class="toc-text">!&#x3D; 不想等</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%A8%E7%AD%89"><span class="toc-number">4.8.3.</span> <span class="toc-text">&#x3D;&#x3D;&#x3D; 全等</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8D%E5%85%A8%E7%AD%89"><span class="toc-number">4.8.4.</span> <span class="toc-text">!&#x3D;&#x3D;不全等</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9%E3%80%81%E6%9D%A1%E4%BB%B6%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">4.9.</span> <span class="toc-text">9、条件运算符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10%E3%80%81%E8%BF%90%E7%AE%97%E7%AC%A6%E4%BC%98%E5%85%88%E7%BA%A7"><span class="toc-number">4.10.</span> <span class="toc-text">10、运算符优先级</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A1%A5%E5%85%85%EF%BC%9AUnicode%E7%BC%96%E7%A0%81%E8%A1%A8"><span class="toc-number">4.11.</span> <span class="toc-text">补充：Unicode编码表</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6"><span class="toc-number">5.</span> <span class="toc-text">流程控制</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1%E3%80%81%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5"><span class="toc-number">5.1.</span> <span class="toc-text">1、流程控制语句</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2%E3%80%81%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD%E8%AF%AD%E5%8F%A5"><span class="toc-number">5.2.</span> <span class="toc-text">2、条件判断语句</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#if-%E8%AF%AD%E5%8F%A5"><span class="toc-number">5.2.1.</span> <span class="toc-text">if 语句</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#switch-%E8%AF%AD%E5%8F%A5"><span class="toc-number">5.2.2.</span> <span class="toc-text">switch 语句</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#while-%E8%AF%AD%E5%8F%A5"><span class="toc-number">5.2.3.</span> <span class="toc-text">while 语句</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#do-while-%E8%AF%AD%E5%8F%A5"><span class="toc-number">5.2.4.</span> <span class="toc-text">do-while 语句</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#for-%E8%AF%AD%E5%8F%A5"><span class="toc-number">5.2.5.</span> <span class="toc-text">for 语句</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#break%E5%92%8Ccontinue"><span class="toc-number">5.2.6.</span> <span class="toc-text">break和continue</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1"><span class="toc-number">6.</span> <span class="toc-text">对象</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1%E3%80%81Object-%E5%AF%B9%E8%B1%A1"><span class="toc-number">6.1.</span> <span class="toc-text">1、Object 对象</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2%E3%80%81%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%88%86%E7%B1%BB"><span class="toc-number">6.2.</span> <span class="toc-text">2、对象的分类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1%E3%80%81%E5%86%85%E5%BB%BA%E5%AF%B9%E8%B1%A1"><span class="toc-number">6.2.1.</span> <span class="toc-text">2.1、内建对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2%E3%80%81%E5%AE%BF%E4%B8%BB%E5%AF%B9%E8%B1%A1"><span class="toc-number">6.2.2.</span> <span class="toc-text">2.2、宿主对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3%E3%80%81%E8%87%AA%E5%AE%9A%E4%B9%89%E5%AF%B9%E8%B1%A1"><span class="toc-number">6.2.3.</span> <span class="toc-text">2.3、自定义对象</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B1%9E%E6%80%A7%E5%90%8D"><span class="toc-number">6.2.3.1.</span> <span class="toc-text">属性名</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B1%9E%E6%80%A7%E5%80%BC"><span class="toc-number">6.2.3.2.</span> <span class="toc-text">属性值</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3%E3%80%81%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E5%92%8C%E5%BC%95%E7%94%A8%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">6.3.</span> <span class="toc-text">3、基本数据类型和引用数据类型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">6.3.1.</span> <span class="toc-text">基本数据类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%95%E7%94%A8%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">6.3.2.</span> <span class="toc-text">引用数据类型</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4%E3%80%81%E5%AF%B9%E8%B1%A1%E5%AD%97%E9%9D%A2%E9%87%8F"><span class="toc-number">6.4.</span> <span class="toc-text">4、对象字面量</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5%E3%80%81%E6%96%B9%E6%B3%95"><span class="toc-number">6.5.</span> <span class="toc-text">5、方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6%E3%80%81%E6%9E%9A%E4%B8%BE%E5%AF%B9%E8%B1%A1%E4%B8%AD%E7%9A%84%E5%B1%9E%E6%80%A7"><span class="toc-number">6.6.</span> <span class="toc-text">6、枚举对象中的属性</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%87%BD%E6%95%B0"><span class="toc-number">7.</span> <span class="toc-text">函数</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1%E3%80%81%E5%87%BD%E6%95%B0%E7%9A%84%E7%AE%80%E4%BB%8B"><span class="toc-number">7.1.</span> <span class="toc-text">1、函数的简介</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E5%87%BD%E6%95%B0%E5%A3%B0%E6%98%8E%E6%9D%A5%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E5%87%BD%E6%95%B0"><span class="toc-number">7.1.1.</span> <span class="toc-text">使用函数声明来创建一个函数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2%E3%80%81%E5%87%BD%E6%95%B0%E7%9A%84%E5%8F%82%E6%95%B0"><span class="toc-number">7.2.</span> <span class="toc-text">2、函数的参数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3%E3%80%81%E5%87%BD%E6%95%B0%E7%9A%84%E8%BF%94%E5%9B%9E%E5%80%BC"><span class="toc-number">7.3.</span> <span class="toc-text">3、函数的返回值</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4%E3%80%81%E7%AB%8B%E5%8D%B3%E6%89%A7%E8%A1%8C%E5%87%BD%E6%95%B0"><span class="toc-number">7.4.</span> <span class="toc-text">4、立即执行函数</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="toc-number">8.</span> <span class="toc-text">作用域</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1%E3%80%81%E5%85%A8%E5%B1%80%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="toc-number">8.1.</span> <span class="toc-text">1、全局作用域</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1%E3%80%81%E5%8F%98%E9%87%8F%E7%9A%84%E5%A3%B0%E6%98%8E%E6%8F%90%E5%89%8D"><span class="toc-number">8.1.1.</span> <span class="toc-text">1.1、变量的声明提前</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2%E3%80%81%E5%87%BD%E6%95%B0%E7%9A%84%E5%A3%B0%E6%98%8E%E6%8F%90%E5%89%8D"><span class="toc-number">8.1.2.</span> <span class="toc-text">1.2、函数的声明提前</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2%E3%80%81%E5%87%BD%E6%95%B0%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="toc-number">8.2.</span> <span class="toc-text">2、函数作用域</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3%E3%80%81this"><span class="toc-number">8.3.</span> <span class="toc-text">3、this</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E4%B8%8E%E5%8E%9F%E5%9E%8B%E5%AF%B9%E8%B1%A1"><span class="toc-number">9.</span> <span class="toc-text">构造函数与原型对象</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1%E3%80%81%E4%BD%BF%E7%94%A8%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95%E5%88%9B%E5%BB%BA%E5%AF%B9%E8%B1%A1"><span class="toc-number">9.1.</span> <span class="toc-text">1、使用工厂方法创建对象</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2%E3%80%81%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0"><span class="toc-number">9.2.</span> <span class="toc-text">2、构造函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E7%9A%84%E6%89%A7%E8%A1%8C%E6%B5%81%E7%A8%8B"><span class="toc-number">9.2.1.</span> <span class="toc-text">构造函数的执行流程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E4%BF%AE%E6%94%B9"><span class="toc-number">9.2.2.</span> <span class="toc-text">构造函数修改</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3%E3%80%81%E5%8E%9F%E5%9E%8B%E5%AF%B9%E8%B1%A1"><span class="toc-number">9.3.</span> <span class="toc-text">3、原型对象</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8E%9F%E5%9E%8Bprototype"><span class="toc-number">9.3.1.</span> <span class="toc-text">原型prototype</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#hasOwnProperty"><span class="toc-number">9.3.2.</span> <span class="toc-text">hasOwnProperty</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8E%9F%E5%9E%8B%E7%9A%84%E5%8E%9F%E5%9E%8B"><span class="toc-number">9.3.3.</span> <span class="toc-text">原型的原型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#toString"><span class="toc-number">9.3.4.</span> <span class="toc-text">toString</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4%E3%80%81%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%EF%BC%88GC%EF%BC%89"><span class="toc-number">9.4.</span> <span class="toc-text">4、垃圾回收（ＧＣ）</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B0%E7%BB%84"><span class="toc-number">10.</span> <span class="toc-text">数组</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1%E3%80%81%E6%95%B0%E7%BB%84%E7%AE%80%E4%BB%8B"><span class="toc-number">10.1.</span> <span class="toc-text">1、数组简介</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%91%E6%95%B0%E7%BB%84%E4%B8%AD%E6%B7%BB%E5%8A%A0%E5%85%83%E7%B4%A0"><span class="toc-number">10.1.1.</span> <span class="toc-text">向数组中添加元素</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%BB%E5%8F%96%E6%95%B0%E7%BB%84%E4%B8%AD%E7%9A%84%E5%85%83%E7%B4%A0"><span class="toc-number">10.1.2.</span> <span class="toc-text">读取数组中的元素</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E6%95%B0%E7%BB%84%E7%9A%84%E9%95%BF%E5%BA%A6"><span class="toc-number">10.1.3.</span> <span class="toc-text">获取数组的长度</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E6%95%B0%E7%BB%84%E7%9A%84%E9%95%BF%E5%BA%A6"><span class="toc-number">10.1.4.</span> <span class="toc-text">修改数组的长度</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%91%E6%95%B0%E7%BB%84%E6%9C%80%E5%90%8E%E4%B8%80%E4%BD%8D%E6%B7%BB%E5%8A%A0%E5%85%83%E7%B4%A0"><span class="toc-number">10.1.5.</span> <span class="toc-text">向数组最后一位添加元素</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2%E3%80%81%E5%88%9B%E5%BB%BA%E6%95%B0%E7%BB%84%E7%9A%84%E6%96%B9%E5%BC%8F"><span class="toc-number">10.2.</span> <span class="toc-text">2、创建数组的方式</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E5%AD%97%E9%9D%A2%E9%87%8F%E5%88%9B%E5%BB%BA%E6%95%B0%E7%BB%84"><span class="toc-number">10.2.1.</span> <span class="toc-text">使用字面量创建数组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E5%88%9B%E5%BB%BA%E6%95%B0%E7%BB%84"><span class="toc-number">10.2.2.</span> <span class="toc-text">使用构造函数创建数组</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3%E3%80%81%E6%95%B0%E7%BB%84%E5%85%83%E7%B4%A0%E7%B1%BB%E5%9E%8B"><span class="toc-number">10.3.</span> <span class="toc-text">3、数组元素类型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%BB%E6%84%8F%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">10.3.1.</span> <span class="toc-text">任意的数据类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1-2"><span class="toc-number">10.3.2.</span> <span class="toc-text">对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0-2"><span class="toc-number">10.3.3.</span> <span class="toc-text">函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E7%BB%84-2"><span class="toc-number">10.3.4.</span> <span class="toc-text">数组</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4%E3%80%81%E6%95%B0%E7%BB%84%E7%9A%84%E6%96%B9%E6%B3%95"><span class="toc-number">10.4.</span> <span class="toc-text">4、数组的方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#push"><span class="toc-number">10.4.1.</span> <span class="toc-text">push()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#pop"><span class="toc-number">10.4.2.</span> <span class="toc-text">pop()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#unshift"><span class="toc-number">10.4.3.</span> <span class="toc-text">unshift()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#shift"><span class="toc-number">10.4.4.</span> <span class="toc-text">shift()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#slice"><span class="toc-number">10.4.5.</span> <span class="toc-text">slice()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#splice"><span class="toc-number">10.4.6.</span> <span class="toc-text">splice()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#concat"><span class="toc-number">10.4.7.</span> <span class="toc-text">concat()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#join"><span class="toc-number">10.4.8.</span> <span class="toc-text">join()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#reverse"><span class="toc-number">10.4.9.</span> <span class="toc-text">reverse()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#sort"><span class="toc-number">10.4.10.</span> <span class="toc-text">sort()</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5%E3%80%81%E6%95%B0%E7%BB%84%E9%81%8D%E5%8E%86"><span class="toc-number">10.5.</span> <span class="toc-text">5、数组遍历</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%99%AE%E9%80%9Afor%E5%BE%AA%E7%8E%AF"><span class="toc-number">10.5.1.</span> <span class="toc-text">普通for循环</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#forEach%E6%96%B9%E6%B3%95"><span class="toc-number">10.5.2.</span> <span class="toc-text">forEach方法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%83%E4%B9%A0"><span class="toc-number">10.6.</span> <span class="toc-text">练习</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E7%BB%84%E5%8E%BB%E9%87%8D"><span class="toc-number">10.6.1.</span> <span class="toc-text">数组去重</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#call%E3%80%81apply%E5%92%8Cargument"><span class="toc-number">11.</span> <span class="toc-text">call、apply和argument</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#call-%E5%92%8Capply"><span class="toc-number">11.1.</span> <span class="toc-text">call()和apply()</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#this%E7%9A%84%E6%83%85%E5%86%B5"><span class="toc-number">11.2.</span> <span class="toc-text">this的情况</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#argument"><span class="toc-number">11.3.</span> <span class="toc-text">argument</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Date%E5%92%8CMath"><span class="toc-number">12.</span> <span class="toc-text">Date和Math</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1%E3%80%81Date"><span class="toc-number">12.1.</span> <span class="toc-text">1、Date</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E6%97%B6%E9%97%B4%E5%AF%B9%E8%B1%A1"><span class="toc-number">12.1.1.</span> <span class="toc-text">创建一个时间对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E6%8C%87%E5%AE%9A%E7%9A%84%E6%97%B6%E9%97%B4%E5%AF%B9%E8%B1%A1"><span class="toc-number">12.1.2.</span> <span class="toc-text">创建一个指定的时间对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Date%E6%96%B9%E6%B3%95"><span class="toc-number">12.1.3.</span> <span class="toc-text">Date方法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#getDate"><span class="toc-number">12.1.3.1.</span> <span class="toc-text">getDate()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#getDay"><span class="toc-number">12.1.3.2.</span> <span class="toc-text">getDay()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#getMonth"><span class="toc-number">12.1.3.3.</span> <span class="toc-text">getMonth()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#getFullYear"><span class="toc-number">12.1.3.4.</span> <span class="toc-text">getFullYear()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#getTime"><span class="toc-number">12.1.3.5.</span> <span class="toc-text">getTime()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B6%E4%BB%96"><span class="toc-number">12.1.3.6.</span> <span class="toc-text">其他</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2%E3%80%81Math"><span class="toc-number">12.2.</span> <span class="toc-text">2、Math</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Math%E5%AF%B9%E8%B1%A1%E5%B1%9E%E6%80%A7"><span class="toc-number">12.2.1.</span> <span class="toc-text">Math对象属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Math%E5%AF%B9%E8%B1%A1%E6%96%B9%E6%B3%95"><span class="toc-number">12.2.2.</span> <span class="toc-text">Math对象方法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Math-abs"><span class="toc-number">12.2.2.1.</span> <span class="toc-text">Math.abs()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Math-ceil"><span class="toc-number">12.2.2.2.</span> <span class="toc-text">Math.ceil()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Math-floor"><span class="toc-number">12.2.2.3.</span> <span class="toc-text">Math.floor()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Math-round"><span class="toc-number">12.2.2.4.</span> <span class="toc-text">Math.round()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Math-random"><span class="toc-number">12.2.2.5.</span> <span class="toc-text">Math.random()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Math-max"><span class="toc-number">12.2.2.6.</span> <span class="toc-text">Math.max()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Math-min"><span class="toc-number">12.2.2.7.</span> <span class="toc-text">Math.min()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Math-pow"><span class="toc-number">12.2.2.8.</span> <span class="toc-text">Math.pow()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Math-sqrt"><span class="toc-number">12.2.2.9.</span> <span class="toc-text">Math.sqrt()</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8C%85%E8%A3%85%E7%B1%BB%E5%92%8C%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">13.</span> <span class="toc-text">包装类和字符串</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1%E3%80%81%E4%B8%89%E5%A4%A7%E5%8C%85%E8%A3%85%E7%B1%BB"><span class="toc-number">13.1.</span> <span class="toc-text">1、三大包装类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2%E3%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%96%B9%E6%B3%95"><span class="toc-number">13.2.</span> <span class="toc-text">2、字符串方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#length%E5%B1%9E%E6%80%A7"><span class="toc-number">13.2.1.</span> <span class="toc-text">length属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#charAt"><span class="toc-number">13.2.2.</span> <span class="toc-text">charAt()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#charCodeAt"><span class="toc-number">13.2.3.</span> <span class="toc-text">charCodeAt()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#String-formCharCode"><span class="toc-number">13.2.4.</span> <span class="toc-text">String.formCharCode()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#concat-2"><span class="toc-number">13.2.5.</span> <span class="toc-text">concat()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#indexof"><span class="toc-number">13.2.6.</span> <span class="toc-text">indexof()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#lastIndexof"><span class="toc-number">13.2.7.</span> <span class="toc-text">lastIndexof()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#slice-2"><span class="toc-number">13.2.8.</span> <span class="toc-text">slice()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#substring"><span class="toc-number">13.2.9.</span> <span class="toc-text">substring()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#substr"><span class="toc-number">13.2.10.</span> <span class="toc-text">substr()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#split"><span class="toc-number">13.2.11.</span> <span class="toc-text">split()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#toUpperCase"><span class="toc-number">13.2.12.</span> <span class="toc-text">toUpperCase()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#toLowerCase"><span class="toc-number">13.2.13.</span> <span class="toc-text">toLowerCase()</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">14.</span> <span class="toc-text">正则表达式</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1%E3%80%81%E6%AD%A3%E5%88%99%E5%AF%B9%E8%B1%A1"><span class="toc-number">14.1.</span> <span class="toc-text">1、正则对象</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2%E3%80%81%E6%AD%A3%E5%88%99%E6%96%B9%E6%B3%95"><span class="toc-number">14.2.</span> <span class="toc-text">2、正则方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3%E3%80%81%E6%AD%A3%E5%88%99%E8%AF%AD%E6%B3%95"><span class="toc-number">14.3.</span> <span class="toc-text">3、正则语法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%87%8F%E8%AF%8D"><span class="toc-number">14.3.1.</span> <span class="toc-text">量词</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%83%E5%AD%97%E7%AC%A6"><span class="toc-number">14.3.2.</span> <span class="toc-text">元字符</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4%E3%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%92%8C%E6%AD%A3%E5%88%99%E7%9B%B8%E5%85%B3%E7%9A%84%E6%96%B9%E6%B3%95"><span class="toc-number">14.4.</span> <span class="toc-text">4、字符串和正则相关的方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#split-2"><span class="toc-number">14.4.1.</span> <span class="toc-text">split()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#search"><span class="toc-number">14.4.2.</span> <span class="toc-text">search()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#match"><span class="toc-number">14.4.3.</span> <span class="toc-text">match()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#replace"><span class="toc-number">14.4.4.</span> <span class="toc-text">replace()</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5%E3%80%81%E9%82%AE%E4%BB%B6%E6%AD%A3%E5%88%99"><span class="toc-number">14.5.</span> <span class="toc-text">5、邮件正则</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%99%84%E5%BD%95%EF%BC%9A%E5%B8%B8%E7%94%A8%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F-1"><span class="toc-number">14.6.</span> <span class="toc-text">附录：常用正则表达式[^1]</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%A1%E9%AA%8C%E6%95%B0%E5%AD%97%E7%9A%84%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">14.6.1.</span> <span class="toc-text">校验数字的表达式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%A1%E9%AA%8C%E5%AD%97%E7%AC%A6%E7%9A%84%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">14.6.2.</span> <span class="toc-text">校验字符的表达式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%89%B9%E6%AE%8A%E9%9C%80%E6%B1%82%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">14.6.3.</span> <span class="toc-text">特殊需求表达式</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#DOM"><span class="toc-number">15.</span> <span class="toc-text">DOM</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1%E3%80%81DOM%E7%AE%80%E4%BB%8B"><span class="toc-number">15.1.</span> <span class="toc-text">1、DOM简介</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E6%A1%A3"><span class="toc-number">15.1.1.</span> <span class="toc-text">文档</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1-3"><span class="toc-number">15.1.2.</span> <span class="toc-text">对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A8%A1%E5%9E%8B"><span class="toc-number">15.1.3.</span> <span class="toc-text">模型</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2%E3%80%81%E8%8A%82%E7%82%B9"><span class="toc-number">15.2.</span> <span class="toc-text">2、节点</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%8A%82%E7%82%B9%E7%B1%BB%E5%9E%8B"><span class="toc-number">15.2.1.</span> <span class="toc-text">节点类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%8A%82%E7%82%B9%E5%B1%9E%E6%80%A7"><span class="toc-number">15.2.2.</span> <span class="toc-text">节点属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E6%A1%A3%E8%8A%82%E7%82%B9%EF%BC%88Document%EF%BC%89"><span class="toc-number">15.2.3.</span> <span class="toc-text">文档节点（Document）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%83%E7%B4%A0%E8%8A%82%E7%82%B9%EF%BC%88Element%EF%BC%89"><span class="toc-number">15.2.4.</span> <span class="toc-text">元素节点（Element）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E6%9C%AC%E8%8A%82%E7%82%B9%EF%BC%88Text%EF%BC%89"><span class="toc-number">15.2.5.</span> <span class="toc-text">文本节点（Text）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B1%9E%E6%80%A7%E8%8A%82%E7%82%B9%EF%BC%88Attr%EF%BC%89"><span class="toc-number">15.2.6.</span> <span class="toc-text">属性节点（Attr）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3%E3%80%81%E4%BA%8B%E4%BB%B6"><span class="toc-number">15.3.</span> <span class="toc-text">3、事件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4%E3%80%81%E6%96%87%E6%A1%A3%E7%9A%84%E5%8A%A0%E8%BD%BD"><span class="toc-number">15.4.</span> <span class="toc-text">4、文档的加载</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5%E3%80%81DOM%E6%9F%A5%E8%AF%A2"><span class="toc-number">15.5.</span> <span class="toc-text">5、DOM查询</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E5%85%83%E7%B4%A0%E8%8A%82%E7%82%B9"><span class="toc-number">15.5.1.</span> <span class="toc-text">获取元素节点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E5%85%83%E7%B4%A0%E8%8A%82%E7%82%B9%E7%9A%84%E5%AD%90%E8%8A%82%E7%82%B9"><span class="toc-number">15.5.2.</span> <span class="toc-text">获取元素节点的子节点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E7%88%B6%E8%8A%82%E7%82%B9%E5%92%8C%E5%85%84%E5%BC%9F%E8%8A%82%E7%82%B9"><span class="toc-number">15.5.3.</span> <span class="toc-text">获取父节点和兄弟节点</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6%E3%80%81%E5%85%A8%E9%80%89%E7%BB%83%E4%B9%A0"><span class="toc-number">15.6.</span> <span class="toc-text">6、全选练习</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%A8%E9%80%89"><span class="toc-number">15.6.1.</span> <span class="toc-text">全选</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%A8%E4%B8%8D%E9%80%89"><span class="toc-number">15.6.2.</span> <span class="toc-text">全不选</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%8D%E9%80%89"><span class="toc-number">15.6.3.</span> <span class="toc-text">反选</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8F%90%E4%BA%A4"><span class="toc-number">15.6.4.</span> <span class="toc-text">提交</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%A8%E9%80%89-%E5%85%A8%E4%B8%8D%E9%80%89"><span class="toc-number">15.6.5.</span> <span class="toc-text">全选&#x2F;全不选</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#items"><span class="toc-number">15.6.6.</span> <span class="toc-text">items</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7%E3%80%81DOM%E6%9F%A5%E8%AF%A2%E7%9A%84%E5%89%A9%E4%BD%99%E6%96%B9%E6%B3%95"><span class="toc-number">15.7.</span> <span class="toc-text">7、DOM查询的剩余方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#document-body"><span class="toc-number">15.7.1.</span> <span class="toc-text">document.body</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#document-documentElement"><span class="toc-number">15.7.2.</span> <span class="toc-text">document.documentElement</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#document-all"><span class="toc-number">15.7.3.</span> <span class="toc-text">document.all</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#document-getElementsByClassName"><span class="toc-number">15.7.4.</span> <span class="toc-text">document.getElementsByClassName()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#document-querySelector"><span class="toc-number">15.7.5.</span> <span class="toc-text">document.querySelector()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#document-querySelectorAll"><span class="toc-number">15.7.6.</span> <span class="toc-text">document.querySelectorAll()</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8%E3%80%81DOM%E5%A2%9E%E5%88%A0%E6%94%B9"><span class="toc-number">15.8.</span> <span class="toc-text">8、DOM增删改</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#document-createElement"><span class="toc-number">15.8.1.</span> <span class="toc-text">document.createElement()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#document-createTextNode"><span class="toc-number">15.8.2.</span> <span class="toc-text">document.createTextNode()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#appendChild"><span class="toc-number">15.8.3.</span> <span class="toc-text">appendChild()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#insertBefore"><span class="toc-number">15.8.4.</span> <span class="toc-text">insertBefore()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#replaceChild"><span class="toc-number">15.8.5.</span> <span class="toc-text">replaceChild()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#removeChild"><span class="toc-number">15.8.6.</span> <span class="toc-text">removeChild()</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9%E3%80%81%E5%A2%9E%E5%88%A0%E7%BB%83%E4%B9%A0"><span class="toc-number">15.9.</span> <span class="toc-text">9、增删练习</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#a%E7%9A%84%E7%B4%A2%E5%BC%95%E9%97%AE%E9%A2%98"><span class="toc-number">15.9.1.</span> <span class="toc-text">a的索引问题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10%E3%80%81%E6%93%8D%E4%BD%9C%E5%86%85%E8%81%94%E6%A0%B7%E5%BC%8F"><span class="toc-number">15.10.</span> <span class="toc-text">10、操作内联样式</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E5%85%83%E7%B4%A0%E5%86%85%E8%81%94%E6%A0%B7%E5%BC%8F"><span class="toc-number">15.10.1.</span> <span class="toc-text">修改元素内联样式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%BB%E5%8F%96%E5%85%83%E7%B4%A0%E5%86%85%E8%81%94%E6%A0%B7%E5%BC%8F"><span class="toc-number">15.10.2.</span> <span class="toc-text">读取元素内联样式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%BB%E5%8F%96%E5%85%83%E7%B4%A0%E6%A0%B7%E5%BC%8F"><span class="toc-number">15.10.3.</span> <span class="toc-text">读取元素样式</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11%E3%80%81%E5%85%B6%E4%BB%96%E6%A0%B7%E5%BC%8F%E7%9B%B8%E5%85%B3%E7%9A%84%E5%B1%9E%E6%80%A7"><span class="toc-number">15.11.</span> <span class="toc-text">11、其他样式相关的属性</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#clientWidth%E3%80%81clientHeight"><span class="toc-number">15.11.1.</span> <span class="toc-text">clientWidth、clientHeight</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#offsetWidth%E3%80%81offsetHeight"><span class="toc-number">15.11.2.</span> <span class="toc-text">offsetWidth、offsetHeight</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#offsetParent"><span class="toc-number">15.11.3.</span> <span class="toc-text">offsetParent</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#offsetLeft%E3%80%81offsetTop"><span class="toc-number">15.11.4.</span> <span class="toc-text">offsetLeft、offsetTop</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#scrollHeight%E3%80%81scrollWidth"><span class="toc-number">15.11.5.</span> <span class="toc-text">scrollHeight、scrollWidth</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#scrollLeft%E3%80%81scrollTop"><span class="toc-number">15.11.6.</span> <span class="toc-text">scrollLeft、scrollTop</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%8B%E4%BB%B6%E5%AF%B9%E8%B1%A1"><span class="toc-number">16.</span> <span class="toc-text">事件对象</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1%E3%80%81%E4%BA%8B%E4%BB%B6%E5%AF%B9%E8%B1%A1"><span class="toc-number">16.1.</span> <span class="toc-text">1、事件对象</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8B%E4%BB%B6%E5%AF%B9%E8%B1%A1-2"><span class="toc-number">16.1.1.</span> <span class="toc-text">事件对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8B%E4%BB%B6%E5%B1%9E%E6%80%A7"><span class="toc-number">16.1.2.</span> <span class="toc-text">事件属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%BC%A0%E6%A0%87-%E9%94%AE%E7%9B%98%E5%B1%9E%E6%80%A7"><span class="toc-number">16.1.3.</span> <span class="toc-text">鼠标&#x2F;键盘属性</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2%E3%80%81%E4%BA%8B%E4%BB%B6%E7%9A%84%E5%86%92%E6%B3%A1%EF%BC%88Bubble%EF%BC%89"><span class="toc-number">16.2.</span> <span class="toc-text">2、事件的冒泡（Bubble）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3%E3%80%81%E4%BA%8B%E4%BB%B6%E7%9A%84%E5%A7%94%E6%B4%BE%EF%BC%88Delegate%EF%BC%89"><span class="toc-number">16.3.</span> <span class="toc-text">3、事件的委派（Delegate）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4%E3%80%81%E4%BA%8B%E4%BB%B6%E7%9A%84%E7%BB%91%E5%AE%9A%EF%BC%88Bind%EF%BC%89"><span class="toc-number">16.4.</span> <span class="toc-text">4、事件的绑定（Bind）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#on%E4%BA%8B%E4%BB%B6%E5%90%8D"><span class="toc-number">16.4.1.</span> <span class="toc-text">on事件名</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#addEventListener"><span class="toc-number">16.4.2.</span> <span class="toc-text">addEventListener()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#attachEvent"><span class="toc-number">16.4.3.</span> <span class="toc-text">attachEvent()</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5%E3%80%81%E4%BA%8B%E4%BB%B6%E7%9A%84%E4%BC%A0%E6%92%AD"><span class="toc-number">16.5.</span> <span class="toc-text">5、事件的传播</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6%E3%80%81%E6%8B%96%E6%8B%BD"><span class="toc-number">16.6.</span> <span class="toc-text">6、拖拽</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8B%96%E6%8B%BD%E7%9A%84%E6%B5%81%E7%A8%8B"><span class="toc-number">16.6.1.</span> <span class="toc-text">拖拽的流程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#setCapture"><span class="toc-number">16.6.2.</span> <span class="toc-text">setCapture()</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%BB%9A%E8%BD%AE%E4%BA%8B%E4%BB%B6%E4%B8%8E%E9%94%AE%E7%9B%98%E4%BA%8B%E4%BB%B6"><span class="toc-number">17.</span> <span class="toc-text">滚轮事件与键盘事件</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1%E3%80%81%E6%BB%9A%E8%BD%AE%E4%BA%8B%E4%BB%B6"><span class="toc-number">17.1.</span> <span class="toc-text">1、滚轮事件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#onmousewheel%E3%80%81DOMMouseScroll"><span class="toc-number">17.1.1.</span> <span class="toc-text">onmousewheel、DOMMouseScroll</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#event-wheelDelta%E3%80%81event-detail"><span class="toc-number">17.1.2.</span> <span class="toc-text">event.wheelDelta、event.detail</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#return-false%E3%80%81event-preventDefault"><span class="toc-number">17.1.3.</span> <span class="toc-text">return false、event.preventDefault()</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2%E3%80%81%E9%94%AE%E7%9B%98%E4%BA%8B%E4%BB%B6"><span class="toc-number">17.2.</span> <span class="toc-text">2、键盘事件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#onkeydown%E3%80%81onkeyup"><span class="toc-number">17.2.1.</span> <span class="toc-text">onkeydown、onkeyup</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%94%AE%E7%9B%98%E4%BA%8B%E4%BB%B6%E5%B1%9E%E6%80%A7"><span class="toc-number">17.2.2.</span> <span class="toc-text">键盘事件属性</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#BOM"><span class="toc-number">18.</span> <span class="toc-text">BOM</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1%E3%80%81BOM"><span class="toc-number">18.1.</span> <span class="toc-text">1、BOM</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Window"><span class="toc-number">18.1.1.</span> <span class="toc-text">Window</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Navigator"><span class="toc-number">18.1.2.</span> <span class="toc-text">Navigator</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Location"><span class="toc-number">18.1.3.</span> <span class="toc-text">Location</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#History"><span class="toc-number">18.1.4.</span> <span class="toc-text">History</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Screen"><span class="toc-number">18.1.5.</span> <span class="toc-text">Screen</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2%E3%80%81Navigator"><span class="toc-number">18.2.</span> <span class="toc-text">2、Navigator</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3%E3%80%81Location"><span class="toc-number">18.3.</span> <span class="toc-text">3、Location</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#length"><span class="toc-number">18.3.1.</span> <span class="toc-text">length</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#back"><span class="toc-number">18.3.2.</span> <span class="toc-text">back()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#forward"><span class="toc-number">18.3.3.</span> <span class="toc-text">forward()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#go"><span class="toc-number">18.3.4.</span> <span class="toc-text">go()</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4%E3%80%81Location"><span class="toc-number">18.4.</span> <span class="toc-text">4、Location</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#assign"><span class="toc-number">18.4.1.</span> <span class="toc-text">assign()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#replace-2"><span class="toc-number">18.4.2.</span> <span class="toc-text">replace()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#reload"><span class="toc-number">18.4.3.</span> <span class="toc-text">reload()</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AE%9A%E6%97%B6%E8%B0%83%E7%94%A8%E4%B8%8E%E5%BB%B6%E6%97%B6%E8%B0%83%E7%94%A8"><span class="toc-number">19.</span> <span class="toc-text">定时调用与延时调用</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1%E3%80%81%E5%AE%9A%E6%97%B6%E8%B0%83%E7%94%A8"><span class="toc-number">19.1.</span> <span class="toc-text">1、定时调用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#setInterval"><span class="toc-number">19.1.1.</span> <span class="toc-text">setInterval()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#clearInterval"><span class="toc-number">19.1.2.</span> <span class="toc-text">clearInterval()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%83%E4%B9%A01%EF%BC%9A%E5%AE%9A%E6%97%B6%E5%9B%BE%E7%89%87%E5%88%87%E6%8D%A2"><span class="toc-number">19.1.3.</span> <span class="toc-text">&lt;练习1：定时图片切换&gt;</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%83%E4%B9%A02%EF%BC%9Adiv%E7%A7%BB%E5%8A%A8%E4%BC%98%E5%8C%96"><span class="toc-number">19.1.4.</span> <span class="toc-text">&lt;练习2：div移动优化&gt;</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2%E3%80%81%E5%BB%B6%E6%97%B6%E8%B0%83%E7%94%A8"><span class="toc-number">19.2.</span> <span class="toc-text">2、延时调用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#setTimeout-%E3%80%81clearTimeout"><span class="toc-number">19.2.1.</span> <span class="toc-text">setTimeout()、clearTimeout()</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3%E3%80%81%E5%AE%9A%E6%97%B6%E5%99%A8%E7%9A%84%E5%BA%94%E7%94%A8%EF%BC%88%E4%B8%80%EF%BC%89"><span class="toc-number">19.3.</span> <span class="toc-text">3、定时器的应用（一）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%83%E4%B9%A0%EF%BC%9A%E7%82%B9%E5%87%BB%E6%8C%89%E9%92%AEdiv%E7%A7%BB%E5%8A%A8"><span class="toc-number">19.3.1.</span> <span class="toc-text">&lt;练习：点击按钮div移动&gt;</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BC%98%E5%8C%961%EF%BC%9A%E5%B0%81%E8%A3%85%E7%A7%BB%E5%8A%A8%E6%96%B9%E6%B3%95"><span class="toc-number">19.3.2.</span> <span class="toc-text">优化1：封装移动方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BC%98%E5%8C%962%EF%BC%9A%E6%99%BA%E8%83%BD%E5%88%A4%E6%96%AD%E6%96%B9%E5%90%91"><span class="toc-number">19.3.3.</span> <span class="toc-text">优化2：智能判断方向</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BC%98%E5%8C%963%EF%BC%9A%E6%B6%88%E9%99%A4%E5%A4%9A%E4%B8%AAdiv%E5%BD%B1%E5%93%8D"><span class="toc-number">19.3.4.</span> <span class="toc-text">优化3：消除多个div影响</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BC%98%E5%8C%964%EF%BC%9A%E6%94%AF%E6%8C%81%E5%A4%9A%E5%B1%9E%E6%80%A7"><span class="toc-number">19.3.5.</span> <span class="toc-text">优化4：支持多属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BC%98%E5%8C%965%EF%BC%9A%E6%B7%BB%E5%8A%A0%E5%9B%9E%E8%B0%83%E5%87%BD%E6%95%B0"><span class="toc-number">19.3.6.</span> <span class="toc-text">优化5：添加回调函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BC%98%E5%8C%966%EF%BC%9A%E5%B0%81%E8%A3%85JS%E6%96%87%E4%BB%B6"><span class="toc-number">19.3.7.</span> <span class="toc-text">优化6：封装JS文件</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4%E3%80%81%E5%AE%9A%E6%97%B6%E5%99%A8%E5%BA%94%E7%94%A8%EF%BC%88%E4%BA%8C%EF%BC%89"><span class="toc-number">19.4.</span> <span class="toc-text">4、定时器应用（二）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%83%E4%B9%A0%EF%BC%9A%E8%BD%AE%E6%92%AD%E5%9B%BE"><span class="toc-number">19.4.1.</span> <span class="toc-text">&lt;练习：轮播图&gt;</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5%E3%80%81%E7%B1%BB%E7%9A%84%E6%93%8D%E4%BD%9C"><span class="toc-number">19.5.</span> <span class="toc-text">5、类的操作</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9class%E5%B1%9E%E6%80%A7"><span class="toc-number">19.5.1.</span> <span class="toc-text">修改class属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0class%E5%B1%9E%E6%80%A7"><span class="toc-number">19.5.2.</span> <span class="toc-text">添加class属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4class%E5%B1%9E%E6%80%A7"><span class="toc-number">19.5.3.</span> <span class="toc-text">删除class属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%87%E6%8D%A2class%E5%B1%9E%E6%80%A7"><span class="toc-number">19.5.4.</span> <span class="toc-text">切换class属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%83%E4%B9%A0%EF%BC%9A%E4%BA%8C%E7%BA%A7%E8%8F%9C%E5%8D%95"><span class="toc-number">19.5.5.</span> <span class="toc-text">&lt;练习：二级菜单&gt;</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#JSON"><span class="toc-number">20.</span> <span class="toc-text">JSON</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#JSON%E7%AE%80%E4%BB%8B"><span class="toc-number">20.1.</span> <span class="toc-text">JSON简介</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JSON%E5%88%86%E7%B1%BB"><span class="toc-number">20.2.</span> <span class="toc-text">JSON分类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JSON%E4%B8%AD%E5%85%81%E8%AE%B8%E7%9A%84%E5%80%BC"><span class="toc-number">20.3.</span> <span class="toc-text">JSON中允许的值</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JSON%E5%92%8CJS%E9%97%B4%E8%BD%AC%E6%8D%A2"><span class="toc-number">20.4.</span> <span class="toc-text">JSON和JS间转换</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#JSON-parse"><span class="toc-number">20.4.1.</span> <span class="toc-text">JSON.parse()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#JSON-stringify"><span class="toc-number">20.4.2.</span> <span class="toc-text">JSON.stringify()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#eval"><span class="toc-number">20.4.3.</span> <span class="toc-text">eval()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%BC%E5%AE%B9IE7"><span class="toc-number">20.4.4.</span> <span class="toc-text">兼容IE7</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2023/04/05/Ks/" title="使用Ks方法进行全基因组复制事件研究"><img src="https://s1.ax1x.com/2023/04/05/ppISLKf.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="使用Ks方法进行全基因组复制事件研究"/></a><div class="content"><a class="title" href="/2023/04/05/Ks/" title="使用Ks方法进行全基因组复制事件研究">使用Ks方法进行全基因组复制事件研究</a><time datetime="2023-04-05T11:00:00.000Z" title="发表于 2023-04-05 19:00:00">2023-04-05</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/04/07/docker_advanced/" title="Docker 进阶篇"><img src="https://s1.ax1x.com/2022/04/17/LN4GtO.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Docker 进阶篇"/></a><div class="content"><a class="title" href="/2022/04/07/docker_advanced/" title="Docker 进阶篇">Docker 进阶篇</a><time datetime="2022-04-07T14:19:09.000Z" title="发表于 2022-04-07 22:19:09">2022-04-07</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/04/06/docker_base/" title="Docker 基础篇"><img src="https://s1.ax1x.com/2022/04/17/LN48AK.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Docker 基础篇"/></a><div class="content"><a class="title" href="/2022/04/06/docker_base/" title="Docker 基础篇">Docker 基础篇</a><time datetime="2022-04-06T14:19:09.000Z" title="发表于 2022-04-06 22:19:09">2022-04-06</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/04/02/JavaScript/" title="JavaScript"><img src="https://s1.ax1x.com/2022/04/11/LZizLV.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="JavaScript"/></a><div class="content"><a class="title" href="/2022/04/02/JavaScript/" title="JavaScript">JavaScript</a><time datetime="2022-04-02T14:19:09.000Z" title="发表于 2022-04-02 22:19:09">2022-04-02</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/04/01/html_css/" title="HTML &amp; CSS"><img src="https://s1.ax1x.com/2022/04/11/LZixs0.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="HTML &amp; CSS"/></a><div class="content"><a class="title" href="/2022/04/01/html_css/" title="HTML &amp; CSS">HTML &amp; CSS</a><time datetime="2022-04-01T14:19:09.000Z" title="发表于 2022-04-01 22:19:09">2022-04-01</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023&nbsp;<i style="color:#FF6A6A;animation: announ_animation 0.8s linear infinite;"class="fas fa-heart"></i> By 李星泽</div></div><div class="container" id="jsi-flying-fish-container"><script src="/js/fish.js"></script></div><style>   @media only screen and (max-width: 767px){
   #sidebar_search_box input[type=text]{width:calc(100% - 24px)}
}</style></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div></div><hr/><div id="local-search-results"></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/medium-zoom/dist/medium-zoom.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>function loadValine () {
  function initValine () {
    let initData = {
      el: '#vcomment',
      appId: '',
      appKey: '',
      placeholder: 'Please leave your footprints',
      avatar: 'monsterid',
      meta: 'nick,mail,link'.split(','),
      pageSize: '10',
      lang: 'en',
      recordIP: false,
      serverURLs: '',
      emojiCDN: '',
      emojiMaps: "",
      enableQQ: false,
      path: window.location.pathname,
    }

    if (true) { 
      initData.requiredFields= ('nick,mail'.split(','))
    }
    
    if (false) {
      const otherData = false
      initData = Object.assign(initData, otherData)
    }
    
    const valine = new Valine(initData)
  }

  if (typeof Valine === 'function') initValine() 
  else getScript('https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js').then(initValine)
}

if ('Valine' === 'Valine' || !true) {
  if (true) btf.loadComment(document.getElementById('vcomment'),loadValine)
  else setTimeout(loadValine, 0)
} else {
  function loadOtherComment () {
    loadValine()
  }
}</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><script src="/js/jquery.min.js"></script><script src="/js/fish.js"></script><script src="/js/timing.js"></script><script async src="https://cdn.jsdelivr.net/npm/aplayer"></script><script async src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><div class="aplayer no-destroy" data-id="000PeZCQ1i4XVs" data-server="tencent" data-type="artist" data-fixed="true" data-mini="true" data-listFolded="false" data-order="random" data-preload="none" data-autoplay="flase data-lrctype="3" " muted></div><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-fluttering-ribbon.min.js"></script><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-nest.min.js"></script><script>(function(i,s,o,g,r,a,m){i["DaoVoiceObject"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset="utf-8";m.parentNode.insertBefore(a,m)})(window,document,"script",('https:' == document.location.protocol ? 'https:' : 'http:') + "//widget.daovoice.io/widget/f84bbafb.js","daovoice")
</script><script>var isChatBtn = false
daovoice('init', {
  app_id: 'f84bbafb',},{
  launcher: { 
     disableLauncherIcon: isChatBtn // 悬浮 ICON 是否显示
  },
});
daovoice('update');

if (isChatBtn) {
  var chatBtnFn = () => {
    var chatBtn = document.getElementById("chat_btn")
    chatBtn.addEventListener("click", function(){
      daovoice('show')
    });
  }
  chatBtnFn()
} else {
  if (false) {
    function chatBtnHide () {
      daovoice('update', {},{
        launcher: { 
        disableLauncherIcon: true // 悬浮 ICON 是否显示
        },
      });
    }
    function chatBtnShow () {
      daovoice('update', {},{
        launcher: { 
        disableLauncherIcon: false // 悬浮 ICON 是否显示
        },
      });
    }
  }
}</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/gh/metowolf/MetingJS@1.2/dist/Meting.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors = [
  'title',
  '#config_change',
  '#body-wrap',
  '#rightside-config-hide',
  '#rightside-config-show',
  '.js-pjax'
]

if (false) {
  pjaxSelectors.unshift('meta[property="og:image"]', 'meta[property="og:title"]', 'meta[property="og:url"]')
}

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: true,
  scrollRestoration: false
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  if (typeof gtag === 'function') {
    gtag('config', 'G-QRG4NL4207', {'page_path': window.location.pathname});
  }

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // Analytics
  if (false) {
    MtaH5.pgv()
  }

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()

  typeof preloader === 'object' && preloader.endLoading()
})


document.addEventListener('pjax:send', function () {
  typeof preloader === 'object' && preloader.initLoading()
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

})</script><script>(function(){
  const bp = document.createElement('script');
  const curProtocol = window.location.protocol.split(':')[0];
  if (curProtocol === 'https') {
    bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
  }
  else{
    bp.src = 'http://push.zhanzhang.baidu.com/push.js';
  }
  bp.dataset.pjax = ''
  const s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(bp, s);
})()</script></div></body></html>